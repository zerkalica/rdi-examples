{"version":3,"file":"app.js","sources":["../../rollupPluginBabelHelpers","../../node_modules/rollup-plugin-node-globals/src/global.js","../../node_modules/lom_atom/rollupPluginBabelHelpers","../../node_modules/lom_atom/src/interfaces.js","../../node_modules/lom_atom/src/utils.js","../../node_modules/lom_atom/src/conform.js","../../node_modules/lom_atom/src/Atom.js","../../node_modules/lom_atom/src/decorators/action.js","../../node_modules/lom_atom/src/Context.js","../../node_modules/lom_atom/src/decorators/detached.js","../../node_modules/lom_atom/src/decorators/mem.js","../../node_modules/lom_atom/src/ConsoleLogger.js","../../node_modules/reactive-di/rollupPluginBabelHelpers","../../node_modules/reactive-di/src/interfaces.js","../../node_modules/reactive-di/src/SheetManager.js","../../node_modules/reactive-di/src/theme.js","../../node_modules/reactive-di/src/Injector.js","../../node_modules/reactive-di/src/createReactWrapper.js","../../node_modules/reactive-di/src/createCreateElement.js","../../node_modules/reactive-di/src/cloneComponent.js","../../node_modules/reactive-di/src/props.js","../../node_modules/preact/src/vnode.js","../../node_modules/preact/src/options.js","../../node_modules/preact/src/h.js","../../node_modules/preact/src/util.js","../../node_modules/preact/src/clone-element.js","../../node_modules/preact/src/constants.js","../../node_modules/preact/src/render-queue.js","../../node_modules/preact/src/vdom/index.js","../../node_modules/preact/src/dom/index.js","../../node_modules/preact/src/vdom/diff.js","../../node_modules/preact/src/vdom/component-recycler.js","../../node_modules/preact/src/vdom/component.js","../../node_modules/preact/src/component.js","../../node_modules/preact/src/render.js","../../node_modules/preact/devtools/devtools.js","../../node_modules/jss/lib/utils/getDynamicStyles.js","../../node_modules/jss/lib/SheetsRegistry.js","../../node_modules/warning/browser.js","../../node_modules/jss/lib/SheetsManager.js","../../node_modules/jss/lib/utils/toCssValue.js","../../node_modules/jss/lib/utils/toCss.js","../../node_modules/jss/lib/rules/StyleRule.js","../../node_modules/symbol-observable/lib/ponyfill.js","../../node_modules/symbol-observable/lib/index.js","../../node_modules/symbol-observable/index.js","../../node_modules/jss/lib/utils/isObservable.js","../../node_modules/jss/lib/utils/cloneStyle.js","../../node_modules/jss/lib/utils/createRule.js","../../node_modules/jss/lib/utils/linkRule.js","../../node_modules/jss/lib/utils/global.js","../../node_modules/jss/lib/utils/escape.js","../../node_modules/jss/lib/RuleList.js","../../node_modules/jss/lib/sheets.js","../../node_modules/jss/lib/StyleSheet.js","../../node_modules/jss/lib/utils/createGenerateClassName.js","../../node_modules/is-in-browser/dist/module.js","../../node_modules/jss/lib/PluginsRegistry.js","../../node_modules/jss/lib/rules/SimpleRule.js","../../node_modules/jss/lib/rules/KeyframesRule.js","../../node_modules/jss/lib/rules/ConditionalRule.js","../../node_modules/jss/lib/rules/FontFaceRule.js","../../node_modules/jss/lib/rules/ViewportRule.js","../../node_modules/jss/lib/plugins/rules.js","../../node_modules/jss/lib/plugins/observables.js","../../node_modules/jss/lib/utils/kebabCase.js","../../node_modules/jss/lib/plugins/functions.js","../../node_modules/jss/lib/renderers/DomRenderer.js","../../node_modules/jss/lib/renderers/VirtualRenderer.js","../../node_modules/jss/lib/Jss.js","../../node_modules/jss/lib/index.js","../../node_modules/jss-camel-case/lib/index.js","../../node_modules/jss-global/lib/index.js","../../node_modules/jss-nested/lib/index.js","../../src/examples/common-todomvc.js","../../node_modules/glob-to-regexp/index.js","../../node_modules/isarray/index.js","../../node_modules/path-to-regexp/index.js","../../node_modules/fetch-mock/es5/compile-route.js","../../node_modules/fetch-mock/es5/fetch-mock.js","../../node_modules/fetch-mock/es5/status-text.js","../../node_modules/fetch-mock/es5/client.js","../../src/examples/common.js","../../src/fetcher/timeoutPromise.js","../../src/fetcher/HttpError.js","../../src/fetcher/FetcherResponse.js","../../src/fetcher/Fetcher.js","../../src/examples/setupReact.js","../../src/examples/counter.js","../../src/examples/hello.js","../../src/examples/todomvc/todoMocks.js","../../src/examples/todomvc/models/Todo.js","../../src/examples/todomvc/models/TodoRepository.js","../../src/examples/todomvc/TodoHeaderView.js","../../src/examples/todomvc/TodoItemView.js","../../src/examples/todomvc/TodoMainView.js","../../src/examples/todomvc/TodoFooterView.js","../../src/examples/todomvc/TodoAppView.js","../../src/examples/autocomplete.js","../../src/examples/cssChange.js","../../src/examples/index.js"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","// @flow\n\nexport type ILoggerStatus = 'waiting' | 'proposeToReap' | 'proposeToPull'\n\nexport interface ILogger {\n    beginGroup(name: string): void;\n    endGroup(): void;\n\n    /**\n     * After atom destructor\n     */\n    onDestruct<V>(atom: IAtom<V>): void;\n\n    /**\n     * Error while actualizing atom\n     */\n    error<V>(atom: IAtom<V>, err: Error): void;\n\n    /**\n     * Atom value changed\n     */\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void;\n}\n\nexport interface IContext {\n    current: ?IAtomInt;\n    destroyHost(atom: IAtomInt): void;\n    newValue<V>(t: IAtom<V>, from?: V | Error, to: V | Error): void;\n    setLogger(logger: ILogger): void;\n    proposeToPull(atom: IAtomInt): void;\n    proposeToReap(atom: IAtomInt): void;\n    unreap(atom: IAtomInt): void;\n    beginTransaction(namespace: string): string;\n    endTransaction(oldNamespace: string): void;\n}\n\nexport const ATOM_STATUS_DESTROYED: 0 = 0\nexport const ATOM_STATUS_OBSOLETE: 1 = 1\nexport const ATOM_STATUS_CHECKING: 2 = 2\nexport const ATOM_STATUS_PULLING: 3 = 3\nexport const ATOM_STATUS_ACTUAL: 4 = 4\nexport const ATOM_STATUS_DEEP_RESET: 5 = 5\n\nexport type IAtomStatus = typeof ATOM_STATUS_OBSOLETE\n    | typeof ATOM_STATUS_CHECKING | typeof ATOM_STATUS_PULLING | typeof ATOM_STATUS_ACTUAL\n    | typeof ATOM_STATUS_DEEP_RESET | typeof ATOM_STATUS_DESTROYED\n\nexport const ATOM_FORCE_NONE: 0 = 0\nexport const ATOM_FORCE_CACHE: 1 = 1\nexport const ATOM_FORCE_ASYNC: 2 = 2\nexport const ATOM_FORCE_RETRY: 3 = 3\n\nexport type IAtomForce = typeof ATOM_FORCE_NONE | typeof ATOM_FORCE_CACHE | typeof ATOM_FORCE_ASYNC | typeof ATOM_FORCE_RETRY\n\nexport interface IAtom<V> {\n    status: IAtomStatus;\n    current: V | Error;\n    +field: string;\n    +displayName: string;\n    value(v?: V | Error, forceCache?: IAtomForce): V;\n    refresh(): void;\n    destructor(): void;\n    getRetry(): () => void;\n}\n\nexport interface IAtomInt extends IAtom<*> {\n    isComponent: boolean;\n    manualReset: boolean;\n\n    key: mixed | void;\n    owner: IAtomOwner;\n    actualize(): void;\n    check(): void;\n    obsolete(): void;\n    dislead(slave: IAtomInt): void;\n    addMaster(master: IAtomInt): void;\n}\n\nexport type IAtomHandler<V, K> = (key: K, next?: V | Error) => V\n    | (next?: V | Error) => V\n\nexport interface IAtomOwner {\n    displayName?: string;\n    [key: string]: IAtomHandler<*, *>;\n}\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n","// @flow\n\nimport {ATOM_FORCE_CACHE} from './interfaces'\nimport type {IAtom} from './interfaces'\n\nexport const catchedId = Symbol('lom_cached')\nexport class AtomWait extends Error {\n    constructor(message?: string = 'Wait...') {\n        super(message)\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        ;(this: Object)[catchedId] = true\n    }\n}\n\nexport function getId(t: Object, hk: string): string {\n    return `${t.constructor.displayName || t.constructor.name}.${hk}`\n}\n\nexport function setFunctionName(fn: Function, name: string) {\n    Object.defineProperty(fn, 'name', {value: name, writable: false})\n    fn.displayName = name\n}\n\nexport const scheduleNative: (handler: () => void) => number = typeof requestAnimationFrame === 'function'\n    ? (handler: () => void) => requestAnimationFrame(handler)\n    : (handler: () => void) => setTimeout(handler, 16)\n\n\nexport const origId = Symbol('lom_error_orig')\nconst throwOnAccess = {\n    get<V: Object>(target: Error, key: string): V {\n        if (key === origId) return (target: Object).valueOf()\n        throw target.valueOf()\n    },\n    ownKeys(target: Error): string[] {\n        throw target.valueOf()\n    }\n}\n\n\nexport function proxify<V>(v: V): V {\n    return (new Proxy(v, (throwOnAccess: any)): any)\n}\n","// @flow\n\nexport const handlers: Map<mixed, Function> = new Map([\n    [\n        Array,\n        function arrayHandler<Target: mixed[], Source: mixed[]>(target: Target, source: Source, stack: mixed[]) {\n            let equal = target.length === source.length\n\n            for(let i = 0; i < target.length; ++i) {\n                const conformed = target[i] = conform(target[i], source[i], false, stack)\n                if (equal && conformed !== source[i]) equal = false\n            }\n\n            return equal ? source : target\n        }\n    ],\n    [\n        Object,\n        function objectHandler<Target: Object, Source: Object>(target: Target, source: Source, stack: mixed[]) {\n            let count = 0\n            let equal = true\n\n            for (let key in target) {\n                const conformed = target[key] = conform(target[key], source[key], false, stack)\n                if (equal && conformed !== source[key]) equal = false\n                ++count\n            }\n\n            for (let key in source) if (--count < 0) break\n\n            return (equal && count === 0) ? source : target\n        }\n    ],\n    [\n        Date,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.getTime() === source.getTime() ? source : target\n        }\n    ],\n    [\n        RegExp,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.toString() === source.toString() ? source : target\n        }\n    ]\n])\n\nconst processed: WeakMap<Object, boolean> = new WeakMap()\n\nexport default function conform<Target, Source>(\n    target: Target,\n    source: Source,\n    isComponent: boolean,\n    stack: mixed[] = []\n): Target {\n    if (target === source) return (source: any)\n\n    if (\n        isComponent\n        || !target || typeof target !== 'object'\n        || !source || typeof source !== 'object'\n        || target instanceof Error\n        || source instanceof Error\n        || target.constructor !== source.constructor\n        || processed.has(target)\n    ) return target\n    processed.set(target, true)\n\n    const conformHandler = handlers.get(target.constructor)\n    if (!conformHandler) return target\n\n    if (stack.indexOf(target) !== -1) return target\n    stack.push(target)\n    const res = conformHandler(target, source, stack)\n    stack.pop()\n\n    return res\n}\n","// @flow\n\nimport {\n    ATOM_FORCE_NONE, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC,\n    ATOM_STATUS_DESTROYED,\n    ATOM_STATUS_DEEP_RESET,\n    ATOM_STATUS_OBSOLETE, ATOM_STATUS_CHECKING, ATOM_STATUS_PULLING, ATOM_STATUS_ACTUAL\n} from './interfaces'\n\nimport type {\n    IAtomForce,\n    IAtom,\n    IAtomInt,\n    IAtomStatus,\n    IContext,\n    IAtomHandler,\n    IAtomOwner\n} from './interfaces'\n\nimport {AtomWait, setFunctionName, origId, catchedId, proxify} from './utils'\nimport conform from './conform'\n\nfunction checkSlave(slave: IAtomInt) {\n    slave.check()\n}\n\nfunction obsoleteSlave(slave: IAtomInt) {\n    slave.obsolete()\n}\n\nfunction deleteSlave(master: IAtomInt) {\n    master.dislead((this: IAtomInt))\n}\n\nfunction actualizeMaster(master: IAtomInt) {\n    if ((this: IAtom<*>).status === ATOM_STATUS_CHECKING) {\n        master.actualize()\n    }\n}\n\nexport default class Atom<V> implements IAtom<V>, IAtomInt {\n    status: IAtomStatus\n    field: string\n    owner: IAtomOwner\n\n    current: V | Error\n    _next: V | Error | void\n    _suggested: V | Error | void\n\n    key: mixed | void\n    isComponent: boolean\n\n    _masters: ?Set<IAtomInt> = null\n    _slaves: ?Set<IAtomInt> = null\n    _context: IContext\n    _hostAtoms: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>>\n    _keyHash: string | void\n\n    manualReset: boolean\n\n    constructor(\n        field: string,\n        owner: IAtomOwner,\n        context: IContext,\n        hostAtoms: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>>,\n        manualReset?: boolean,\n        key?: mixed,\n        keyHash?: string,\n        isComponent?: boolean\n    ) {\n        this._keyHash = keyHash\n        this.key = key\n        this.field = field\n        this.owner = owner\n        this.isComponent = isComponent || false\n        this.manualReset = manualReset || false\n        this._context = context\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this._hostAtoms = hostAtoms\n        this.status = ATOM_STATUS_OBSOLETE\n    }\n\n    get displayName(): string {\n        return this.toString()\n    }\n\n    toString() {\n        const k = this.key\n        const owner = this.owner\n        const parent = owner.displayName || owner.constructor.displayName || owner.constructor.name\n\n        return `${String(parent)}.${this.field}`\n            + (k\n                ? ('(' + (typeof k === 'function' ? (k.displayName || k.name) : String(k)) + ')')\n                : ''\n            )\n    }\n\n    toJSON() {\n        return this.current\n    }\n\n    destructor(): void {\n        if (this.status === ATOM_STATUS_DESTROYED) return\n        if (this._masters) {\n            this._masters.forEach(deleteSlave, this)\n        }\n        this._masters = null\n        this._checkSlaves()\n        this._slaves = null\n        this._hostAtoms.delete(((this._keyHash || this.owner): any))\n        this._context.destroyHost(this)\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this.status = ATOM_STATUS_DESTROYED\n        this._hostAtoms = (undefined: any)\n        this.key = undefined\n        this._keyHash = undefined\n        this._retry = undefined\n    }\n\n    value(next?: V | Error, forceCache?: IAtomForce): V {\n        const context = this._context\n        let current: V | Error = this.current\n        if (forceCache === ATOM_FORCE_CACHE) {\n            if (next === undefined) {\n                this._suggested = this._next\n                this._next = undefined\n                this.status = ATOM_STATUS_DEEP_RESET\n                if (this._slaves) this._slaves.forEach(obsoleteSlave)\n            } else {\n                this._push(next)\n            }\n        } else {\n            const slave = context.current\n            if (slave && (!slave.isComponent || !this.isComponent)) {\n                let slaves = this._slaves\n                if (!slaves) {\n                    slaves = this._slaves = new Set()\n                    context.unreap(this)\n                }\n                slaves.add(slave)\n                slave.addMaster(this)\n            }\n\n            let normalized: V | Error\n            if (\n                next !== undefined\n                && (normalized = conform(next, this._suggested, this.isComponent)) !== this._suggested\n                && (\n                    current instanceof Error\n                    || (normalized = conform(next, current, this.isComponent)) !== current\n                )\n            ) {\n                this._suggested = this._next = normalized\n                this.status = ATOM_STATUS_OBSOLETE\n            }\n            this.actualize()\n        }\n        current = this.current\n        if (current instanceof Error) {\n            if (forceCache !== ATOM_FORCE_NONE) return proxify((current: any))\n            throw current\n        }\n\n        return current\n    }\n\n    static deepReset: Set<IAtom<*>> | void = undefined\n\n    actualize(): void {\n        if (this.status === ATOM_STATUS_PULLING) {\n            throw new Error(`Cyclic atom dependency of ${String(this)}`)\n        }\n\n        if (this.status === ATOM_STATUS_CHECKING) {\n            if (this._masters) {\n                this._masters.forEach(actualizeMaster, this)\n            }\n\n            if (this.status === ATOM_STATUS_CHECKING) {\n                this.status = ATOM_STATUS_ACTUAL\n            }\n        }\n\n        const deepReset = Atom.deepReset\n        if (this.status === ATOM_STATUS_DEEP_RESET && !this.isComponent) {\n            Atom.deepReset = deepReset || new Set()\n            this.refresh()\n            Atom.deepReset = deepReset\n        } else if (deepReset !== undefined && !this.manualReset && !deepReset.has(this)) {\n            deepReset.add(this)\n            this.refresh()\n        } else if (this.status !== ATOM_STATUS_ACTUAL) {\n            this.refresh()\n        }\n    }\n\n    _push(nextRaw: V | Error): void {\n        this.status = ATOM_STATUS_ACTUAL\n        const prev = this.current\n        let next: V | Error\n        if (nextRaw instanceof Error) {\n            if ((nextRaw: Object)[origId]) nextRaw = (nextRaw: Object)[origId]\n            next = nextRaw\n        } else {\n            next = conform(nextRaw, prev, this.isComponent)\n            this._suggested = this._next\n            this._next = undefined\n        }\n\n        if (prev !== next) {\n            this.current = next\n            this._context.newValue(this, prev, next)\n            if (this._slaves) this._slaves.forEach(obsoleteSlave)\n        }\n    }\n\n    refresh(): void {\n        const masters = this._masters\n        if (masters) {\n            masters.forEach(deleteSlave, this)\n            this._masters = null\n        }\n\n        let newValue: V | Error\n        this.status = ATOM_STATUS_PULLING\n\n        const context = this._context\n        const slave = context.current\n        context.current = this\n        const f = this.field + '$'\n        const next = this._next\n        try {\n            newValue = this.key === undefined\n                ? (this.owner: any)[f](next)\n                : (this.owner: any)[f](this.key, next)\n        } catch (error) {\n            if (error[catchedId] === undefined) {\n                error[catchedId] = true\n                console.error(error.stack || error)\n            }\n            newValue = error\n        }\n        context.current = slave\n        if (this.status !== ATOM_STATUS_DEEP_RESET) this._push(newValue)\n    }\n\n    dislead(slave: IAtomInt) {\n        const slaves = this._slaves\n        if (slaves) {\n            slaves.delete(slave)\n            if (slaves.size === 0) {\n                this._slaves = null\n                this._context.proposeToReap(this)\n            }\n        }\n    }\n\n    _checkSlaves() {\n        if (this._slaves) {\n            this._slaves.forEach(checkSlave)\n        } else {\n            this._context.proposeToPull(this)\n        }\n    }\n\n    check() {\n        if (this.status === ATOM_STATUS_ACTUAL) {\n            this.status = ATOM_STATUS_CHECKING\n            this._checkSlaves()\n        }\n    }\n\n    obsolete() {\n        if (this.status !== ATOM_STATUS_OBSOLETE) {\n            this.status = ATOM_STATUS_OBSOLETE\n            this._checkSlaves()\n        }\n    }\n\n    addMaster(master: IAtomInt) {\n        if (!this._masters) {\n            this._masters = new Set()\n        }\n        this._masters.add(master)\n    }\n\n    _retry: (() => void) | void\n\n    getRetry(): () => void {\n        if (this._retry === undefined) {\n            const fn = () => this.refresh()\n            setFunctionName(fn, `atom(${this.displayName}).retry()`)\n            this._retry = fn\n        }\n\n        return this._retry\n    }\n}\n","// @flow\n\nimport type {TypedPropertyDescriptor, IContext} from '../interfaces'\nimport {scheduleNative, getId, setFunctionName, AtomWait} from '../utils'\n\ntype Handler = (...args: any[]) => void\n\nfunction fastCallMethod<Host: Object>(host: Host, methodName: string, args: any[]): void {\n    try {\n        switch (args.length) {\n            case 0: return host[methodName]()\n            case 1: return host[methodName](args[0])\n            case 2: return host[methodName](args[0], args[1])\n            case 3: return host[methodName](args[0], args[1], args[2])\n            case 4: return host[methodName](args[0], args[1], args[2], args[3])\n            case 5: return host[methodName](args[0], args[1], args[2], args[3], args[4])\n            default: return host[methodName].apply(host, args)\n        }\n    } catch(e) {\n        if (!(e instanceof AtomWait)) throw e\n    }\n}\n\nfunction action<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>,\n    defer?: boolean\n): TypedPropertyDescriptor<H> {\n    const hk = `${name}$`\n    if (descr.value === undefined) {\n        throw new TypeError(`${getId(host, name)} is not an function (next?: V)`)\n    }\n    host[hk] = descr.value\n    let definingProperty = false\n\n    const actionId = getId(host, name)\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get(): H {\n            if (definingProperty) return this[hk].bind(this)\n\n            const actionFn = defer\n                ? (...args: any[]) => scheduleNative(() => fastCallMethod(this, hk, args))\n                : (...args: any[]) => fastCallMethod(this, hk, args)\n            setFunctionName(actionFn, actionId)\n\n            definingProperty = true\n            Object.defineProperty(this, name, {\n                configurable: true,\n                enumerable: false,\n                value: actionFn\n            })\n            definingProperty = false\n\n            return ((actionFn: any): H)\n        }\n    }\n}\n\nfunction actionDefer<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>\n): TypedPropertyDescriptor<H> {\n    return action(host, name, descr, true)\n}\n\naction.defer = actionDefer\n\ninterface IAction {\n    <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ): TypedPropertyDescriptor<H>;\n    defer: <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ) => TypedPropertyDescriptor<H>;\n}\n\nexport default (action: IAction)\n","// @flow\n\nimport type {\n    IAtomInt,\n    IAtom,\n    IContext,\n    ILogger,\n} from './interfaces'\nimport {ATOM_STATUS_DESTROYED} from './interfaces'\nimport {scheduleNative} from './utils'\n\nfunction reap(atom: IAtomInt, key: IAtomInt, reaping: Set<IAtomInt>) {\n    reaping.delete(atom)\n    if (!atom.slaves) {\n        atom.destructor()\n    }\n}\n\nexport default class Context implements IContext {\n    current: ?IAtomInt = null\n\n    _logger: ILogger | void = undefined\n    _updating: IAtomInt[] = []\n    _reaping: Set<IAtomInt> = new Set()\n    _scheduled = false\n    _namespace: string = '$'\n    _owners: WeakMap<?Object, Object> = new WeakMap()\n\n    _destroyValue<V>(atom: IAtom<V>, from: any) {\n        if (this._owners.get(from) === atom) {\n            try {\n                from.destructor()\n            } catch(e) {\n                console.error(e)\n                if (this._logger) this._logger.error(atom, e)\n            }\n            this._owners.delete(from)\n        }\n    }\n\n    destroyHost(atom: IAtomInt) {\n        this._destroyValue(atom, atom.current)\n        if (this._logger !== undefined) {\n            this._logger.onDestruct(atom)\n        }\n    }\n\n    setLogger(logger: ILogger) {\n        this._logger = logger\n    }\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error) {\n        this._destroyValue(atom, from)\n        if (\n            to\n            && typeof to === 'object'\n            && !(to instanceof Error)\n            && typeof to.destructor === 'function'\n        ) {\n            this._owners.set(to, atom)\n        }\n        const logger = this._logger\n        if (logger !== undefined) {\n            try {\n                // if (!this._scheduled && this._logger !== undefined) {\n                //     this._logger.beginGroup(this._namespace)\n                // }\n                logger.newValue(atom, from, to)\n            } catch (error) {\n                console.error(error)\n                logger.error(atom, error)\n            }\n        }\n    }\n\n    proposeToPull(atom: IAtomInt) {\n        this._updating.push(atom)\n        this._schedule()\n    }\n\n    proposeToReap(atom: IAtomInt) {\n        this._reaping.add(atom)\n        this._schedule()\n    }\n\n    unreap(atom: IAtomInt) {\n        this._reaping.delete(atom)\n    }\n\n    _schedule() {\n        if (!this._scheduled) {\n            scheduleNative(this.__run)\n            this._scheduled = true\n        }\n    }\n\n    __run = () => {\n        if (this._scheduled) {\n            this._scheduled = false\n            this._run()\n        }\n    }\n\n    _start = 0\n\n    _run() {\n        this._schedule()\n        const reaping = this._reaping\n        const updating = this._updating\n        let start = this._start\n        do {\n            const end = updating.length\n\n            for (let i = start; i < end; i++) {\n                this._start = i // save progress, atom.actualize or destroyed can throw exception\n                const atom: IAtomInt = updating[i]\n                if (!reaping.has(atom) && atom.status !== ATOM_STATUS_DESTROYED) {\n                    atom.actualize()\n                }\n            }\n\n            start = end\n        } while (updating.length > start)\n        updating.length = 0\n        this._start = 0\n\n        while (reaping.size > 0) {\n            reaping.forEach(reap)\n        }\n        // if (this._logger !== undefined) {\n        //     this._logger.endGroup()\n        // }\n        this._scheduled = false\n        this._pendCount = 0\n    }\n\n    _pendCount = 0\n\n    beginTransaction(namespace: string): string {\n        const result = this._namespace\n        this._namespace = namespace\n        this._pendCount++\n        return result\n    }\n\n    endTransaction(prev: string) {\n        this._namespace = prev\n        if (this._pendCount === 1) {\n            this._run()\n        } else {\n            this._pendCount--\n        }\n    }\n}\n\nexport const defaultContext = new Context()\n","// @flow\n\nimport {ATOM_STATUS_OBSOLETE} from '../interfaces'\nimport type {IAtom, TypedPropertyDescriptor} from '../interfaces'\nimport Atom from '../Atom'\nimport {defaultContext} from '../Context'\n\nexport default function detached<P: Object, V>(\n    proto: P,\n    name: string,\n    descr: TypedPropertyDescriptor<(force: boolean) => V>\n): TypedPropertyDescriptor<(force: boolean) => V> {\n    proto[`${name}$`] = descr.value\n    const hostAtoms: WeakMap<Object, IAtom<V>> = new WeakMap()\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        value(force: boolean): V {\n            let atom: IAtom<V> | void = hostAtoms.get(this)\n            if (atom === undefined) {\n                atom = new Atom(name, this, defaultContext, hostAtoms, false, undefined, undefined, true)\n                hostAtoms.set(this, atom)\n            }\n            if (force) {\n                atom.status = ATOM_STATUS_OBSOLETE\n            }\n\n            return atom.value()\n        }\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor, IAtom, IAtomForce, IAtomStatus} from '../interfaces'\nimport {ATOM_STATUS_DEEP_RESET, ATOM_FORCE_NONE, ATOM_FORCE_RETRY, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC} from '../interfaces'\nimport {defaultContext} from '../Context'\nimport {getId, setFunctionName} from '../utils'\nimport Atom from '../Atom'\n\nfunction createGetSetHandler<V>(\n    get?: () => V,\n    set?: (v: V) => void\n): (next?: V) => V {\n    return function getSetHandler(next?: V): V {\n        if (next === undefined) {\n            return (get: any).call(this)\n        }\n        ;(set: any).call(this, next)\n        return next\n    }\n}\n\nfunction createValueHandler<V>(initializer?: () => V): (next?: V | Error) => V {\n    return function valueHandler(next?: V | Error): V {\n        return next === undefined && initializer\n            ? initializer.call(this)\n            : (next: any)\n    }\n}\n\nlet forceCache: IAtomForce = ATOM_FORCE_NONE\n\nfunction mem<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<V> {\n    const handlerKey = `${name}$`\n    if (proto[handlerKey] !== undefined) return descr\n\n    const hostAtoms: WeakMap<Object, IAtom<V>> = new WeakMap()\n\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    function value(next?: V): V {\n        let atom: IAtom<V> | void = hostAtoms.get(this)\n        if (atom === undefined) {\n            atom = new Atom(name, this, defaultContext, hostAtoms, deepReset)\n            hostAtoms.set(this, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n    if (descr.value !== undefined) {\n        proto[handlerKey] = descr.value\n        descr.value = value\n        return descr\n    }\n\n    const longName = getId(proto, name)\n    if (descr.initializer) setFunctionName(descr.initializer, longName)\n    if (descr.get) setFunctionName(descr.get, `get#${longName}`)\n    if (descr.set) setFunctionName(descr.set, `set#${longName}`)\n\n    proto[handlerKey] = descr.get === undefined && descr.set === undefined\n        ? createValueHandler(descr.initializer)\n        : createGetSetHandler(descr.get, descr.set)\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get: value,\n        set: (value: Function)\n    }\n}\n\nfunction memManual<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return mem(proto, name, descr, true)\n}\n\nfunction getKeyFromObj(params: Object): string {\n    const keys = Object.keys(params)\n        .sort()\n\n    let result = ''\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        const value = params[key]\n        result += `.${key}:${typeof value === 'object' ? JSON.stringify(value) : value}`\n    }\n\n    return result\n}\n\nfunction getKey(params: any): string {\n    if (!params) return ''\n    if (params instanceof Array) return JSON.stringify(params)\n    if (typeof params === 'object') return getKeyFromObj(params)\n\n    return '' + params\n}\n\nfunction memkey<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<(k: K, next?: V) => V> {\n    const longName = getId(proto, name)\n    const handler = descr.value\n    if (handler === undefined) {\n        throw new TypeError(`${longName} is not an function (rawKey: K, next?: V)`)\n    }\n    proto[`${name}$`] = handler\n    const hostAtoms: WeakMap<Object, Map<string, IAtom<V>>> = new WeakMap()\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    function value(rawKey: K, next?: V): V {\n        let atomMap: Map<string, IAtom<V>> | void = hostAtoms.get(this)\n        if (atomMap === undefined) {\n            atomMap = new Map()\n            hostAtoms.set(this, atomMap)\n        }\n        const key = getKey(rawKey)\n        let atom: IAtom<V> | void = atomMap.get(key)\n        if (atom === undefined) {\n            atom = new Atom(name, this, defaultContext, atomMap, deepReset, rawKey, key)\n            atomMap.set(key, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n\n    descr.value = value\n\n    return descr\n}\n\nfunction memkeyManual<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>\n) {\n    return memkey(proto, name, descr, true)\n}\nmemkey.manual = memkeyManual\n\ntype IDecorator<V> = (proto: Object, name: string, descr: TypedPropertyDescriptor<V>) => TypedPropertyDescriptor<V>;\n\nfunction cache<V>(data: V): V {\n    forceCache = ATOM_FORCE_NONE\n    return data\n}\n\nfunction getRetryResult<V>(atom: IAtom<V>): () => void {\n    forceCache = ATOM_FORCE_NONE\n    return atom.getRetry()\n}\n\nObject.defineProperties(mem, {\n    cache: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_CACHE\n            return cache\n        }\n    }: any),\n    getRetry: ({\n        get<V>(): (v: IAtom<V>) => () => void {\n            forceCache = ATOM_FORCE_RETRY\n            return getRetryResult\n        }\n    }: any),\n    async: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_ASYNC\n            return cache\n        }\n    }: any),\n    manual: { value: memManual },\n    key: { value: memkey }\n})\n\n\ntype IMemKey = {\n    <V, K>(proto: Object, name: string, descr: TypedPropertyDescriptor<(k: K, next?: V) => V>): TypedPropertyDescriptor<(k: K, next?: V) => V>;\n    manual: IDecorator<<V, K>(k: K, next?: V) => V>;\n}\n\ntype IMem = {\n    <V>(proto: Object, name: string, descr: TypedPropertyDescriptor<V>): TypedPropertyDescriptor<V>;\n    manual: IDecorator<*>;\n    cache<V>(v: V): V;\n    async<V>(v: V): V;\n    getRetry<V>(v: V): () => void;\n    key: IMemKey;\n}\nexport default ((mem: any): IMem)\n","// @flow\n\nimport type {IAtom, ILogger} from './interfaces'\nimport {AtomWait} from './utils'\n\nfunction stringToColor(str: string): string {\n    let hash = 0\n    for(let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 3) - hash)\n    }\n    const color = Math.abs(hash).toString(16).substring(0, 6)\n\n    return 'font-weight: bold; color: #' + '000000'.substring(0, 6 - color.length) + color + ';'\n}\n\nexport default class ConsoleLogger implements ILogger {\n    _useColors: boolean\n    _filter: RegExp | void\n\n    constructor(opts?: {\n        filter?: RegExp;\n        useColors?: boolean;\n    }) {\n        this._useColors = opts && opts.useColors !== undefined ? opts.useColors : true\n        this._filter = opts ? opts.filter : undefined\n    }\n\n    beginGroup(name: string) {\n        console.group(name, 'sync')\n    }\n\n    endGroup() {\n        console.groupEnd()\n    }\n\n    onDestruct<V>(atom: IAtom<V>): void {\n        console.debug(atom.displayName, 'destruct')\n    }\n\n    error<V>(atom: IAtom<V>, err: Error): void {}\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void {\n        const name = atom.displayName\n        const filter = this._filter\n        if (filter && !filter.test(name)) return\n        if (atom.isComponent) {\n            console.debug(name, 'rendered')\n        } else {\n            const useColors = this._useColors\n            console[\n                from instanceof Error && !(from instanceof AtomWait)\n                    ? 'warn'\n                    : (to instanceof Error && !(to instanceof AtomWait) ? 'error' : 'log')\n            ](\n                useColors ? '%c' + name : name,\n                useColors ? stringToColor(name) : '',\n                from instanceof Error ? from.message : from,\n                '',\n                to instanceof Error ? to.message : to\n            )\n        }\n    }\n}\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","// @flow\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n\nexport const rdiRendered = Symbol('rdiRendered')\nexport const rdiInst = Symbol('rdiInst')\nexport const rdiProp = Symbol('rdiProp')\n\nexport type IArg = Function | {+[id: string]: Function}\nexport type IProvideItem = Function | Object | [Function | string, Function | mixed]\n\nexport type IPropsWithContext = {\n    [id: string]: any;\n    __lom_ctx?: Object;\n}\n\nexport interface ISheet<V: Object> {\n    attach(): any;\n    classes: {+[id: $Keys<V>]: string};\n}\n\nexport type IProcessor = {\n    createStyleSheet<V: Object>(cssObj: V, options: any): ISheet<V>;\n    removeStyleSheet<V: Object>(sheet: ISheet<V>): void;\n}\n\nexport type IDisposableSheet<V: Object> = {\n    [id: $Keys<V>]: string;\n    destructor?: () => void;\n}\n\nexport interface ISheetManager {\n    sheet<V: Object>(key: string, css: V, memoized: boolean): IDisposableSheet<V>;\n}\n\nexport type IReactComponent<IElement> = {\n    constructor(props: IPropsWithContext, context?: Object): IReactComponent<IElement>;\n    render(): IElement;\n    forceUpdate(): void;\n}\n\nexport type IFromError<IElement> = (props: {error: Error, children: any}, state?: any) => IElement\n\nexport interface IRenderFn<IElement, State> {\n    (props: IPropsWithContext, state?: State): IElement;\n    __lom?: Class<IReactComponent<IElement>>;\n    displayName?: string;\n    deps?: IArg[];\n    onError?: IFromError<IElement>;\n    aliases?: IProvideItem[];\n}\n\nexport type IAtomize<IElement, State> = (\n    render: IRenderFn<IElement, State>\n) => Class<IReactComponent<IElement>>\n","// @flow\n\nimport type {IProcessor, ISheet, ISheetManager, IDisposableSheet} from './interfaces'\n\ninterface IRemover {\n    remove(sheet: DisposableSheet<any>): void;\n}\n\nclass DisposableSheet<V: Object> {\n    __lom_remover: IRemover\n    __lom_sheet: ISheet<V>\n    __lom_key: string\n\n    constructor(key: string, sheet: ISheet<V>, remover: IRemover) {\n        this.__lom_key = key\n        this.__lom_sheet = sheet\n        this.__lom_remover = remover\n        if (sheet.classes.destructor) {\n            throw new Error(`Rename property name in ${key} result`)\n        }\n        Object.assign((this: Object), sheet.classes)\n    }\n\n    destructor() {\n        this.__lom_remover.remove(this)\n    }\n}\nconst badClassSymbols = new RegExp('[^\\\\w\\\\d]', 'g')\nexport default class SheetManager implements IRemover, ISheetManager {\n    _sheetProcessor: IProcessor\n    _cache: Map<string, DisposableSheet<any>> = new Map()\n\n    constructor(sheetProcessor: IProcessor) {\n        this._sheetProcessor = sheetProcessor\n    }\n\n    sheet<V: Object>(key: string, css: V, memoized: boolean): IDisposableSheet<V> {\n        let result: ?DisposableSheet<V> = memoized ? null : this._cache.get(key)\n        if (!result) {\n            const sheet: ISheet<V> = this._sheetProcessor.createStyleSheet(css, {\n                meta: key,\n                classNamePrefix: key.replace(badClassSymbols, '') + '_'\n            })\n            sheet.attach()\n            result = new DisposableSheet(key, sheet, this)\n            if (!memoized) {\n                this._cache.set(key, result)\n            }\n        }\n\n        return (result: Object)\n    }\n\n    remove(sheet: DisposableSheet<*>) {\n        this._cache.delete(sheet.__lom_key)\n        this._sheetProcessor.removeStyleSheet(sheet.__lom_sheet)\n    }\n}\n","// @flow\n\nimport type {TypedPropertyDescriptor, ISheetManager, IDisposableSheet} from './interfaces'\nimport {rdiInst} from './interfaces'\n\nlet lastThemeId = 0\n\nconst fakeSheet: IDisposableSheet<any> = {}\n\ninterface Injector {\n    instance: number;\n    displayName: string;\n}\n\nfunction themeProp<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>,\n    isInstance?: boolean\n) {\n    const className: string = proto.constructor.displayName || proto.constructor.name\n    const getSheet: (() => V) | void = descr.get\n    const value: V | void = descr.value\n    if (getSheet === undefined && value === undefined) {\n        throw new Error(`Need ${className} { @theme get ${name}() }`)\n    }\n\n    if (getSheet) {\n        proto[`${name}#`] = getSheet\n    }\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get(): IDisposableSheet<V> {\n            const sm: ISheetManager | void = theme.sheetManager\n            const di: Injector = this[rdiInst]\n            return sm === undefined\n                ? fakeSheet\n                : sm.sheet(\n                    di.displayName + (isInstance ? `[${di.instance}]` : ''),\n                    value || this[`${name}#`](),\n                    !!this[`${name}()`]\n                )\n        }\n    }\n}\n\ndeclare function theme<V>(): () => typeof themeProp\ndeclare function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n): TypedPropertyDescriptor<*>\n\nfunction themeSelf<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return themeProp(proto, name, descr, true)\n}\n\nexport default function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return themeProp(proto, name, descr)\n}\n\ntheme.self = themeSelf\ntheme.sheetManager = (undefined: ISheetManager | void)\n","// @flow\n\nimport type {IArg, IProvideItem, IPropsWithContext, IDisposableSheet, IProcessor} from './interfaces'\nimport {rdiInst, rdiProp} from './interfaces'\nimport SheetManager from './SheetManager'\nimport theme from './theme'\ntype IListener = Object\n\ntype ICache = {[id: string]: any}\n\nlet depId = 0\nconst rdiId = Symbol('rdiId')\nclass Alias<T: Function> {\n    dest: T\n    constructor(dest: T) {\n        dest[rdiId] = '' + ++depId\n        this.dest = dest\n    }\n}\n\ntype IState = {[ns: string]: {[id: string]: any}}\n\nexport default class Injector {\n    displayName: string\n    instance: number\n\n    static parentContext: Injector\n\n    _cache: ICache\n    _state: IState | void\n\n    id = ''\n    rendered = ''\n    constructor(\n        items?: IProvideItem[],\n        sheetProcessor?: ?IProcessor,\n        state?: IState,\n        displayName?: string,\n        instance?: number,\n        cache?: ICache\n    ) {\n        this._state = state\n        this.instance = instance || 0\n        this.displayName = displayName || ''\n        if (Injector.parentContext === undefined) Injector.parentContext = this\n        if (sheetProcessor) {\n            theme.sheetManager = new SheetManager(sheetProcessor)\n        }\n\n        const map = this._cache = cache || (Object.create(null): Object)\n        if (items !== undefined) {\n            for (let i = 0; i < items.length; i++) {\n                const item = items[i]\n                if (item instanceof Array) {\n                    const src: string | Function = item[0]\n                    if (typeof src === 'string') {\n                        map[src] = item[1]\n                    } else {\n                        if (src[rdiId] === undefined) {\n                            src[rdiId] = '' + ++depId\n                        }\n                        const dest = item[1]\n                        map[src[rdiId]] = typeof dest === 'function' && !(dest instanceof Alias)\n                            ? new Alias(dest)\n                            : dest\n                    }\n                } else {\n                    const src = item.constructor\n                    if (src[rdiId] === undefined) {\n                        src[rdiId] = '' + ++depId\n                    }\n                    map[src[rdiId]] = item\n                }\n            }\n        }\n    }\n\n    toString() {\n        return this.displayName + (this.instance ? ('[' + this.instance + ']') : '')\n    }\n\n    toJSON() {\n        return this._cache\n    }\n\n    value<V>(key: Function): V {\n        let id: string = key[rdiId]\n        if (key[rdiId] === undefined) {\n            id = key[rdiId] = '' + ++depId\n        }\n        let value = this._cache[id]\n\n        if (value === undefined) {\n            value = this._cache[id] = this.invoke(key)\n            const depName = (key.displayName || key.name) + (this.instance > 0 ? ('[' + this.instance + ']') : '')\n            value.displayName = `${this.displayName}.${depName}`\n            value[rdiInst] = this\n            const state = this._state === undefined ? undefined : this._state[depName]\n            if (state && typeof state === 'object') {\n                for (let prop in state) {\n                    ;(value: Object)[prop] = state[prop]\n                }\n            }\n        } else if (value instanceof Alias) {\n            value = this._cache[id] = this.value(value.dest)\n        }\n\n        return value\n    }\n\n    destructor() {\n        this._cache = (undefined: any)\n        this._listeners = undefined\n    }\n\n    invoke<V>(key: any): V {\n        let isFn = false\n        let deps: IArg[] | void = key.deps\n        if (key._r !== undefined) {\n            isFn = key._r[0] === 2\n            deps = deps || key._r[1]\n        }\n\n        const a = this.resolve(deps)\n        if (isFn) {\n            switch (a.length) {\n                case 0: return key()\n                case 1: return key(a[0])\n                case 2: return key(a[0], a[1])\n                case 3: return key(a[0], a[1], a[2])\n                case 4: return key(a[0], a[1], a[2], a[3])\n                case 5: return key(a[0], a[1], a[2], a[3], a[4])\n                case 6: return key(a[0], a[1], a[2], a[3], a[4], a[5])\n                default: return key(...a)\n            }\n        }\n\n        switch (a.length) {\n            case 0: return new key()\n            case 1: return new key(a[0])\n            case 2: return new key(a[0], a[1])\n            case 3: return new key(a[0], a[1], a[2])\n            case 4: return new key(a[0], a[1], a[2], a[3])\n            case 5: return new key(a[0], a[1], a[2], a[3], a[4])\n            case 6: return new key(a[0], a[1], a[2], a[3], a[4], a[5])\n            default: return new key(...a)\n        }\n    }\n\n    _resolved: boolean = false\n    _listeners: IListener[] | void = undefined\n\n    alias(key: Function, rawId?: string): Function {\n        let id: string | void = rawId\n        if (id === undefined) {\n            id = key[rdiId]\n            if (id === undefined) {\n                id = key[rdiId] = '' + ++depId\n            }\n        }\n        const newKey = this._cache[id]\n        if (newKey instanceof Alias) return newKey.dest\n        if (newKey === undefined) return key\n\n        return newKey\n    }\n\n    invokeWithProps<V>(key: Function, props?: Object, propsChanged?: boolean): V {\n        const deps =  key.deps || (key._r === undefined ? undefined : key._r[1])\n        if (deps === undefined) {\n            return key(props)\n        }\n        const a = this.resolve(deps)\n        const listeners = this._listeners\n        if (propsChanged === true && listeners !== undefined) {\n            for (let i = 0; i < listeners.length; i++) {\n                const listener = listeners[i]\n                listener[listener.constructor[rdiProp]] = props\n            }\n        }\n        this._resolved = true\n        switch (a.length) {\n            case 0: return key(props)\n            case 1: return key(props, a[0])\n            case 2: return key(props, a[0], a[1])\n            case 3: return key(props, a[0], a[1], a[2])\n            case 4: return key(props, a[0], a[1], a[2], a[3])\n            case 5: return key(props, a[0], a[1], a[2], a[3], a[4])\n            case 6: return key(props, a[0], a[1], a[2], a[3], a[4], a[5])\n            case 7: return key(props, a[0], a[1], a[2], a[3], a[4], a[5], a[6])\n            default: return key(props, ...a)\n        }\n    }\n\n    copy(displayName: string, instance?: number, items?: IProvideItem[]): Injector {\n        return new Injector(\n            items,\n            null,\n            this._state,\n            displayName,\n            instance,\n            Object.create(this._cache)\n        )\n    }\n\n    resolve(argDeps?: IArg[]): any[] {\n        const result = []\n        if (argDeps === undefined) return result\n        let listeners = this._listeners\n        const resolved = this._resolved\n        for (let i = 0, l = argDeps.length; i < l; i++) {\n            let argDep = argDeps[i]\n            if (typeof argDep === 'object') {\n                const obj = {}\n                for (let prop in argDep) { // eslint-disable-line\n                    const key = argDep[prop]\n                    const dep = this.value(key)\n                    if (resolved === false && key[rdiProp] !== undefined) {\n                        if (listeners === undefined) {\n                            this._listeners = listeners = []\n                        }\n                        listeners.push(dep)\n                    }\n\n                    obj[prop] = dep\n                }\n\n                result.push(obj)\n            } else {\n                const dep = this.value(argDep)\n                if (resolved === false && argDep[rdiProp] !== undefined) {\n                    if (listeners === undefined) {\n                        this._listeners = listeners = []\n                    }\n                    listeners.push(dep)\n                }\n\n                result.push(dep)\n            }\n        }\n\n        return result\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\n\nimport Injector from './Injector'\nimport type {IAtomize, IFromError, IRenderFn, IReactComponent, IProvideItem, IArg, IPropsWithContext} from './interfaces'\nimport {rdiRendered} from './interfaces'\n\nexport default function createReactWrapper<IElement>(\n    BaseComponent: Class<*>,\n    ErrorComponent: IFromError<IElement>,\n    detached: TypedPropertyDescriptor<(force?: boolean) => any>,\n    rootInjector?: Injector = new Injector(),\n    isFullEqual?: boolean = false\n): IAtomize<IElement, *> {\n    class AtomizedComponent<State> extends BaseComponent {\n        props: IPropsWithContext\n        static displayName: string\n        _propsChanged: boolean = true\n        _injector: Injector\n\n        static render: IRenderFn<IElement, State>\n        static instance: number\n        static isFullEqual = isFullEqual\n\n        _keys: string[] | void\n        _render: IRenderFn<IElement, State>\n\n        constructor(\n            props: IPropsWithContext,\n            reactContext?: Object\n        ) {\n            super(props, reactContext)\n            let injector: Injector = rootInjector\n            this._keys = undefined\n            const cns = this.constructor\n            let name = cns.displayName\n            if (props) {\n                this._keys = Object.keys(props)\n                if (this._keys.length === 0) this._keys = (undefined: any)\n                if (props.__lom_ctx !== undefined) injector = props.__lom_ctx\n                if (props.id) name = props.id\n            }\n            this._render = cns.render\n            this._injector = injector.copy(\n                cns.displayName,\n                cns.instance,\n                this._render.aliases\n            )\n            this._injector.id = name\n            cns.instance++\n        }\n\n        toString() {\n            return this._injector.toString()\n        }\n\n        get displayName() {\n            return this.toString()\n        }\n\n        shouldComponentUpdate(props: IPropsWithContext) {\n            if (this._keys === undefined) return false\n            const oldProps = this.props\n            const keys = this._keys\n            for (let i = 0, l = keys.length; i < l; i++) { // eslint-disable-line\n                const k = keys[i]\n                if (oldProps[k] !== props[k]) {\n                    this._propsChanged = true\n                    return true\n                }\n            }\n            if (this.constructor.isFullEqual === true) {\n                this._keys = Object.keys(props)\n                this._propsChanged = keys.length !== this._keys.length\n                return this._propsChanged\n            }\n            return false\n        }\n\n        componentWillUnmount() {\n            this['r()'].destructor()\n            this._el = undefined\n            this._keys = undefined\n            this.props = (undefined: any)\n            this._lastData = null\n            if (this._render !== undefined) {\n                this.constructor.instance--\n                this._injector.destructor()\n                this._injector = (undefined: any)\n            }\n        }\n\n        _el: ?(IElement | void) = undefined\n        _lastData: ?IElement = null\n        @detached r(force: boolean): ?IElement {\n            let data: ?IElement = null\n\n            const render = this._render\n\n            const prevContext = Injector.parentContext\n            const injector = Injector.parentContext = this._injector\n            try {\n                data = injector.invokeWithProps(render, this.props, this._propsChanged)\n                this._lastData = data\n            } catch (error) {\n                data = injector.invokeWithProps(render.onError || ErrorComponent, {error, children: this._lastData})\n                error[rdiRendered] = true\n            }\n\n            injector.rendered = ''\n            Injector.parentContext = prevContext\n\n            if (!this._propsChanged) {\n                this._el = data\n                this.forceUpdate()\n                this._el = undefined\n            }\n            this._propsChanged = false\n\n            return data\n        }\n\n        render() {\n            return this._el === undefined\n                ? this.r(this._propsChanged)\n                : this._el\n        }\n    }\n\n    return function reactWrapper<State>(\n        render: IRenderFn<IElement, State>\n    ): Class<IReactComponent<IElement>> {\n        const WrappedComponent = function(props: IPropsWithContext, context?: Object) {\n            AtomizedComponent.call(this, props, context)\n        }\n        WrappedComponent.instance = 0\n        WrappedComponent.render = render\n        WrappedComponent.isFullEqual = render.isFullEqual || isFullEqual\n        WrappedComponent.displayName = render.displayName || render.name\n        WrappedComponent.prototype = Object.create(AtomizedComponent.prototype)\n        WrappedComponent.prototype.constructor = WrappedComponent\n\n        return WrappedComponent\n    }\n}\n","// @flow\n\nimport type {IAtomize} from './interfaces'\nimport Injector from './Injector'\n\nexport default function createCreateElement<IElement, State, CreateElement: Function>(\n    atomize: IAtomize<IElement, State>,\n    createElement: CreateElement,\n    compositeId?: boolean\n): CreateElement {\n    function lomCreateElement() {\n        const args = arguments\n        let attrs = args[1]\n        let el = args[0]\n        let newEl\n        const isAtomic = typeof el === 'function' && el.constructor.render === undefined\n        let id: string | void = attrs ? attrs._id || attrs.id : undefined\n        const parentContext: Injector = Injector.parentContext\n\n        if (compositeId === true) {\n            if(!attrs) attrs = {}\n            if (!attrs.id) {\n                if (parentContext.rendered) throw new Error(`${parentContext.rendered} need id`)\n                attrs.id = parentContext.id\n                parentContext.rendered = parentContext.displayName + '.' + el\n            } else if (parentContext.id) attrs.id = parentContext.id + '.' + attrs.id\n\n            if (!attrs.key) attrs.key = attrs.id\n        }\n\n        if (isAtomic) {\n            newEl = parentContext.alias(el, id)\n            if (newEl === null) return null\n            if (newEl !== undefined) el = newEl\n            if (!attrs) {\n                attrs = {__lom_ctx: parentContext}\n            } else {\n                attrs.__lom_ctx = parentContext\n            }\n\n            if (el.__lom === undefined) {\n                el.__lom = atomize(el)\n            }\n            newEl = el.__lom\n        } else {\n            if (id) {\n                newEl = parentContext.alias(el, id)\n                if (newEl === null) return null\n                if (newEl !== undefined) el = newEl\n            }\n            newEl = el\n        }\n        switch(args.length) {\n            case 2:\n                return createElement(newEl, attrs)\n            case 3:\n                return createElement(newEl, attrs, args[2])\n            case 4:\n                return createElement(newEl, attrs, args[2], args[3])\n            case 5:\n                return createElement(newEl, attrs, args[2], args[3], args[4])\n            case 6:\n                return createElement(newEl, attrs, args[2], args[3], args[4], args[5])\n            case 7:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6])\n            case 8:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7])\n            case 9:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7], args[8])\n            default:\n                if (isAtomic === false) {\n                    return createElement.apply(null, args)\n                } else {\n                    const newArgs = [newEl, attrs]\n                    for (let i = 2, l = args.length; i < l; i++) {\n                        newArgs.push(args[i])\n                    }\n                    return createElement.apply(null, newArgs)\n                }\n        }\n    }\n\n    return (lomCreateElement: any)\n}\n","// @flow\n\nimport type {IRenderFn, IProvideItem} from './interfaces'\n\nfunction dn(fn?: ?(Function | Object | mixed)): string {\n    if (!fn) return 'null'\n\n    if (typeof fn === 'object') {\n        const cons = fn.constructor\n        return cons.displayName || cons.name\n    }\n    if (typeof fn === 'function') {\n        return fn.displayName || fn.name\n    }\n\n    return String(fn)\n}\n\nfunction provideMap(item: IProvideItem): string {\n    return item instanceof Array\n        ? `[${dn(item[0])}, ${dn(item[1])}]`\n        : dn(item)\n}\n\nexport default function cloneComponent<V: Function>(fn: V, aliases: IProvideItem[], name?: string): V {\n    const cloned = function () {\n        const a = arguments\n        switch (a.length) {\n            case 1: return fn(a[0])\n            case 2: return fn(a[0], a[1])\n            case 3: return fn(a[0], a[1], a[2])\n            case 4: return fn(a[0], a[1], a[2], a[3])\n            case 5: return fn(a[0], a[1], a[2], a[3], a[4])\n            default: return fn.apply(null, a)\n        }\n    }\n    cloned.deps = fn.deps\n    cloned._r = fn._r\n    cloned.aliases = fn.aliases ? fn.aliases.concat(aliases) : aliases\n    cloned.displayName = name || `cloneComponent(${dn(fn)}, [${aliases.map(provideMap).join(', ')}])`\n\n    return (cloned: any)\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\nimport {rdiProp} from './interfaces'\n\nexport default function props<P: Object>(\n    proto: P,\n    name: string,\n    descr: TypedPropertyDescriptor<*>,\n) {\n    proto.constructor[rdiProp] = name\n    if (!descr.value && !descr.set) {\n        descr.writable = true\n    }\n}\n","/** Virtual DOM Node */\nexport function VNode() {}\n","/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nexport default {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n\t *\t@name syncComponentUpdates\n\t *\t@type Boolean\n\t *\t@default true\n\t */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n\t *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n\t */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/** JSX/hyperscript reviver\n*\tBenchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\t@see http://jasonformat.com/wtf-is-jsx\n *\t@public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/** Copy own-properties from `props` onto `obj`.\n *\t@returns obj\n *\t@private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/** Call a function asynchronously, as soon as possible.\n *\t@param {Function} callback\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/** Managed queue of dirty components to be re-rendered */\n\nlet items = [];\n\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nexport function rerender() {\n\tlet p, list = items;\n\titems = [];\n\twhile ( (p = list.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/** Check if two nodes are equivalent.\n *\t@param {Element} node\n *\t@param {VNode} vnode\n *\t@private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/** Check if an Element has a given normalized name.\n*\t@param {Element} node\n*\t@param {String} nodeName\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nexport function createNode(nodeName, isSvg) {\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value==null ? '' : value);\n\t\tif (value==null || value===false) node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink\\:?/, '')));\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) { }\n}\n\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { removeNode } from '../dom/index';\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c=mounts.pop())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nconst components = {};\n\n\n/** Reclaim a component for later re-use by the recycler. */\nexport function collectComponent(component) {\n\tlet name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nexport function createComponent(Ctor, props, context) {\n\tlet list = components[Ctor.name],\n\t\tinst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\tif (list) {\n\t\tfor (let i=list.length; i--; ) {\n\t\t\tif (list[i].constructor===Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, collectComponent } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nexport function setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif ((component.__ref = props.ref)) delete props.ref;\n\tif ((component.__key = props.key)) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t}\n\telse if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts!==NO_RENDER) {\n\t\tif (opts===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nexport function renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\trendered, inst, cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks!=null) {\n\t\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.context = context;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.props = props;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.state = this.state || {};\n}\n\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n\t *\t@param {object} nextProps\n\t *\t@param {object} nextState\n\t *\t@param {object} nextContext\n\t *\t@returns {Boolean} should the component re-render\n\t *\t@name shouldComponentUpdate\n\t *\t@function\n\t */\n\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n\t *\t@param {object} state\t\tA hash of state properties to update with new values\n\t *\t@param {function} callback\tA function to be called once component state is updated\n\t */\n\tsetState(state, callback) {\n\t\tlet s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state==='function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n\t *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n\t *\t@private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n\t *\t@param {object} state\t\tThe component's current state\n\t *\t@param {object} context\t\tContext object (if a parent component has provided context)\n\t *\t@returns VNode\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n\nimport { options } from 'preact';\n\n// Internal helpers from preact\nimport { ATTR_KEY } from '../src/constants';\n\n/**\n * Return a ReactElement-compatible object for the current state of a preact\n * component.\n */\nfunction createReactElement(component) {\n\treturn {\n\t\ttype: component.constructor,\n\t\tkey: component.key,\n\t\tref: null, // Unsupported\n\t\tprops: component.props\n\t};\n}\n\n/**\n * Create a ReactDOMComponent-compatible object for a given DOM node rendered\n * by preact.\n *\n * This implements the subset of the ReactDOMComponent interface that\n * React DevTools requires in order to display DOM nodes in the inspector with\n * the correct type and properties.\n *\n * @param {Node} node\n */\nfunction createReactDOMComponent(node) {\n\tconst childNodes = node.nodeType === Node.ELEMENT_NODE ?\n\t\tArray.from(node.childNodes) : [];\n\n\tconst isText = node.nodeType === Node.TEXT_NODE;\n\n\treturn {\n\t\t// --- ReactDOMComponent interface\n\t\t_currentElement: isText ? node.textContent : {\n\t\t\ttype: node.nodeName.toLowerCase(),\n\t\t\tprops: node[ATTR_KEY]\n\t\t},\n\t\t_renderedChildren: childNodes.map(child => {\n\t\t\tif (child._component) {\n\t\t\t\treturn updateReactComponent(child._component);\n\t\t\t}\n\t\t\treturn updateReactComponent(child);\n\t\t}),\n\t\t_stringText: isText ? node.textContent : null,\n\n\t\t// --- Additional properties used by preact devtools\n\n\t\t// A flag indicating whether the devtools have been notified about the\n\t\t// existence of this component instance yet.\n\t\t// This is used to send the appropriate notifications when DOM components\n\t\t// are added or updated between composite component updates.\n\t\t_inDevTools: false,\n\t\tnode\n\t};\n}\n\n/**\n * Return the name of a component created by a `ReactElement`-like object.\n *\n * @param {ReactElement} element\n */\nfunction typeName(element) {\n\tif (typeof element.type === 'function') {\n\t\treturn element.type.displayName || element.type.name;\n\t}\n\treturn element.type;\n}\n\n/**\n * Return a ReactCompositeComponent-compatible object for a given preact\n * component instance.\n *\n * This implements the subset of the ReactCompositeComponent interface that\n * the DevTools requires in order to walk the component tree and inspect the\n * component's properties.\n *\n * See https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/getData.js\n */\nfunction createReactCompositeComponent(component) {\n\tconst _currentElement = createReactElement(component);\n\tconst node = component.base;\n\n\tlet instance = {\n\t\t// --- ReactDOMComponent properties\n\t\tgetName() {\n\t\t\treturn typeName(_currentElement);\n\t\t},\n\t\t_currentElement: createReactElement(component),\n\t\tprops: component.props,\n\t\tstate: component.state,\n\t\tforceUpdate: component.forceUpdate && component.forceUpdate.bind(component),\n\t\tsetState: component.setState && component.setState.bind(component),\n\n\t\t// --- Additional properties used by preact devtools\n\t\tnode\n\t};\n\n\t// React DevTools exposes the `_instance` field of the selected item in the\n\t// component tree as `$r` in the console.  `_instance` must refer to a\n\t// React Component (or compatible) class instance with `props` and `state`\n\t// fields and `setState()`, `forceUpdate()` methods.\n\tinstance._instance = component;\n\n\t// If the root node returned by this component instance's render function\n\t// was itself a composite component, there will be a `_component` property\n\t// containing the child component instance.\n\tif (component._component) {\n\t\tinstance._renderedComponent = updateReactComponent(component._component);\n\t} else {\n\t\t// Otherwise, if the render() function returned an HTML/SVG element,\n\t\t// create a ReactDOMComponent-like object for the DOM node itself.\n\t\tinstance._renderedComponent = updateReactComponent(node);\n\t}\n\n\treturn instance;\n}\n\n/**\n * Map of Component|Node to ReactDOMComponent|ReactCompositeComponent-like\n * object.\n *\n * The same React*Component instance must be used when notifying devtools\n * about the initial mount of a component and subsequent updates.\n */\nlet instanceMap = typeof Map==='function' && new Map();\n\n/**\n * Update (and create if necessary) the ReactDOMComponent|ReactCompositeComponent-like\n * instance for a given preact component instance or DOM Node.\n *\n * @param {Component|Node} componentOrNode\n */\nfunction updateReactComponent(componentOrNode) {\n\tconst newInstance = componentOrNode instanceof Node ?\n\t\tcreateReactDOMComponent(componentOrNode) :\n\t\tcreateReactCompositeComponent(componentOrNode);\n\tif (instanceMap.has(componentOrNode)) {\n\t\tlet inst = instanceMap.get(componentOrNode);\n\t\tObject.assign(inst, newInstance);\n\t\treturn inst;\n\t}\n\tinstanceMap.set(componentOrNode, newInstance);\n\treturn newInstance;\n}\n\nfunction nextRootKey(roots) {\n\treturn '.' + Object.keys(roots).length;\n}\n\n/**\n * Find all root component instances rendered by preact in `node`'s children\n * and add them to the `roots` map.\n *\n * @param {DOMElement} node\n * @param {[key: string] => ReactDOMComponent|ReactCompositeComponent}\n */\nfunction findRoots(node, roots) {\n\tArray.from(node.childNodes).forEach(child => {\n\t\tif (child._component) {\n\t\t\troots[nextRootKey(roots)] = updateReactComponent(child._component);\n\t\t} else {\n\t\t\tfindRoots(child, roots);\n\t\t}\n\t});\n}\n\n/**\n * Create a bridge for exposing preact's component tree to React DevTools.\n *\n * It creates implementations of the interfaces that ReactDOM passes to\n * devtools to enable it to query the component tree and hook into component\n * updates.\n *\n * See https://github.com/facebook/react/blob/59ff7749eda0cd858d5ee568315bcba1be75a1ca/src/renderers/dom/ReactDOM.js\n * for how ReactDOM exports its internals for use by the devtools and\n * the `attachRenderer()` function in\n * https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/attachRenderer.js\n * for how the devtools consumes the resulting objects.\n */\nfunction createDevToolsBridge() {\n\t// The devtools has different paths for interacting with the renderers from\n\t// React Native, legacy React DOM and current React DOM.\n\t//\n\t// Here we emulate the interface for the current React DOM (v15+) lib.\n\n\t// ReactDOMComponentTree-like object\n\tconst ComponentTree = {\n\t\tgetNodeFromInstance(instance) {\n\t\t\treturn instance.node;\n\t\t},\n\t\tgetClosestInstanceFromNode(node) {\n\t\t\twhile (node && !node._component) {\n\t\t\t\tnode = node.parentNode;\n\t\t\t}\n\t\t\treturn node ? updateReactComponent(node._component) : null;\n\t\t}\n\t};\n\n\t// Map of root ID (the ID is unimportant) to component instance.\n\tlet roots = {};\n\tfindRoots(document.body, roots);\n\n\t// ReactMount-like object\n\t//\n\t// Used by devtools to discover the list of root component instances and get\n\t// notified when new root components are rendered.\n\tconst Mount = {\n\t\t_instancesByReactRootID: roots,\n\n\t\t// Stub - React DevTools expects to find this method and replace it\n\t\t// with a wrapper in order to observe new root components being added\n\t\t_renderNewRootComponent(/* instance, ... */) { }\n\t};\n\n\t// ReactReconciler-like object\n\tconst Reconciler = {\n\t\t// Stubs - React DevTools expects to find these methods and replace them\n\t\t// with wrappers in order to observe components being mounted, updated and\n\t\t// unmounted\n\t\tmountComponent(/* instance, ... */) { },\n\t\tperformUpdateIfNecessary(/* instance, ... */) { },\n\t\treceiveComponent(/* instance, ... */) { },\n\t\tunmountComponent(/* instance, ... */) { }\n\t};\n\n\t/** Notify devtools that a new component instance has been mounted into the DOM. */\n\tconst componentAdded = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tif (isRootComponent(component)) {\n\t\t\tinstance._rootID = nextRootKey(roots);\n\t\t\troots[instance._rootID] = instance;\n\t\t\tMount._renderNewRootComponent(instance);\n\t\t}\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tchildInst._inDevTools = true;\n\t\t\tReconciler.mountComponent(childInst);\n\t\t});\n\t\tReconciler.mountComponent(instance);\n\t};\n\n\t/** Notify devtools that a component has been updated with new props/state. */\n\tconst componentUpdated = component => {\n\t\tconst prevRenderedChildren = [];\n\t\tvisitNonCompositeChildren(instanceMap.get(component), childInst => {\n\t\t\tprevRenderedChildren.push(childInst);\n\t\t});\n\n\t\t// Notify devtools about updates to this component and any non-composite\n\t\t// children\n\t\tconst instance = updateReactComponent(component);\n\t\tReconciler.receiveComponent(instance);\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tif (!childInst._inDevTools) {\n\t\t\t\t// New DOM child component\n\t\t\t\tchildInst._inDevTools = true;\n\t\t\t\tReconciler.mountComponent(childInst);\n\t\t\t} else {\n\t\t\t\t// Updated DOM child component\n\t\t\t\tReconciler.receiveComponent(childInst);\n\t\t\t}\n\t\t});\n\n\t\t// For any non-composite children that were removed by the latest render,\n\t\t// remove the corresponding ReactDOMComponent-like instances and notify\n\t\t// the devtools\n\t\tprevRenderedChildren.forEach(childInst => {\n\t\t\tif (!document.body.contains(childInst.node)) {\n\t\t\t\tinstanceMap.delete(childInst.node);\n\t\t\t\tReconciler.unmountComponent(childInst);\n\t\t\t}\n\t\t});\n\t};\n\n\t/** Notify devtools that a component has been unmounted from the DOM. */\n\tconst componentRemoved = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tvisitNonCompositeChildren(childInst => {\n\t\t\tinstanceMap.delete(childInst.node);\n\t\t\tReconciler.unmountComponent(childInst);\n\t\t});\n\t\tReconciler.unmountComponent(instance);\n\t\tinstanceMap.delete(component);\n\t\tif (instance._rootID) {\n\t\t\tdelete roots[instance._rootID];\n\t\t}\n\t};\n\n\treturn {\n\t\tcomponentAdded,\n\t\tcomponentUpdated,\n\t\tcomponentRemoved,\n\n\t\t// Interfaces passed to devtools via __REACT_DEVTOOLS_GLOBAL_HOOK__.inject()\n\t\tComponentTree,\n\t\tMount,\n\t\tReconciler\n\t};\n}\n\n/**\n * Return `true` if a preact component is a top level component rendered by\n * `render()` into a container Element.\n */\nfunction isRootComponent(component) {\n\t// `_parentComponent` is actually `__u` after minification\n\tif (component._parentComponent || component.__u) {\n\t\t// Component with a composite parent\n\t\treturn false;\n\t}\n\tif (component.base.parentElement && component.base.parentElement[ATTR_KEY]) {\n\t\t// Component with a parent DOM element rendered by Preact\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * Visit all child instances of a ReactCompositeComponent-like object that are\n * not composite components (ie. they represent DOM elements or text)\n *\n * @param {Component} component\n * @param {(Component) => void} visitor\n */\nfunction visitNonCompositeChildren(component, visitor) {\n\tif (component._renderedComponent) {\n\t\tif (!component._renderedComponent._component) {\n\t\t\tvisitor(component._renderedComponent);\n\t\t\tvisitNonCompositeChildren(component._renderedComponent, visitor);\n\t\t}\n\t} else if (component._renderedChildren) {\n\t\tcomponent._renderedChildren.forEach(child => {\n\t\t\tvisitor(child);\n\t\t\tif (!child._component) visitNonCompositeChildren(child, visitor);\n\t\t});\n\t}\n}\n\n/**\n * Create a bridge between the preact component tree and React's dev tools\n * and register it.\n *\n * After this function is called, the React Dev Tools should be able to detect\n * \"React\" on the page and show the component tree.\n *\n * This function hooks into preact VNode creation in order to expose functional\n * components correctly, so it should be called before the root component(s)\n * are rendered.\n *\n * Returns a cleanup function which unregisters the hooks.\n */\nexport function initDevTools() {\n\tif (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n\t\t// React DevTools are not installed\n\t\treturn;\n\t}\n\n\t// Notify devtools when preact components are mounted, updated or unmounted\n\tconst bridge = createDevToolsBridge();\n\n\tconst nextAfterMount = options.afterMount;\n\toptions.afterMount = component => {\n\t\tbridge.componentAdded(component);\n\t\tif (nextAfterMount) nextAfterMount(component);\n\t};\n\n\tconst nextAfterUpdate = options.afterUpdate;\n\toptions.afterUpdate = component => {\n\t\tbridge.componentUpdated(component);\n\t\tif (nextAfterUpdate) nextAfterUpdate(component);\n\t};\n\n\tconst nextBeforeUnmount = options.beforeUnmount;\n\toptions.beforeUnmount = component => {\n\t\tbridge.componentRemoved(component);\n\t\tif (nextBeforeUnmount) nextBeforeUnmount(component);\n\t};\n\n\t// Notify devtools about this instance of \"React\"\n\t__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(bridge);\n\n\treturn () => {\n\t\toptions.afterMount = nextAfterMount;\n\t\toptions.afterUpdate = nextAfterUpdate;\n\t\toptions.beforeUnmount = nextBeforeUnmount;\n\t};\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nexports['default'] = function (styles) {\n  // eslint-disable-next-line no-shadow\n  function extract(styles) {\n    var to = null;\n\n    for (var key in styles) {\n      var value = styles[key];\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      if (type === 'function') {\n        if (!to) to = {};\n        to[key] = value;\n      } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n        var extracted = extract(value);\n        if (extracted) {\n          if (!to) to = {};\n          to[key] = extracted;\n        }\n      }\n    }\n\n    return to;\n  }\n\n  return extract(styles);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sheets registry to access them all at one place.\n */\nvar SheetsRegistry = function () {\n  function SheetsRegistry() {\n    _classCallCheck(this, SheetsRegistry);\n\n    this.registry = [];\n  }\n\n  _createClass(SheetsRegistry, [{\n    key: 'add',\n\n\n    /**\n     * Register a Style Sheet.\n     */\n    value: function add(sheet) {\n      var registry = this.registry;\n      var index = sheet.options.index;\n\n\n      if (registry.indexOf(sheet) !== -1) return;\n\n      if (registry.length === 0 || index >= this.index) {\n        registry.push(sheet);\n        return;\n      }\n\n      // Find a position.\n      for (var i = 0; i < registry.length; i++) {\n        if (registry[i].options.index > index) {\n          registry.splice(i, 0, sheet);\n          return;\n        }\n      }\n    }\n\n    /**\n     * Reset the registry.\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.registry = [];\n    }\n\n    /**\n     * Remove a Style Sheet.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(sheet) {\n      var index = this.registry.indexOf(sheet);\n      this.registry.splice(index, 1);\n    }\n\n    /**\n     * Convert all attached sheets to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.registry.filter(function (sheet) {\n        return sheet.attached;\n      }).map(function (sheet) {\n        return sheet.toString(options);\n      }).join('\\n');\n    }\n  }, {\n    key: 'index',\n\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\nexports['default'] = SheetsRegistry;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\nvar SheetsManager = function () {\n  function SheetsManager() {\n    _classCallCheck(this, SheetsManager);\n\n    this.sheets = [];\n    this.refs = [];\n    this.keys = [];\n  }\n\n  _createClass(SheetsManager, [{\n    key: 'get',\n    value: function get(key) {\n      var index = this.keys.indexOf(key);\n      return this.sheets[index];\n    }\n  }, {\n    key: 'add',\n    value: function add(key, sheet) {\n      var sheets = this.sheets,\n          refs = this.refs,\n          keys = this.keys;\n\n      var index = sheets.indexOf(sheet);\n\n      if (index !== -1) return index;\n\n      sheets.push(sheet);\n      refs.push(0);\n      keys.push(key);\n\n      return sheets.length - 1;\n    }\n  }, {\n    key: 'manage',\n    value: function manage(key) {\n      var index = this.keys.indexOf(key);\n      var sheet = this.sheets[index];\n      if (this.refs[index] === 0) sheet.attach();\n      this.refs[index]++;\n      if (!this.keys[index]) this.keys.splice(index, 0, key);\n      return sheet;\n    }\n  }, {\n    key: 'unmanage',\n    value: function unmanage(key) {\n      var index = this.keys.indexOf(key);\n      if (index === -1) {\n        // eslint-ignore-next-line no-console\n        (0, _warning2['default'])(false, 'SheetsManager: can\\'t find sheet to unmanage');\n        return;\n      }\n      if (this.refs[index] > 0) {\n        this.refs[index]--;\n        if (this.refs[index] === 0) this.sheets[index].detach();\n      }\n    }\n  }, {\n    key: 'size',\n    get: function get() {\n      return this.keys.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n\nexports['default'] = SheetsManager;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCssValue;\nvar joinWithSpace = function joinWithSpace(value) {\n  return value.join(' ');\n};\n\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n */\nfunction toCssValue(value) {\n  if (!Array.isArray(value)) return value;\n\n  // Support space separated values.\n  if (Array.isArray(value[0])) {\n    return toCssValue(value.map(joinWithSpace));\n  }\n\n  return value.join(', ');\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCss;\n\nvar _toCssValue = require('./toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str, indent) {\n  var result = '';\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }return result + str;\n}\n\n/**\n * Converts a Rule to CSS string.\n */\n\nfunction toCss(selector, style) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var result = '';\n\n  if (!style) return result;\n\n  var _options$indent = options.indent,\n      indent = _options$indent === undefined ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n\n\n  indent++;\n\n  // Apply fallbacks first.\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n        for (var prop in fallback) {\n          var value = fallback[prop];\n          if (value != null) {\n            result += '\\n' + indentStr(prop + ': ' + (0, _toCssValue2['default'])(value) + ';', indent);\n          }\n        }\n      }\n    }\n    // Object syntax {fallbacks: {prop: value}}\n    else {\n        for (var _prop in fallbacks) {\n          var _value = fallbacks[_prop];\n          if (_value != null) {\n            result += '\\n' + indentStr(_prop + ': ' + (0, _toCssValue2['default'])(_value) + ';', indent);\n          }\n        }\n      }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      result += '\\n' + indentStr(_prop2 + ': ' + (0, _toCssValue2['default'])(_value2) + ';', indent);\n    }\n  }\n\n  // Allow empty style in this case, because properties will be added dynamically.\n  if (!result && !options.allowEmpty) return result;\n\n  indent--;\n  result = indentStr(selector + ' {' + result + '\\n', indent) + indentStr('}', indent);\n\n  return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleRule = function () {\n  function StyleRule(key, style, options) {\n    _classCallCheck(this, StyleRule);\n\n    this.type = 'style';\n    this.isProcessed = false;\n    var sheet = options.sheet,\n        Renderer = options.Renderer,\n        selector = options.selector;\n\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (selector) this.selectorText = selector;\n    this.renderer = sheet ? sheet.renderer : new Renderer();\n  }\n\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  _createClass(StyleRule, [{\n    key: 'prop',\n\n\n    /**\n     * Get or set a style property.\n     */\n    value: function prop(name, nextValue) {\n      // It's a setter.\n      if (nextValue != null) {\n        // Don't do anything if the value has not changed.\n        if (this.style[name] !== nextValue) {\n          nextValue = this.options.jss.plugins.onChangeValue(nextValue, name, this);\n          this.style[name] = nextValue;\n\n          // Renderable is defined if StyleSheet option `link` is true.\n          if (this.renderable) this.renderer.setStyle(this.renderable, name, nextValue);else {\n            var sheet = this.options.sheet;\n\n            if (sheet && sheet.attached) {\n              (0, _warning2['default'])(false, 'Rule is not linked. Missing sheet option \"link: true\".');\n            }\n          }\n        }\n        return this;\n      }\n\n      return this.style[name];\n    }\n\n    /**\n     * Apply rule to an element inline.\n     */\n\n  }, {\n    key: 'applyTo',\n    value: function applyTo(renderable) {\n      var json = this.toJSON();\n      for (var prop in json) {\n        this.renderer.setStyle(renderable, prop, json[prop]);\n      }return this;\n    }\n\n    /**\n     * Returns JSON representation of the rule.\n     * Fallbacks are not supported.\n     * Useful for inline styles.\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {};\n      for (var prop in this.style) {\n        var value = this.style[prop];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = (0, _toCssValue2['default'])(value);\n      }\n      return json;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n      var opts = link ? _extends({}, options, { allowEmpty: true }) : options;\n      return (0, _toCss2['default'])(this.selector, this.style, opts);\n    }\n  }, {\n    key: 'selector',\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n\n      this.selectorText = selector;\n\n      if (this.renderable) {\n        var hasChanged = this.renderer.setSelector(this.renderable, selector);\n\n        // If selector setter is not implemented, rerender the rule.\n        if (!hasChanged && this.renderable) {\n          var renderable = this.renderer.replaceRule(this.renderable, this);\n          if (renderable) this.renderable = renderable;\n        }\n      }\n    }\n\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}();\n\nexports['default'] = StyleRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill.js');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;","module.exports = require('./lib/index');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = function (value) {\n  return value && value[_symbolObservable2['default']] && value === value[_symbolObservable2['default']]();\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports['default'] = cloneStyle;\n\nvar _isObservable = require('./isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar isArray = Array.isArray;\nfunction cloneStyle(style) {\n  // Support empty values in case user ends up with them by accident.\n  if (style == null) return style;\n\n  // Support string value for SimpleRule.\n  var typeOfStyle = typeof style === 'undefined' ? 'undefined' : _typeof(style);\n\n  if (typeOfStyle === 'string' || typeOfStyle === 'number' || typeOfStyle === 'function') {\n    return style;\n  }\n\n  // Support array for FontFaceRule.\n  if (isArray(style)) return style.map(cloneStyle);\n\n  // Support Observable styles.  Observables are immutable, so we don't need to\n  // copy them.\n  if ((0, _isObservable2['default'])(style)) return style;\n\n  var newStyle = {};\n  for (var name in style) {\n    var value = style[name];\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      newStyle[name] = cloneStyle(value);\n      continue;\n    }\n    newStyle[name] = value;\n  }\n\n  return newStyle;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = createRule;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _cloneStyle = require('../utils/cloneStyle');\n\nvar _cloneStyle2 = _interopRequireDefault(_cloneStyle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Create a rule instance.\n */\nfunction createRule() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'unnamed';\n  var decl = arguments[1];\n  var options = arguments[2];\n  var jss = options.jss;\n\n  var declCopy = (0, _cloneStyle2['default'])(decl);\n\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule;\n\n  // It is an at-rule and it has no instance.\n  if (name[0] === '@') {\n    (0, _warning2['default'])(false, '[JSS] Unknown at-rule %s', name);\n  }\n\n  return new _StyleRule2['default'](name, declCopy, options);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = linkRule;\n/**\n * Link rule with CSSStyleRule and nested rules with corresponding nested cssRules if both exists.\n */\nfunction linkRule(rule, cssRule) {\n  rule.renderable = cssRule;\n  if (rule.rules && cssRule.cssRules) rule.rules.link(cssRule.cssRules);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = typeof window === 'undefined' ? global : window;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _global = require('./global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar CSS = _global2['default'].CSS;\n\nvar env = process.env.NODE_ENV;\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`])/g;\n\nexports['default'] = function (str) {\n  // We don't need to escape it in production, because we are not using user's\n  // input for selectors, we are generating a valid selector.\n  if (env === 'production') return str;\n\n  if (!CSS || !CSS.escape) {\n    return str.replace(escapeRegex, '\\\\$1');\n  }\n\n  return CSS.escape(str);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _createRule = require('./utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _escape = require('./utils/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Contains rules objects and allows adding/removing etc.\n * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n */\nvar RuleList = function () {\n\n  // Original styles object.\n  function RuleList(options) {\n    _classCallCheck(this, RuleList);\n\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n\n    this.options = options;\n    this.classes = options.classes;\n  }\n\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  // Used to ensure correct rules order.\n\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n\n\n  _createClass(RuleList, [{\n    key: 'add',\n    value: function add(name, decl, options) {\n      var _options = this.options,\n          parent = _options.parent,\n          sheet = _options.sheet,\n          jss = _options.jss,\n          Renderer = _options.Renderer,\n          generateClassName = _options.generateClassName;\n\n\n      options = _extends({\n        classes: this.classes,\n        parent: parent,\n        sheet: sheet,\n        jss: jss,\n        Renderer: Renderer,\n        generateClassName: generateClassName\n      }, options);\n\n      if (!options.selector && this.classes[name]) {\n        options.selector = '.' + (0, _escape2['default'])(this.classes[name]);\n      }\n\n      this.raw[name] = decl;\n\n      var rule = (0, _createRule2['default'])(name, decl, options);\n\n      var className = void 0;\n\n      if (!options.selector && rule instanceof _StyleRule2['default']) {\n        className = generateClassName(rule, sheet);\n        rule.selector = '.' + (0, _escape2['default'])(className);\n      }\n\n      this.register(rule, className);\n\n      var index = options.index === undefined ? this.index.length : options.index;\n      this.index.splice(index, 0, rule);\n\n      return rule;\n    }\n\n    /**\n     * Get a rule.\n     */\n\n  }, {\n    key: 'get',\n    value: function get(name) {\n      return this.map[name];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(rule) {\n      this.unregister(rule);\n      this.index.splice(this.indexOf(rule), 1);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.index.indexOf(rule);\n    }\n\n    /**\n     * Run `onProcessRule()` plugins on every rule.\n     */\n\n  }, {\n    key: 'process',\n    value: function process() {\n      var plugins = this.options.jss.plugins;\n      // We need to clone array because if we modify the index somewhere else during a loop\n      // we end up with very hard-to-track-down side effects.\n\n      this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n    }\n\n    /**\n     * Register a rule in `.map` and `.classes` maps.\n     */\n\n  }, {\n    key: 'register',\n    value: function register(rule, className) {\n      this.map[rule.key] = rule;\n      if (rule instanceof _StyleRule2['default']) {\n        this.map[rule.selector] = rule;\n        if (className) this.classes[rule.key] = className;\n      }\n    }\n\n    /**\n     * Unregister a rule.\n     */\n\n  }, {\n    key: 'unregister',\n    value: function unregister(rule) {\n      delete this.map[rule.key];\n      if (rule instanceof _StyleRule2['default']) {\n        delete this.map[rule.selector];\n        delete this.classes[rule.key];\n      }\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      var _options2 = this.options,\n          plugins = _options2.jss.plugins,\n          sheet = _options2.sheet;\n\n      if (typeof name === 'string') {\n        plugins.onUpdate(data, this.get(name), sheet);\n        return;\n      }\n\n      for (var index = 0; index < this.index.length; index++) {\n        plugins.onUpdate(name, this.index[index], sheet);\n      }\n    }\n\n    /**\n     * Link renderable rules with CSSRuleList.\n     */\n\n  }, {\n    key: 'link',\n    value: function link(cssRules) {\n      var map = this.options.sheet.renderer.getUnescapedKeysMap(this.index);\n\n      for (var i = 0; i < cssRules.length; i++) {\n        var cssRule = cssRules[i];\n        var _key = this.options.sheet.renderer.getKey(cssRule);\n        if (map[_key]) _key = map[_key];\n        var rule = this.map[_key];\n        if (rule) (0, _linkRule2['default'])(rule, cssRule);\n      }\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var str = '';\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n\n      for (var index = 0; index < this.index.length; index++) {\n        var rule = this.index[index];\n        var css = rule.toString(options);\n\n        // No need to render an empty rule.\n        if (!css && !link) continue;\n\n        if (str) str += '\\n';\n        str += css;\n      }\n\n      return str;\n    }\n  }]);\n\n  return RuleList;\n}();\n\nexports['default'] = RuleList;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nvar _SheetsRegistry2 = _interopRequireDefault(_SheetsRegistry);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\nexports['default'] = new _SheetsRegistry2['default']();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _RuleList = require('./RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleSheet = function () {\n  function StyleSheet(styles, options) {\n    _classCallCheck(this, StyleSheet);\n\n    this.attached = false;\n    this.deployed = false;\n    this.linked = false;\n    this.classes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes\n    });\n    this.renderer = new options.Renderer(this);\n    this.rules = new _RuleList2['default'](this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  _createClass(StyleSheet, [{\n    key: 'attach',\n    value: function attach() {\n      if (this.attached) return this;\n      if (!this.deployed) this.deploy();\n      this.renderer.attach();\n      if (!this.linked && this.options.link) this.link();\n      this.attached = true;\n      return this;\n    }\n\n    /**\n     * Remove renderable from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      if (!this.attached) return this;\n      this.renderer.detach();\n      this.attached = false;\n      return this;\n    }\n\n    /**\n     * Add a rule to the current stylesheet.\n     * Will insert a rule also after the stylesheet has been rendered first time.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, decl, options) {\n      var queue = this.queue;\n\n      // Plugins can create rules.\n      // In order to preserve the right order, we need to queue all `.addRule` calls,\n      // which happen after the first `rules.add()` call.\n\n      if (this.attached && !queue) this.queue = [];\n\n      var rule = this.rules.add(name, decl, options);\n      this.options.jss.plugins.onProcessRule(rule);\n\n      if (this.attached) {\n        if (!this.deployed) return rule;\n        // Don't insert rule directly if there is no stringified version yet.\n        // It will be inserted all together when .attach is called.\n        if (queue) queue.push(rule);else {\n          this.insertRule(rule);\n          if (this.queue) {\n            this.queue.forEach(this.insertRule, this);\n            this.queue = undefined;\n          }\n        }\n        return rule;\n      }\n\n      // We can't add rules to a detached style node.\n      // We will redeploy the sheet once user will attach it.\n      this.deployed = false;\n\n      return rule;\n    }\n\n    /**\n     * Insert rule into the StyleSheet\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule) {\n      var renderable = this.renderer.insertRule(rule);\n      if (renderable && this.options.link) (0, _linkRule2['default'])(rule, renderable);\n    }\n\n    /**\n     * Create and add rules.\n     * Will render also after Style Sheet was rendered the first time.\n     */\n\n  }, {\n    key: 'addRules',\n    value: function addRules(styles, options) {\n      var added = [];\n      for (var name in styles) {\n        added.push(this.addRule(name, styles[name], options));\n      }\n      return added;\n    }\n\n    /**\n     * Get a rule by name.\n     */\n\n  }, {\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Delete a rule by name.\n     * Returns `true`: if rule has been deleted from the DOM.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(name) {\n      var rule = this.rules.get(name);\n\n      if (!rule) return false;\n\n      this.rules.remove(rule);\n\n      if (this.attached && rule.renderable) {\n        return this.renderer.deleteRule(rule.renderable);\n      }\n\n      return true;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Deploy pure CSS string to a renderable.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      this.renderer.deploy();\n      this.deployed = true;\n      return this;\n    }\n\n    /**\n     * Link renderable CSS rules from sheet with their corresponding models.\n     */\n\n  }, {\n    key: 'link',\n    value: function link() {\n      var cssRules = this.renderer.getRules();\n\n      // Is undefined when VirtualRenderer is used.\n      if (cssRules) this.rules.link(cssRules);\n      this.linked = true;\n      return this;\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      this.rules.update(name, data);\n      return this;\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.rules.toString(options);\n    }\n  }]);\n\n  return StyleSheet;\n}();\n\nexports['default'] = StyleSheet;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleSheet = require('../StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _global = require('./global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\n\nif (_global2['default'][ns] == null) _global2['default'][ns] = 0;\n// In case we have more than one JSS version.\nvar jssCounter = _global2['default'][ns]++;\n\nvar maxRules = 1e10;\n\nvar env = process.env.NODE_ENV;\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nexports['default'] = function () {\n  var ruleCounter = 0;\n\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      (0, _warning2['default'])(false, '[JSS] You might have a memory leak. Rule counter is at %s.', ruleCounter);\n    }\n\n    if (env === 'production') {\n      return 'c' + jssCounter + ruleCounter;\n    }\n\n    var prefix = sheet ? sheet.options.classNamePrefix || '' : '';\n    return prefix + rule.key + '-' + jssCounter + '-' + ruleCounter;\n  };\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PluginsRegistry = function () {\n  function PluginsRegistry() {\n    _classCallCheck(this, PluginsRegistry);\n\n    this.hooks = {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n\n      /**\n       * Call `onCreateRule` hooks and return an object if returned by a hook.\n       */\n    };\n  }\n\n  _createClass(PluginsRegistry, [{\n    key: 'onCreateRule',\n    value: function onCreateRule(name, decl, options) {\n      for (var i = 0; i < this.hooks.onCreateRule.length; i++) {\n        var rule = this.hooks.onCreateRule[i](name, decl, options);\n        if (rule) return rule;\n      }\n      return null;\n    }\n\n    /**\n     * Call `onProcessRule` hooks.\n     */\n\n  }, {\n    key: 'onProcessRule',\n    value: function onProcessRule(rule) {\n      if (rule.isProcessed) return;\n      var sheet = rule.options.sheet;\n\n      for (var i = 0; i < this.hooks.onProcessRule.length; i++) {\n        this.hooks.onProcessRule[i](rule, sheet);\n      }\n\n      // $FlowFixMe\n      if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n\n      rule.isProcessed = true;\n    }\n\n    /**\n     * Call `onProcessStyle` hooks.\n     */\n\n  }, {\n    key: 'onProcessStyle',\n    value: function onProcessStyle(style, rule, sheet) {\n      var nextStyle = style;\n\n      for (var i = 0; i < this.hooks.onProcessStyle.length; i++) {\n        nextStyle = this.hooks.onProcessStyle[i](nextStyle, rule, sheet);\n        // $FlowFixMe\n        rule.style = nextStyle;\n      }\n    }\n\n    /**\n     * Call `onProcessSheet` hooks.\n     */\n\n  }, {\n    key: 'onProcessSheet',\n    value: function onProcessSheet(sheet) {\n      for (var i = 0; i < this.hooks.onProcessSheet.length; i++) {\n        this.hooks.onProcessSheet[i](sheet);\n      }\n    }\n\n    /**\n     * Call `onUpdate` hooks.\n     */\n\n  }, {\n    key: 'onUpdate',\n    value: function onUpdate(data, rule, sheet) {\n      for (var i = 0; i < this.hooks.onUpdate.length; i++) {\n        this.hooks.onUpdate[i](data, rule, sheet);\n      }\n    }\n\n    /**\n     * Call `onChangeValue` hooks.\n     */\n\n  }, {\n    key: 'onChangeValue',\n    value: function onChangeValue(value, prop, rule) {\n      var processedValue = value;\n      for (var i = 0; i < this.hooks.onChangeValue.length; i++) {\n        processedValue = this.hooks.onChangeValue[i](processedValue, prop, rule);\n      }\n      return processedValue;\n    }\n\n    /**\n     * Register a plugin.\n     * If function is passed, it is a shortcut for `{onProcessRule}`.\n     */\n\n  }, {\n    key: 'use',\n    value: function use(plugin) {\n      for (var name in plugin) {\n        if (this.hooks[name]) this.hooks[name].push(plugin[name]);else (0, _warning2['default'])(false, '[JSS] Unknown hook \"%s\".', name);\n      }\n    }\n  }]);\n\n  return PluginsRegistry;\n}();\n\nexports['default'] = PluginsRegistry;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SimpleRule = function () {\n  function SimpleRule(key, value, options) {\n    _classCallCheck(this, SimpleRule);\n\n    this.type = 'simple';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  _createClass(SimpleRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.value)) {\n        var str = '';\n        for (var index = 0; index < this.value.length; index++) {\n          str += this.key + ' ' + this.value[index] + ';';\n          if (this.value[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return this.key + ' ' + this.value + ';';\n    }\n  }]);\n\n  return SimpleRule;\n}();\n\nexports['default'] = SimpleRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Rule for @keyframes\n */\nvar KeyframesRule = function () {\n  function KeyframesRule(key, frames, options) {\n    _classCallCheck(this, KeyframesRule);\n\n    this.type = 'keyframes';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, this.options, {\n        parent: this,\n        selector: name\n      }));\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(KeyframesRule, [{\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      if (inner) inner += '\\n';\n      return this.key + ' {\\n' + inner + '}';\n    }\n  }]);\n\n  return KeyframesRule;\n}();\n\nexports['default'] = KeyframesRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Conditional rule for @media, @supports\n */\nvar ConditionalRule = function () {\n  function ConditionalRule(key, styles, options) {\n    _classCallCheck(this, ConditionalRule);\n\n    this.type = 'conditional';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(ConditionalRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      return inner ? this.key + ' {\\n' + inner + '\\n}' : '';\n    }\n  }]);\n\n  return ConditionalRule;\n}();\n\nexports['default'] = ConditionalRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FontFaceRule = function () {\n  function FontFaceRule(key, style, options) {\n    _classCallCheck(this, FontFaceRule);\n\n    this.type = 'font-face';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(FontFaceRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.style)) {\n        var str = '';\n        for (var index = 0; index < this.style.length; index++) {\n          str += (0, _toCss2['default'])(this.key, this.style[index]);\n          if (this.style[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return FontFaceRule;\n}();\n\nexports['default'] = FontFaceRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ViewportRule = function () {\n  function ViewportRule(key, style, options) {\n    _classCallCheck(this, ViewportRule);\n\n    this.type = 'viewport';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(ViewportRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return ViewportRule;\n}();\n\nexports['default'] = ViewportRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SimpleRule = require('../rules/SimpleRule');\n\nvar _SimpleRule2 = _interopRequireDefault(_SimpleRule);\n\nvar _KeyframesRule = require('../rules/KeyframesRule');\n\nvar _KeyframesRule2 = _interopRequireDefault(_KeyframesRule);\n\nvar _ConditionalRule = require('../rules/ConditionalRule');\n\nvar _ConditionalRule2 = _interopRequireDefault(_ConditionalRule);\n\nvar _FontFaceRule = require('../rules/FontFaceRule');\n\nvar _FontFaceRule2 = _interopRequireDefault(_FontFaceRule);\n\nvar _ViewportRule = require('../rules/ViewportRule');\n\nvar _ViewportRule2 = _interopRequireDefault(_ViewportRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar classes = {\n  '@charset': _SimpleRule2['default'],\n  '@import': _SimpleRule2['default'],\n  '@namespace': _SimpleRule2['default'],\n  '@keyframes': _KeyframesRule2['default'],\n  '@media': _ConditionalRule2['default'],\n  '@supports': _ConditionalRule2['default'],\n  '@font-face': _FontFaceRule2['default'],\n  '@viewport': _ViewportRule2['default'],\n  '@-ms-viewport': _ViewportRule2['default']\n\n  /**\n   * Generate plugins which will register all rules.\n   */\n};\nexports['default'] = Object.keys(classes).map(function (key) {\n  // https://jsperf.com/indexof-vs-substr-vs-regex-at-the-beginning-3\n  var re = new RegExp('^' + key);\n  var onCreateRule = function onCreateRule(name, decl, options) {\n    return re.test(name) ? new classes[key](name, decl, options) : null;\n  };\n  return { onCreateRule: onCreateRule };\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _isObservable = require('../utils/isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (!(0, _isObservable2['default'])(decl)) return null;\n\n    // Cast `decl` to `Observable`, since it passed the type guard.\n    var style$ = decl;\n\n    var rule = (0, _createRule2['default'])(name, {}, options);\n\n    // TODO\n    // Call `stream.subscribe()` returns a subscription, which should be explicitly\n    // unsubscribed from when we know this sheet is no longer needed.\n    style$.subscribe(function (style) {\n      for (var prop in style) {\n        rule.prop(prop, style[prop]);\n      }\n    });\n\n    return rule;\n  },\n  onProcessRule: function onProcessRule(rule) {\n    if (!(rule instanceof _StyleRule2['default'])) return;\n    var styleRule = rule;\n    var style = styleRule.style;\n\n    var _loop = function _loop(prop) {\n      var value = style[prop];\n      if (!(0, _isObservable2['default'])(value)) return 'continue';\n      delete style[prop];\n      value.subscribe({\n        next: function next(nextValue) {\n          styleRule.prop(prop, nextValue);\n        }\n      });\n    };\n\n    for (var prop in style) {\n      var _ret = _loop(prop);\n\n      if (_ret === 'continue') continue;\n    }\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar regExp = /([A-Z])/g;\nvar replace = function replace(str) {\n  return \"-\" + str.toLowerCase();\n};\n\nexports[\"default\"] = function (str) {\n  return str.replace(regExp, replace);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _kebabCase = require('../utils/kebabCase');\n\nvar _kebabCase2 = _interopRequireDefault(_kebabCase);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// A symbol replacement.\nvar now = Date.now();\nvar fnValuesNs = 'fnValues' + now;\nvar fnStyleNs = 'fnStyle' + ++now;\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (typeof decl !== 'function') return null;\n    var rule = (0, _createRule2['default'])(name, {}, options);\n    rule[fnStyleNs] = decl;\n    return rule;\n  },\n  onProcessStyle: function onProcessStyle(style, rule) {\n    var fn = {};\n    for (var prop in style) {\n      var value = style[prop];\n      if (typeof value !== 'function') continue;\n      delete style[prop];\n      fn[(0, _kebabCase2['default'])(prop)] = value;\n    }\n    rule = rule;\n    rule[fnValuesNs] = fn;\n    return style;\n  },\n  onUpdate: function onUpdate(data, rule) {\n    // It is a rules container like for e.g. ConditionalRule.\n    if (rule.rules instanceof _RuleList2['default']) {\n      rule.rules.update(data);\n      return;\n    }\n    if (!(rule instanceof _StyleRule2['default'])) return;\n\n    rule = rule;\n\n    // If we have a fn values map, it is a rule with function values.\n    if (rule[fnValuesNs]) {\n      for (var prop in rule[fnValuesNs]) {\n        rule.prop(prop, rule[fnValuesNs][prop](data));\n      }\n    }\n\n    rule = rule;\n\n    var fnStyle = rule[fnStyleNs];\n\n    // If we have a style function, the entire rule is dynamic and style object\n    // will be returned from that function.\n    if (fnStyle) {\n      var style = fnStyle(data);\n      for (var _prop in style) {\n        rule.prop(_prop, style[_prop]);\n      }\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _sheets = require('../sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _global = require('../utils/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Get a style property.\n */\nfunction getStyle(cssRule, prop) {\n  try {\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n\n/**\n * Set a style property.\n */\nfunction setStyle(cssRule, prop, value) {\n  try {\n    cssRule.style.setProperty(prop, value);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n  return true;\n}\n\nvar CSSRuleTypes = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7\n\n  /**\n   * Get the CSS Rule key.\n   */\n\n};var getKey = function () {\n  var extractKey = function extractKey(cssText) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return cssText.substr(from, cssText.indexOf('{') - 1);\n  };\n\n  return function (cssRule) {\n    if (cssRule.type === CSSRuleTypes.STYLE_RULE) return cssRule.selectorText;\n    if (cssRule.type === CSSRuleTypes.KEYFRAMES_RULE) {\n      var name = cssRule.name;\n\n      if (name) return '@keyframes ' + name;\n\n      // There is no rule.name in the following browsers:\n      // - IE 9\n      // - Safari 7.1.8\n      // - Mobile Safari 9.0.0\n      var cssText = cssRule.cssText;\n\n      return '@' + extractKey(cssText, cssText.indexOf('keyframes'));\n    }\n\n    // Conditionals.\n    return extractKey(cssRule.cssText);\n  };\n}();\n\n/**\n * Set the selector.\n */\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText;\n\n  // Return false if setter was not successful.\n  // Currently works in chrome only.\n  return cssRule.selectorText === selectorText;\n}\n\n/**\n * Gets the `head` element upon the first call and caches it.\n */\nvar getHead = function () {\n  var head = void 0;\n  return function () {\n    if (!head) head = document.head || document.getElementsByTagName('head')[0];\n    return head;\n  };\n}();\n\n/**\n * Gets a map of rule keys, where the property is an unescaped key and value\n * is a potentially escaped one.\n * It is used to identify CSS rules and the corresponding JSS rules. As an identifier\n * for CSSStyleRule we normally use `selectorText`. Though if original selector text\n * contains escaped code points e.g. `:not(#\\\\20)`, CSSOM will compile it to `:not(# )`\n * and so CSS rule's `selectorText` won't match JSS rule selector.\n *\n * https://www.w3.org/International/questions/qa-escapes#cssescapes\n */\nvar getUnescapedKeysMap = function () {\n  var style = void 0;\n  var isAttached = false;\n\n  return function (rules) {\n    var map = {};\n    // https://github.com/facebook/flow/issues/2696\n    if (!style) style = document.createElement('style');\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (!(rule instanceof _StyleRule2['default'])) continue;\n      var selector = rule.selector;\n      // Only unescape selector over CSSOM if it contains a back slash.\n\n      if (selector && selector.indexOf('\\\\') !== -1) {\n        // Lazilly attach when needed.\n        if (!isAttached) {\n          getHead().appendChild(style);\n          isAttached = true;\n        }\n        style.textContent = selector + ' {}';\n        var _style = style,\n            sheet = _style.sheet;\n\n        if (sheet) {\n          var cssRules = sheet.cssRules;\n\n          if (cssRules) map[cssRules[0].selectorText] = rule.key;\n        }\n      }\n    }\n    if (isAttached) {\n      getHead().removeChild(style);\n      isAttached = false;\n    }\n    return map;\n  };\n}();\n\n/**\n * Find attached sheet with an index higher than the passed one.\n */\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find attached sheet with the highest index.\n */\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a comment with \"jss\" inside.\n */\nfunction findCommentNode(text) {\n  var head = getHead();\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry = _sheets2['default'].registry;\n\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet) return sheet.renderer.element;\n\n    // Otherwise insert after the last attached.\n    sheet = findHighestSheet(registry, options);\n    if (sheet) return sheet.renderer.element.nextElementSibling;\n  }\n\n  // Try to find a comment placeholder if registry is empty.\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) return comment.nextSibling;\n    // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n    (0, _warning2['default'])(insertionPoint === 'jss', '[JSS] Insertion point \"%s\" not found.', insertionPoint);\n  }\n\n  return null;\n}\n\n/**\n * Insert style element into the DOM.\n */\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n\n  var prevNode = findPrevNode(options);\n\n  if (prevNode) {\n    var parentNode = prevNode.parentNode;\n\n    if (parentNode) parentNode.insertBefore(style, prevNode);\n    return;\n  }\n\n  // Works with iframes and any node types.\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var _parentNode = insertionPointElement.parentNode;\n\n    if (_parentNode) _parentNode.insertBefore(style, insertionPointElement.nextSibling);else (0, _warning2['default'])(false, '[JSS] Insertion point is not in the DOM.');\n    return;\n  }\n\n  getHead().insertBefore(style, prevNode);\n}\n\nvar DomRenderer = function () {\n  function DomRenderer(sheet) {\n    _classCallCheck(this, DomRenderer);\n\n    this.getStyle = getStyle;\n    this.setStyle = setStyle;\n    this.setSelector = setSelector;\n    this.getKey = getKey;\n    this.getUnescapedKeysMap = getUnescapedKeysMap;\n    this.hasInsertedRules = false;\n\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) _sheets2['default'].add(sheet);\n\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || document.createElement('style');\n    this.element.type = 'text/css';\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    // eslint-disable-next-line no-underscore-dangle\n    var nonce = _global2['default'].__webpack_nonce__;\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      // In the case the element node is external and it is already in the DOM.\n      if (this.element.parentNode || !this.sheet) return;\n\n      // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n      // browsers remove those rules.\n      // TODO figure out if its a bug and if it is known.\n      // Workaround is to redeploy the sheet before attaching as a string.\n      if (this.hasInsertedRules) {\n        this.deploy();\n        this.hasInsertedRules = false;\n      }\n\n      insertStyle(this.element, this.sheet.options);\n    }\n\n    /**\n     * Remove style element from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n\n    /**\n     * Inject CSS string into element.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      if (!this.sheet) return;\n      this.element.textContent = '\\n' + this.sheet.toString() + '\\n';\n    }\n\n    /**\n     * Insert a rule into element.\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule, index) {\n      var sheet = this.element.sheet;\n      var cssRules = sheet.cssRules;\n\n      var str = rule.toString();\n      if (!index) index = cssRules.length;\n\n      if (!str) return false;\n\n      try {\n        sheet.insertRule(str, index);\n      } catch (err) {\n        (0, _warning2['default'])(false, '[JSS] Can not insert an unsupported rule \\n\\r%s', rule);\n        return false;\n      }\n      this.hasInsertedRules = true;\n\n      return cssRules[index];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(cssRule) {\n      var sheet = this.element.sheet;\n\n      var index = this.indexOf(cssRule);\n      if (index === -1) return false;\n      sheet.deleteRule(index);\n      return true;\n    }\n\n    /**\n     * Get index of a CSS Rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(cssRule) {\n      var cssRules = this.element.sheet.cssRules;\n\n      for (var _index = 0; _index < cssRules.length; _index++) {\n        if (cssRule === cssRules[_index]) return _index;\n      }\n      return -1;\n    }\n\n    /**\n     * Generate a new CSS rule and replace the existing one.\n     */\n\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule(cssRule, rule) {\n      var index = this.indexOf(cssRule);\n      var newCssRule = this.insertRule(rule, index);\n      this.element.sheet.deleteRule(index);\n      return newCssRule;\n    }\n\n    /**\n     * Get all rules elements.\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      return this.element.sheet.cssRules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports['default'] = DomRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable class-methods-use-this */\n\n/**\n * Rendering backend to do nothing in nodejs.\n */\nvar VirtualRenderer = function () {\n  function VirtualRenderer() {\n    _classCallCheck(this, VirtualRenderer);\n  }\n\n  _createClass(VirtualRenderer, [{\n    key: 'setStyle',\n    value: function setStyle() {\n      return true;\n    }\n  }, {\n    key: 'getStyle',\n    value: function getStyle() {\n      return '';\n    }\n  }, {\n    key: 'setSelector',\n    value: function setSelector() {\n      return true;\n    }\n  }, {\n    key: 'getKey',\n    value: function getKey() {\n      return '';\n    }\n  }, {\n    key: 'attach',\n    value: function attach() {}\n  }, {\n    key: 'detach',\n    value: function detach() {}\n  }, {\n    key: 'deploy',\n    value: function deploy() {}\n  }, {\n    key: 'insertRule',\n    value: function insertRule() {\n      return false;\n    }\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule() {\n      return true;\n    }\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule() {\n      return false;\n    }\n  }, {\n    key: 'getRules',\n    value: function getRules() {}\n  }, {\n    key: 'indexOf',\n    value: function indexOf() {\n      return -1;\n    }\n  }]);\n\n  return VirtualRenderer;\n}();\n\nexports['default'] = VirtualRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nvar _StyleSheet = require('./StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _PluginsRegistry = require('./PluginsRegistry');\n\nvar _PluginsRegistry2 = _interopRequireDefault(_PluginsRegistry);\n\nvar _rules = require('./plugins/rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _observables = require('./plugins/observables');\n\nvar _observables2 = _interopRequireDefault(_observables);\n\nvar _functions = require('./plugins/functions');\n\nvar _functions2 = _interopRequireDefault(_functions);\n\nvar _sheets = require('./sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nvar _createGenerateClassName2 = _interopRequireDefault(_createGenerateClassName);\n\nvar _createRule2 = require('./utils/createRule');\n\nvar _createRule3 = _interopRequireDefault(_createRule2);\n\nvar _DomRenderer = require('./renderers/DomRenderer');\n\nvar _DomRenderer2 = _interopRequireDefault(_DomRenderer);\n\nvar _VirtualRenderer = require('./renderers/VirtualRenderer');\n\nvar _VirtualRenderer2 = _interopRequireDefault(_VirtualRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultPlugins = _rules2['default'].concat([_observables2['default'], _functions2['default']]);\n\nvar Jss = function () {\n  function Jss(options) {\n    _classCallCheck(this, Jss);\n\n    this.version = \"9.3.3\";\n    this.plugins = new _PluginsRegistry2['default']();\n    this.options = {\n      createGenerateClassName: _createGenerateClassName2['default'],\n      Renderer: _isInBrowser2['default'] ? _DomRenderer2['default'] : _VirtualRenderer2['default'],\n      plugins: []\n    };\n    this.generateClassName = (0, _createGenerateClassName2['default'])();\n\n    // eslint-disable-next-line prefer-spread\n    this.use.apply(this, defaultPlugins);\n    this.setup(options);\n  }\n\n  _createClass(Jss, [{\n    key: 'setup',\n    value: function setup() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (options.createGenerateClassName) {\n        this.options.createGenerateClassName = options.createGenerateClassName;\n        // $FlowFixMe\n        this.generateClassName = options.createGenerateClassName();\n      }\n\n      if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n      if (options.virtual || options.Renderer) {\n        this.options.Renderer = options.Renderer || (options.virtual ? _VirtualRenderer2['default'] : _DomRenderer2['default']);\n      }\n\n      // eslint-disable-next-line prefer-spread\n      if (options.plugins) this.use.apply(this, options.plugins);\n\n      return this;\n    }\n\n    /**\n     * Create a Style Sheet.\n     */\n\n  }, {\n    key: 'createStyleSheet',\n    value: function createStyleSheet(styles) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var index = options.index;\n      if (typeof index !== 'number') {\n        index = _sheets2['default'].index === 0 ? 0 : _sheets2['default'].index + 1;\n      }\n      var sheet = new _StyleSheet2['default'](styles, _extends({}, options, {\n        jss: this,\n        generateClassName: options.generateClassName || this.generateClassName,\n        insertionPoint: this.options.insertionPoint,\n        Renderer: this.options.Renderer,\n        index: index\n      }));\n      this.plugins.onProcessSheet(sheet);\n\n      return sheet;\n    }\n\n    /**\n     * Detach the Style Sheet and remove it from the registry.\n     */\n\n  }, {\n    key: 'removeStyleSheet',\n    value: function removeStyleSheet(sheet) {\n      sheet.detach();\n      _sheets2['default'].remove(sheet);\n      return this;\n    }\n\n    /**\n     * Create a rule without a Style Sheet.\n     */\n\n  }, {\n    key: 'createRule',\n    value: function createRule(name) {\n      var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      // Enable rule without name for inline styles.\n      if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n        options = style;\n        style = name;\n        name = undefined;\n      }\n\n      // Cast from RuleFactoryOptions to RuleOptions\n      // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n      var ruleOptions = options;\n\n      ruleOptions.jss = this;\n      ruleOptions.Renderer = this.options.Renderer;\n      if (!ruleOptions.generateClassName) ruleOptions.generateClassName = this.generateClassName;\n      if (!ruleOptions.classes) ruleOptions.classes = {};\n      var rule = (0, _createRule3['default'])(name, style, ruleOptions);\n\n      if (!ruleOptions.selector && rule instanceof _StyleRule2['default']) {\n        rule.selector = '.' + ruleOptions.generateClassName(rule);\n      }\n\n      this.plugins.onProcessRule(rule);\n\n      return rule;\n    }\n\n    /**\n     * Register plugin. Passed function will be invoked with a rule instance.\n     */\n\n  }, {\n    key: 'use',\n    value: function use() {\n      var _this = this;\n\n      for (var _len = arguments.length, plugins = Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      }\n\n      plugins.forEach(function (plugin) {\n        // Avoids applying same plugin twice, at least based on ref.\n        if (_this.options.plugins.indexOf(plugin) === -1) {\n          _this.options.plugins.push(plugin);\n          _this.plugins.use(plugin);\n        }\n      });\n\n      return this;\n    }\n  }]);\n\n  return Jss;\n}();\n\nexports['default'] = Jss;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.createGenerateClassName = exports.sheets = exports.RuleList = exports.SheetsManager = exports.SheetsRegistry = exports.getDynamicStyles = undefined;\n\nvar _getDynamicStyles = require('./utils/getDynamicStyles');\n\nObject.defineProperty(exports, 'getDynamicStyles', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getDynamicStyles)['default'];\n  }\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nObject.defineProperty(exports, 'SheetsRegistry', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsRegistry)['default'];\n  }\n});\n\nvar _SheetsManager = require('./SheetsManager');\n\nObject.defineProperty(exports, 'SheetsManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsManager)['default'];\n  }\n});\n\nvar _RuleList = require('./RuleList');\n\nObject.defineProperty(exports, 'RuleList', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_RuleList)['default'];\n  }\n});\n\nvar _sheets = require('./sheets');\n\nObject.defineProperty(exports, 'sheets', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sheets)['default'];\n  }\n});\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nObject.defineProperty(exports, 'createGenerateClassName', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_createGenerateClassName)['default'];\n  }\n});\n\nvar _Jss = require('./Jss');\n\nvar _Jss2 = _interopRequireDefault(_Jss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Creates a new instance of Jss.\n */\nvar create = exports.create = function create(options) {\n  return new _Jss2['default'](options);\n};\n\n/**\n * A global Jss instance.\n */\nexports['default'] = create();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = camelCase;\nvar regExp = /([A-Z])/g;\n\n/**\n * Replace a string passed from String#replace.\n * @param {String} str\n * @return {String}\n */\nfunction replace(str) {\n  return \"-\" + str.toLowerCase();\n}\n\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    converted[prop.replace(regExp, replace)] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  return { onProcessStyle: onProcessStyle };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports['default'] = jssGlobal;\n\nvar _jss = require('jss');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar propKey = '@global';\nvar prefixKey = '@global ';\n\nvar GlobalContainerRule = function () {\n  function GlobalContainerRule(key, styles, options) {\n    _classCallCheck(this, GlobalContainerRule);\n\n    this.type = 'global';\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _jss.RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector], { selector: selector });\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(GlobalContainerRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.rules.toString();\n    }\n  }]);\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule = function () {\n  function GlobalPrefixedRule(name, style, options) {\n    _classCallCheck(this, GlobalPrefixedRule);\n\n    this.name = name;\n    this.options = options;\n    var selector = name.substr(prefixKey.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this,\n      selector: selector\n    }));\n  }\n\n  _createClass(GlobalPrefixedRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return this.rule.toString(options);\n    }\n  }]);\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + ' ' + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  var rules = style[propKey];\n\n  if (!rules) return;\n\n  for (var name in rules) {\n    options.sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[propKey];\n}\n\nfunction handlePrefixedGlobalRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop.substr(0, propKey.length) !== propKey) continue;\n\n    var selector = addScope(prop.substr(propKey.length), rule.selector);\n    options.sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (name === propKey) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, prefixKey.length) === prefixKey) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent.type === 'global') {\n        options.global = true;\n      }\n    }\n\n    if (options.global) options.selector = name;\n\n    return null;\n  }\n\n  function onProcessRule(rule) {\n    if (rule.type !== 'style') return;\n\n    handleNestedGlobalContainerRule(rule);\n    handlePrefixedGlobalRule(rule);\n  }\n\n  return { onCreateRule: onCreateRule, onProcessRule: onProcessRule };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = jssNested;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container) {\n    return function (match, key) {\n      var rule = container.getRule(key);\n      if (rule) return rule.selector;\n      (0, _warning2.default)(false, '[JSS] Could not find the referenced rule %s in %s.', key, container.options.meta || container);\n      return key;\n    };\n  }\n\n  var hasAnd = function hasAnd(str) {\n    return str.indexOf('&') !== -1;\n  };\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', ';\n        // Replace all & by the parent or prefix & with the parent.\n        result += hasAnd(nested) ? nested.replace(parentRegExp, parent) : parent + ' ' + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, options) {\n    // Options has been already created, now we only increase index.\n    if (options) return _extends({}, options, { index: options.index + 1 });\n\n    var nestingLevel = rule.options.nestingLevel;\n\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    return _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1\n    });\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    var container = rule.options.parent;\n    var options = void 0;\n    var replaceRef = void 0;\n    for (var prop in style) {\n      var isNested = hasAnd(prop);\n      var isNestedConditional = prop[0] === '@';\n\n      if (!isNested && !isNestedConditional) continue;\n\n      options = getOptions(rule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, rule.selector\n        // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n        );if (!replaceRef) replaceRef = getReplaceRef(container\n        // Replace all $refs.\n        );selector = selector.replace(refRegExp, replaceRef);\n\n        container.addRule(selector, style[prop], _extends({}, options, { selector: selector }));\n      } else if (isNestedConditional) {\n        container\n        // Place conditional right after the parent rule to ensure right ordering.\n        .addRule(prop, null, options).addRule(rule.key, style[prop], { selector: rule.selector });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return { onProcessStyle: onProcessStyle };\n}","// @flow\nimport {mem} from 'lom_atom'\n\nexport function uuid(): string {\n    let uuid = ''\n\n    for (let i = 0; i < 32; i++) {\n        let random = Math.random() * 16 | 0\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            uuid += '-'\n        }\n        uuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16)\n    }\n\n    return uuid\n}\n\nexport function pluralize(count: number, word: string): string {\n\treturn count === 1 ? word : word + 's'\n}\n\nexport class AbstractLocationStore {\n    location(key: string, value?: string): string {\n        throw new Error('implement')\n    }\n}\n\nexport class BrowserLocationStore extends AbstractLocationStore {\n    _location: Location\n    _history: History\n    _ns: string\n\n    constructor(location: Location, history: History, ns?: string = 'rdi_demos') {\n        super()\n        this._ns = ns\n        this._location = location\n        this._history = history\n    }\n\n    _params(): URLSearchParams {\n        return new URLSearchParams(this._location.search)\n    }\n\n    @mem.key.manual location(key: string, value?: string): string {\n        const params = this._params()\n        if (value === undefined) return params.get(key)\n\n        params.set(key, value)\n        this._history.pushState(null, this._ns, `?${params.toString()}`)\n\n        return value\n    }\n}\n","module.exports = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"\\\\\":\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined)   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"(?:[^/]*(?:\\/|$))*\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"[^/]*\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _glob = require('glob-to-regexp');\nvar _express = require('path-to-regexp');\n\nvar stringMatchers = {\n\tbegin: function begin(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.indexOf(targetString) === 0;\n\t\t};\n\t},\n\tend: function end(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.substr(-targetString.length) === targetString;\n\t\t};\n\t},\n\tglob: function glob(targetString) {\n\t\tvar urlRX = _glob(targetString.replace(/^glob:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t},\n\texpress: function express(targetString) {\n\t\tvar urlRX = _express(targetString.replace(/^express:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t}\n};\n\nfunction getHeaderMatcher(expectedHeaders, HeadersConstructor) {\n\tvar expectation = Object.keys(expectedHeaders).map(function (k) {\n\t\treturn { key: k.toLowerCase(), val: expectedHeaders[k] };\n\t});\n\treturn function (headers) {\n\t\tif (!headers) {\n\t\t\theaders = {};\n\t\t}\n\n\t\tif (headers instanceof HeadersConstructor) {\n\t\t\theaders = headers.raw();\n\t\t}\n\n\t\tvar lowerCaseHeaders = Object.keys(headers).reduce(function (obj, k) {\n\t\t\tobj[k.toLowerCase()] = headers[k];\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn expectation.every(function (header) {\n\t\t\treturn areHeadersEqual(lowerCaseHeaders, header);\n\t\t});\n\t};\n}\n\nfunction areHeadersEqual(currentHeader, expectedHeader) {\n\tvar key = expectedHeader.key;\n\tvar val = expectedHeader.val;\n\tvar currentHeaderValue = Array.isArray(currentHeader[key]) ? currentHeader[key] : [currentHeader[key]];\n\tvar expectedHeaderValue = Array.isArray(val) ? val : [val];\n\n\tif (currentHeaderValue.length !== expectedHeaderValue.length) {\n\t\treturn false;\n\t}\n\n\tfor (var i = 0; i < currentHeaderValue.length; ++i) {\n\t\tif (currentHeaderValue[i] !== expectedHeaderValue[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction normalizeRequest(url, options, Request) {\n\tif (Request.prototype.isPrototypeOf(url)) {\n\t\treturn {\n\t\t\turl: url.url,\n\t\t\tmethod: url.method,\n\t\t\theaders: function () {\n\t\t\t\tvar headers = {};\n\t\t\t\turl.headers.forEach(function (name) {\n\t\t\t\t\treturn headers[name] = url.headers.name;\n\t\t\t\t});\n\t\t\t\treturn headers;\n\t\t\t}()\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\turl: url,\n\t\t\tmethod: options && options.method || 'GET',\n\t\t\theaders: options && options.headers\n\t\t};\n\t}\n}\n\nmodule.exports = function (route, Request, HeadersConstructor) {\n\troute = _extends({}, route);\n\n\tif (typeof route.response === 'undefined') {\n\t\tthrow new Error('Each route must define a response');\n\t}\n\n\tif (!route.matcher) {\n\t\tthrow new Error('each route must specify a string, regex or function to match calls to fetch');\n\t}\n\n\tif (!route.name) {\n\t\troute.name = route.matcher.toString();\n\t\troute.__unnamed = true;\n\t}\n\n\tvar matchUrl = void 0;\n\n\tvar expectedMethod = route.method && route.method.toLowerCase();\n\n\tfunction matchMethod(method) {\n\t\treturn !expectedMethod || expectedMethod === (method ? method.toLowerCase() : 'get');\n\t};\n\n\tvar matchHeaders = route.headers ? getHeaderMatcher(route.headers, HeadersConstructor) : function () {\n\t\treturn true;\n\t};\n\n\tif (typeof route.matcher === 'function') {\n\t\tmatchUrl = route.matcher;\n\t} else if (typeof route.matcher === 'string') {\n\n\t\tObject.keys(stringMatchers).some(function (name) {\n\t\t\tif (route.matcher.indexOf(name + ':') === 0) {\n\t\t\t\tvar url = route.matcher.replace(new RegExp('^' + name + ':'), '');\n\t\t\t\tmatchUrl = stringMatchers[name](url);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (!matchUrl) {\n\t\t\tif (route.matcher === '*') {\n\t\t\t\tmatchUrl = function matchUrl() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t} else if (route.matcher.indexOf('^') === 0) {\n\t\t\t\t(function () {\n\t\t\t\t\tconsole.warn('Using \\'^\\' to denote the start of a url is deprecated. Use \\'begin:\\' instead');\n\t\t\t\t\tvar expectedUrl = route.matcher.substr(1);\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url.indexOf(expectedUrl) === 0;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\t(function () {\n\t\t\t\t\tvar expectedUrl = route.matcher;\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url === expectedUrl;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t} else if (route.matcher instanceof RegExp) {\n\t\t(function () {\n\t\t\tvar urlRX = route.matcher;\n\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\treturn urlRX.test(url);\n\t\t\t};\n\t\t})();\n\t}\n\n\tvar matcher = function matcher(url, options) {\n\t\tvar req = normalizeRequest(url, options, Request);\n\t\treturn matchHeaders(req.headers) && matchMethod(req.method) && matchUrl(req.url, options);\n\t};\n\n\tif (route.times) {\n\t\t(function () {\n\t\t\tvar timesLeft = route.times;\n\t\t\troute.matcher = function (url, options) {\n\t\t\t\tvar match = timesLeft && matcher(url, options);\n\t\t\t\tif (match) {\n\t\t\t\t\ttimesLeft--;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\troute.reset = function () {\n\t\t\t\treturn timesLeft = route.times;\n\t\t\t};\n\t\t})();\n\t} else {\n\t\troute.matcher = matcher;\n\t}\n\n\treturn route;\n};","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar compileRoute = require('./compile-route');\n\nvar FetchMock = function FetchMock() {\n\n\tthis.routes = [];\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.bindMethods();\n};\n\nFetchMock.prototype.bindMethods = function () {\n\tthis.fetchMock = FetchMock.prototype.fetchMock.bind(this);\n\tthis.restore = FetchMock.prototype.restore.bind(this);\n\tthis.reset = FetchMock.prototype.reset.bind(this);\n};\n\nFetchMock.prototype.mock = function (matcher, response, options) {\n\n\tvar route = void 0;\n\n\t// Handle the variety of parameters accepted by mock (see README)\n\tif (matcher && response && options) {\n\t\troute = _extends({\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t}, options);\n\t} else if (matcher && response) {\n\t\troute = {\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t};\n\t} else if (matcher && matcher.matcher) {\n\t\troute = matcher;\n\t} else {\n\t\tthrow new Error('Invalid parameters passed to fetch-mock');\n\t}\n\n\tthis.addRoute(route);\n\n\treturn this._mock();\n};\n\nFetchMock.prototype.once = function (matcher, response, options) {\n\treturn this.mock(matcher, response, _extends({}, options, { times: 1 }));\n};\n\nFetchMock.prototype._mock = function () {\n\tif (!this.isSandbox) {\n\t\t// Do this here rather than in the constructor to ensure it's scoped to the test\n\t\tthis.realFetch = this.realFetch || FetchMock.global.fetch;\n\t\tFetchMock.global.fetch = this.fetchMock;\n\t}\n\treturn this;\n};\n\nFetchMock.prototype._unMock = function () {\n\tif (this.realFetch) {\n\t\tFetchMock.global.fetch = this.realFetch;\n\t\tthis.realFetch = null;\n\t}\n\tthis.fallbackResponse = null;\n\treturn this;\n};\n\nFetchMock.prototype.catch = function (response) {\n\tif (this.fallbackResponse) {\n\t\tconsole.warn('calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response');\n\t}\n\tthis.fallbackResponse = response || 'ok';\n\treturn this._mock();\n};\n\nFetchMock.prototype.spy = function () {\n\tthis._mock();\n\treturn this.catch(this.realFetch);\n};\n\nFetchMock.prototype.fetchMock = function (url, opts) {\n\tvar _this = this;\n\n\tvar Promise = this.Promise || FetchMock.Promise;\n\tvar resolveHoldingPromise = void 0;\n\tvar holdingPromise = new Promise(function (res) {\n\t\treturn resolveHoldingPromise = res;\n\t});\n\tthis._holdingPromises.push(holdingPromise);\n\tvar response = this.router(url, opts);\n\n\tif (!response) {\n\t\tconsole.warn('Unmatched ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\tthis.push(null, [url, opts]);\n\n\t\tif (this.fallbackResponse) {\n\t\t\tresponse = this.fallbackResponse;\n\t\t} else {\n\t\t\tthrow new Error('No fallback response defined for ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\t}\n\t}\n\n\tif (typeof response === 'function') {\n\t\tresponse = response(url, opts);\n\t}\n\n\tif (typeof response.then === 'function') {\n\t\tvar responsePromise = response.then(function (response) {\n\t\t\treturn _this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t\t});\n\t\treturn Promise.resolve(responsePromise); // Ensure Promise is always our implementation.\n\t} else {\n\t\treturn this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t}\n};\n\nFetchMock.prototype.router = function (url, opts) {\n\tvar route = void 0;\n\tfor (var i = 0, il = this.routes.length; i < il; i++) {\n\t\troute = this.routes[i];\n\t\tif (route.matcher(url, opts)) {\n\t\t\tthis.push(route.name, [url, opts]);\n\t\t\treturn route.response;\n\t\t}\n\t}\n};\n\nFetchMock.prototype.addRoute = function (route) {\n\n\tif (!route) {\n\t\tthrow new Error('.mock() must be passed configuration for a route');\n\t}\n\n\t// Allows selective application of some of the preregistered routes\n\tthis.routes.push(compileRoute(route, FetchMock.Request, FetchMock.Headers));\n};\n\nFetchMock.prototype.mockResponse = function (url, responseConfig, fetchOpts, resolveHoldingPromise) {\n\tvar Promise = this.Promise || FetchMock.Promise;\n\n\t// It seems odd to call this in here even though it's already called within fetchMock\n\t// It's to handle the fact that because we want to support making it very easy to add a\n\t// delay to any sort of response (including responses which are defined with a function)\n\t// while also allowing function responses to return a Promise for a response config.\n\tif (typeof responseConfig === 'function') {\n\t\tresponseConfig = responseConfig(url, fetchOpts);\n\t}\n\n\t// If the response is a pre-made Response, respond with it\n\tif (FetchMock.Response.prototype.isPrototypeOf(responseConfig)) {\n\t\treturn this.respond(Promise.resolve(responseConfig), resolveHoldingPromise);\n\t}\n\n\t// If the response says to throw an error, throw it\n\tif (responseConfig.throws) {\n\t\treturn this.respond(Promise.reject(responseConfig.throws), resolveHoldingPromise);\n\t}\n\n\t// If the response config looks like a status, start to generate a simple response\n\tif (typeof responseConfig === 'number') {\n\t\tresponseConfig = {\n\t\t\tstatus: responseConfig\n\t\t};\n\t\t// If the response config is not an object, or is an object that doesn't use\n\t\t// any reserved properties, assume it is meant to be the body of the response\n\t} else if (typeof responseConfig === 'string' || !(responseConfig.body || responseConfig.headers || responseConfig.throws || responseConfig.status || responseConfig.__redirectUrl)) {\n\t\tresponseConfig = {\n\t\t\tbody: responseConfig\n\t\t};\n\t}\n\n\t// Now we are sure we're dealing with a response config object, so start to\n\t// construct a real response from it\n\tvar opts = responseConfig.opts || {};\n\n\t// set the response url\n\topts.url = responseConfig.__redirectUrl || url;\n\n\t// Handle a reasonably common misuse of the library - returning an object\n\t// with the property 'status'\n\tif (responseConfig.status && (typeof responseConfig.status !== 'number' || parseInt(responseConfig.status, 10) !== responseConfig.status || responseConfig.status < 200 || responseConfig.status > 599)) {\n\t\tthrow new TypeError('Invalid status ' + responseConfig.status + ' passed on response object.\\nTo respond with a JSON object that has status as a property assign the object to body\\ne.g. {\"body\": {\"status: \"registered\"}}');\n\t}\n\n\t// set up the response status\n\topts.status = responseConfig.status || 200;\n\topts.statusText = FetchMock.statusTextMap['' + opts.status];\n\n\t// Set up response headers. The ternary operator is to cope with\n\t// new Headers(undefined) throwing in Chrome\n\t// https://code.google.com/p/chromium/issues/detail?id=335871\n\topts.headers = responseConfig.headers ? new FetchMock.Headers(responseConfig.headers) : new FetchMock.Headers();\n\n\t// start to construct the body\n\tvar body = responseConfig.body;\n\n\t// convert to json if we need to\n\topts.sendAsJson = responseConfig.sendAsJson === undefined ? FetchMock.config.sendAsJson : responseConfig.sendAsJson;\n\tif (opts.sendAsJson && responseConfig.body != null && (typeof body === 'undefined' ? 'undefined' : _typeof(body)) === 'object') {\n\t\t//eslint-disable-line\n\t\tbody = JSON.stringify(body);\n\t}\n\n\t// add a Content-Length header if we need to\n\topts.includeContentLength = responseConfig.includeContentLength === undefined ? FetchMock.config.includeContentLength : responseConfig.includeContentLength;\n\tif (opts.includeContentLength && typeof body === 'string' && !opts.headers.has('Content-Length')) {\n\t\topts.headers.set('Content-Length', body.length.toString());\n\t}\n\n\t// On the server we need to manually construct the readable stream for the\n\t// Response object (on the client this is done automatically)\n\tif (FetchMock.stream) {\n\t\tvar s = new FetchMock.stream.Readable();\n\t\tif (body != null) {\n\t\t\t//eslint-disable-line\n\t\t\ts.push(body, 'utf-8');\n\t\t}\n\t\ts.push(null);\n\t\tbody = s;\n\t}\n\tvar response = new FetchMock.Response(body, opts);\n\n\t// When mocking a followed redirect we must wrap the response in an object\n\t// which sets the redirected flag (not a writable property on the actual response)\n\tif (responseConfig.__redirectUrl) {\n\t\tresponse = Object.create(response, {\n\t\t\tredirected: {\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\turl: {\n\t\t\t\tvalue: responseConfig.__redirectUrl\n\t\t\t},\n\t\t\t// TODO extend to all other methods as requested by users\n\t\t\t// Such a nasty hack\n\t\t\ttext: {\n\t\t\t\tvalue: response.text.bind(response)\n\t\t\t},\n\t\t\tjson: {\n\t\t\t\tvalue: response.json.bind(response)\n\t\t\t}\n\t\t});\n\t}\n\n\treturn this.respond(Promise.resolve(response), resolveHoldingPromise);\n};\n\nFetchMock.prototype.respond = function (response, resolveHoldingPromise) {\n\tresponse.then(resolveHoldingPromise, resolveHoldingPromise);\n\n\treturn response;\n};\n\nFetchMock.prototype.flush = function () {\n\treturn Promise.all(this._holdingPromises);\n};\n\nFetchMock.prototype.push = function (name, call) {\n\tif (name) {\n\t\tthis._calls[name] = this._calls[name] || [];\n\t\tthis._calls[name].push(call);\n\t\tthis._matchedCalls.push(call);\n\t} else {\n\t\tthis._unmatchedCalls.push(call);\n\t}\n};\n\nFetchMock.prototype.restore = function () {\n\tthis._unMock();\n\tthis.reset();\n\tthis.routes = [];\n\treturn this;\n};\n\nFetchMock.prototype.reset = function () {\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.routes.forEach(function (route) {\n\t\treturn route.reset && route.reset();\n\t});\n\treturn this;\n};\n\nFetchMock.prototype.calls = function (name) {\n\treturn name ? this._calls[name] || [] : {\n\t\tmatched: this._matchedCalls,\n\t\tunmatched: this._unmatchedCalls\n\t};\n};\n\nFetchMock.prototype.lastCall = function (name) {\n\tvar calls = name ? this.calls(name) : this.calls().matched;\n\tif (calls && calls.length) {\n\t\treturn calls[calls.length - 1];\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\nFetchMock.prototype.lastUrl = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[0];\n};\n\nFetchMock.prototype.lastOptions = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[1];\n};\n\nFetchMock.prototype.called = function (name) {\n\tif (!name) {\n\t\treturn !!(this._matchedCalls.length || this._unmatchedCalls.length);\n\t}\n\treturn !!(this._calls[name] && this._calls[name].length);\n};\n\nFetchMock.prototype.done = function (name) {\n\tvar _this2 = this;\n\n\tvar names = name ? [name] : this.routes.map(function (r) {\n\t\treturn r.name;\n\t});\n\t// Can't use array.every because\n\t// a) not widely supported\n\t// b) would exit after first failure, which would break the logging\n\treturn names.map(function (name) {\n\t\tif (!_this2.called(name)) {\n\t\t\tconsole.warn('Warning: ' + name + ' not called');\n\t\t\treturn false;\n\t\t}\n\t\t// would use array.find... but again not so widely supported\n\t\tvar expectedTimes = (_this2.routes.filter(function (r) {\n\t\t\treturn r.name === name;\n\t\t}) || [{}])[0].times;\n\n\t\tif (!expectedTimes) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar actualTimes = _this2.calls(name).length;\n\t\tif (expectedTimes > actualTimes) {\n\t\t\tconsole.warn('Warning: ' + name + ' only called ' + actualTimes + ' times, but ' + expectedTimes + ' expected');\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}).filter(function (bool) {\n\t\treturn !bool;\n\t}).length === 0;\n};\n\nFetchMock.config = {\n\tincludeContentLength: false,\n\tsendAsJson: true\n};\n\nFetchMock.prototype.configure = function (opts) {\n\t_extends(FetchMock.config, opts);\n};\n\nFetchMock.setImplementations = FetchMock.prototype.setImplementations = function (implementations) {\n\tFetchMock.Headers = implementations.Headers || FetchMock.Headers;\n\tFetchMock.Request = implementations.Request || FetchMock.Request;\n\tFetchMock.Response = implementations.Response || FetchMock.Response;\n\tFetchMock.Promise = implementations.Promise || FetchMock.Promise;\n};\n\nFetchMock.prototype.sandbox = function (Promise) {\n\tif (this.routes.length || this.fallbackResponse) {\n\t\tthrow new Error('.sandbox() can only be called on fetch-mock instances that don\\'t have routes configured already');\n\t}\n\tvar instance = new FetchMock();\n\n\t// this construct allows us to create a fetch-mock instance which is also\n\t// a callable function, while circumventing circularity when defining the\n\t// object that this function should be bound to\n\tvar boundMock = void 0;\n\tvar proxy = function proxy() {\n\t\treturn boundMock.apply(null, arguments);\n\t};\n\n\tvar functionInstance = _extends(proxy, // Ensures that the entire returned object is a callable function\n\tFetchMock.prototype, // all prototype methods\n\tinstance // instance data\n\t);\n\tfunctionInstance.bindMethods();\n\tboundMock = functionInstance.fetchMock;\n\tfunctionInstance.isSandbox = true;\n\tif (Promise) {\n\t\tfunctionInstance.Promise = Promise;\n\t}\n\n\treturn functionInstance;\n};\n\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(function (method) {\n\tFetchMock.prototype[method] = function (matcher, response, options) {\n\t\treturn this.mock(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n\tFetchMock.prototype[method + 'Once'] = function (matcher, response, options) {\n\t\treturn this.once(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n});\n\nmodule.exports = FetchMock;","'use strict';\n\nvar statusTextMap = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': 'I\\'m a teapot',\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Unordered Collection',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '509': 'Bandwidth Limit Exceeded',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required'\n};\n\nmodule.exports = statusTextMap;","'use strict';\n\nvar FetchMock = require('./fetch-mock');\nvar statusTextMap = require('./status-text');\nvar theGlobal = typeof window !== 'undefined' ? window : self;\n\nFetchMock.global = theGlobal;\nFetchMock.statusTextMap = statusTextMap;\n\nFetchMock.setImplementations({\n\tPromise: theGlobal.Promise,\n\tRequest: theGlobal.Request,\n\tResponse: theGlobal.Response,\n\tHeaders: theGlobal.Headers\n});\n\nmodule.exports = new FetchMock();","// @flow\nimport {mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport fetchMock from 'fetch-mock/es5/client'\n\nclass KeyValueTheme {\n    @theme get css() {\n        return {\n            item: {\n                display: 'flex'\n            },\n            key: {\n                width: '20%'\n            },\n            value: {\n                width: '80%'\n            }\n        }\n    }\n}\n\nfunction KeyView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.key}>{children}</div>\n}\n\nfunction ValueView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.value}>{children}</div>\n}\n\nexport function ItemView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.item}>{children}</div>\n}\nItemView.Key = KeyView\nItemView.Value = ValueView\n\n\nclass SpinnerTheme {\n    @theme get css() {\n        const spinner = {\n            position: 'relative',\n            zIndex: '1000',\n            backgroundSize: '28px 28px',\n            minWidth: '28px',\n            minHeight: '28px'\n        }\n\n        return {\n            '@keyframes rdi_spinner_wait_move': {\n                from: {\n                    backgroundPosition: '0 0'\n                },\n                to: {\n                    backgroundPosition: '-28px 0'\n                }\n            },\n            spinner: {\n                ...spinner,\n                '& *': {\n                    opacity: '0.8'\n                },\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(0,0,0, 0.05), rgba(0,0,0,0.05) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n                animation: 'rdi_spinner_wait_move .25s steps(6) infinite'\n            },\n            spinnerError: {\n                ...spinner,\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(255,0,0, 0.1), rgba(255,0,0,0.1) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n            }\n        }\n    }\n}\n\nexport function SpinnerView(\n    {children, isError, enableEvents}: {children: any, isError?: boolean, enableEvents?: boolean},\n    {theme: {css}}: {theme: SpinnerTheme}\n) {\n    return <div class={isError ? css.spinnerError : css.spinner}>{children}</div>\n}\n\nexport class Locale {\n    _defaultLang: string\n\n    @mem get lang(): string {\n        setTimeout(() => {\n            this.lang = 'gb'\n        }, 400)\n\n        return this._defaultLang\n    }\n\n    @mem set lang(lang: string) {}\n\n    constructor(lang: string) {\n        this._defaultLang = lang\n    }\n}\n\nexport class BrowserLocalStorage {\n    _storage: Storage\n    _key: string\n\n    constructor(storage: Storage, key: string) {\n        this._storage = storage\n        this._key = key\n    }\n\n    get<V>(): ?V {\n        const value: ?string = this._storage.getItem(this._key)\n        return !value ? null : JSON.parse(value || '')\n    }\n\n    set<V>(value: V): void {\n        this._storage.setItem(this._key, JSON.stringify(value))\n    }\n\n    clear(): void {\n        this._storage.removeItem(this._key)\n    }\n\n    clearAll(): void {\n        this._storage.clear()\n    }\n}\n\nglobal['rdi_fetch_error_rate'] = undefined\nfunction delayed<V>(v: V, delay: number, errorRate: number): (url: string, params: RequestOptions) => Promise<V> {\n    return function resp(url: string, params: RequestOptions) {\n        return new Promise((resolve: Function, reject: Function) => {\n            setTimeout(() => {\n                const globalRate = global['rdi_fetch_error_rate']\n                const rate = 100 - (globalRate == undefined ? errorRate : globalRate)\n                if (Math.floor(Math.random() * 100) > rate) reject(new Error('500 Fake HTTP Error'))\n                else resolve(v)\n            }, delay)\n        })\n    }\n}\n\nexport function mockFetch(storage: Storage, delay?: number = 500, errorRate?: number = 30, mocks: Function[]) {\n    mocks.forEach((createMock) => {\n        createMock(storage).forEach((data) => {\n            fetchMock.mock({...data, response: delayed(data.response, delay, errorRate)})\n        })\n    })\n}\n","// @flow\n\nclass TimeoutError extends Error {\n    statusCode: number\n    constructor(timeout: number) {\n        super('Request timeout client emulation: ' + (timeout / 1000) + 's')\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        this.statusCode = 408\n    }\n}\n\nexport default function timeoutPromise<D>(promise: Promise<D>, timeout?: ?number): Promise<D> {\n    if (!timeout) return promise\n    const tm = timeout\n\n    return Promise.race([\n        promise,\n        new Promise((resolve: (data: D) => void, reject: (err: any) => void) => {\n            setTimeout(() => reject(new TimeoutError(tm)), tm)\n        })\n    ])\n}\n","// @flow\n\nimport type {IRequestOptions} from './interfaces'\n\nexport default class HttpError extends Error {\n    statusCode: ?number\n    message: string\n    stack: string\n    retry: () => void\n    uid: string\n\n    _opts: IRequestOptions\n\n    constructor(\n        parent: Error,\n        opts: IRequestOptions\n    ) {\n        super(parent.message || parent.stack)\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        this.stack = parent.stack\n        this.uid = (parent: Object).uid || ('' + Date.now())\n        this._opts = opts\n        this.statusCode = (parent: Object).statusCode || null\n        this.retry = opts.retry\n    }\n\n    toString(): string {\n        return JSON.stringify(this.toJSON(), null, '\\t')\n    }\n\n    get displayName(): string {\n        return this.toString()\n    }\n\n    toJSON() {\n        const opts = this._opts\n        return {\n            request: {\n                requestId: opts.requestId,\n                url: opts.fullUrl,\n                method: opts.method || 'GET',\n                body: opts.body ? String(opts.body) : null,\n            },\n            error: {\n                uid: this.uid,\n                message: this.message,\n                stack: this.stack,\n                statusCode: this.statusCode\n            }\n        }\n    }\n}\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\nimport type {IRequestOptions, IFetcher, FetcherApi} from './interfaces'\n\nexport default class FetcherResponse implements FetcherApi {\n    _fetcher: IFetcher\n    _options: IRequestOptions\n\n    constructor(method: string, url: string, fullUrl: string, fetcher: IFetcher) {\n        this._options = {\n            method,\n            url,\n            fullUrl,\n            requestId: '' + Date.now(),\n            retry: mem.getRetry(this.text())\n        }\n        this._fetcher = fetcher\n    }\n\n    _getState<V>(): V | void {\n        const {_fetcher: {state}, _options: {url}} = this\n        if (state !== undefined) {\n            const apiData: V | void = (state[url]: any)\n            state[url] = undefined\n            return apiData\n        }\n    }\n\n    options(opts: $Shape<IRequestOptions>): this {\n        Object.assign((this._options: Object), opts)\n        return this\n    }\n\n    _disposed = false\n\n    @mem text<V: string | Error | FormData>(next?: V): V {\n        if (next instanceof Error) throw new Error('Need a string')\n        const {_fetcher: fetcher} = this\n        const opts: IRequestOptions = fetcher.mergeOptions(\n            ({\n                ...this._options,\n                body: next === undefined ? undefined : next\n            }: $Shape<IRequestOptions>)\n        )\n\n        const state = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'string') throw new Error(`fetch.text ${this._options.url}, string expected`)\n            return state\n        }\n\n        this._disposed = false\n        fetcher.request(opts)\n            .then((data: any) => {\n                if (!this._disposed) mem.cache(this.text(data))\n            })\n\n        throw new AtomWait(`${opts.method || 'GET'} ${opts.fullUrl}`)\n    }\n\n    destructor() {\n        this._disposed = true\n    }\n\n    json<V>(next?: V): V {\n        const state: V | void = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'object') throw new Error(`${this._options.url} state need an object`)\n            return state\n        }\n\n        const text = this.text(next === undefined ? undefined : JSON.stringify(next, null, '\\t'))\n\n        return JSON.parse(text)\n    }\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport type {IState, IFetcher, IStateCollector, FetcherApi, IRequestOptions} from './interfaces'\nimport timeoutPromise from './timeoutPromise'\nimport HttpError from './HttpError'\nimport FetcherResponse from './FetcherResponse'\n\nexport default class Fetcher implements IFetcher {\n    state: IState | void\n    _collector: IStateCollector | void\n\n    _init: $Shape<IRequestOptions> | void\n    _baseUrl: [RegExp, string][]\n    _timeout: number\n\n    constructor(opts?: {\n        timeout?: ?number,\n        baseUrl?: string | [string, string][];\n        state?: IState;\n        init?: $Shape<IRequestOptions>;\n        collector?: IStateCollector;\n    } = {}) {\n        const baseUrl = opts.baseUrl\n        this._baseUrl = baseUrl instanceof Array\n            ? baseUrl.map((rec) => ([new RegExp(rec[0]), rec[1]]))\n            : [[new RegExp('.*'), baseUrl || '']]\n\n        this.state = opts.state\n        this._init = opts.init\n        this._timeout = opts.timeout || 120000\n        this._collector = opts.collector\n    }\n\n    _normalizeResponse(r: Response, opts: IRequestOptions): Promise<string> {\n        return r.status === 204 ? Promise.resolve('') : r.text()\n    }\n\n    _normalizeError(err: Error, opts: IRequestOptions): Promise<Error> {\n        return Promise.resolve(new HttpError(err, opts))\n    }\n\n    _fetch(url: string, opts: RequestOptions): Promise<Response> {\n        return timeoutPromise(fetch(url, opts), this._timeout)\n    }\n\n    request(opts: IRequestOptions): Promise<*> {\n        const collector = this._collector\n        if (collector) collector.beginFetch(opts)\n        return this._fetch(opts.fullUrl, opts)\n            .then((r: Response) => this._normalizeResponse(r, opts))\n            .catch((err: Error) => this._normalizeError(err, opts))\n            .catch((err: Error) => new HttpError(err, opts))\n            .then((result) => {\n                if (collector) collector.endFetch(result, opts)\n                return result\n            })\n    }\n\n    _getFullUrl(url: string): string {\n        const bu = this._baseUrl\n        let baseUrl = ''\n        for (let i = 0; i < bu.length; i++) {\n            const [mask, base] = bu[i]\n            if (mask.test(url)) {\n                baseUrl = base\n                break\n            }\n        }\n\n        return baseUrl + url\n    }\n\n    mergeOptions(init: IRequestOptions): IRequestOptions {\n        return {...this._init, ...(init: Object)}\n    }\n\n    @mem.key _request([method, url]: [string, string]): FetcherApi {\n        return new FetcherResponse(method, url, this._getFullUrl(url), this)\n    }\n\n    post<V>(url: string): FetcherApi {\n        return this._request(['POST', url])\n    }\n\n    get(url: string): FetcherApi {\n        return this._request(['GET', url])\n    }\n\n    put(url: string): FetcherApi {\n        return this._request(['PUT', url])\n    }\n\n    delete(url: string): FetcherApi {\n        return this._request(['DELETE', url])\n    }\n\n    patch(url: string): FetcherApi {\n        return this._request(['PATCH', url])\n    }\n}\n","// @flow\nimport {mem, AtomWait, detached, ConsoleLogger, defaultContext} from 'lom_atom'\nimport {createReactWrapper, createCreateElement, Injector} from 'reactive-di'\n\nimport {h, Component} from 'preact'\nimport 'preact/devtools'\nimport {create as createJss} from 'jss'\nimport jssCamel from 'jss-camel-case'\nimport jssGlobal from 'jss-global'\nimport jssNested from 'jss-nested'\n\nimport {BrowserLocationStore, AbstractLocationStore} from './common-todomvc'\nimport {SpinnerView} from './common'\n\nimport {Fetcher, HttpError} from '../fetcher'\n\ndefaultContext.setLogger(new ConsoleLogger())\n\nconst stackId = Symbol('stack_id')\nfunction ErrorableView({\n    error,\n    children\n}: {\n    children: any,\n    error: Error\n}) {\n    const errorWasShowed = (error: Object)[stackId]\n    ;(error: Object)[stackId] = true\n    const isWait = error instanceof AtomWait\n    return <SpinnerView id=\"errorable\" isError={!isWait}>\n        {isWait || errorWasShowed\n            ? <div id=\"content\" style={{pointerEvents: 'none'}}>{children}</div>\n            : <div id=\"error\" style={{padding: '0.1em 1em'}}>\n                <h3 id=\"error-title\">{error.message}</h3>\n                {error instanceof HttpError\n                    ? <div id=\"recover\" style={{paddingBottom: '1em'}}>\n                        <button id=\"recover-button\" onClick={error.retry}>Retry</button>\n                    </div>\n                    : null\n                }\n            </div>\n        }\n    </SpinnerView>\n}\n\nconst jss = createJss({\n    plugins: [\n        jssNested(),\n        jssCamel(),\n        jssGlobal()\n    ]\n})\n\nconst injector = new Injector(\n    [\n        [Fetcher, new Fetcher({baseUrl: '/api'})],\n        [AbstractLocationStore, new BrowserLocationStore(location, history)]\n    ],\n    (jss: any)\n)\n\n\nconst lomCreateElement = createCreateElement(\n    createReactWrapper(\n        Component,\n        ErrorableView,\n        detached,\n        injector\n    ),\n    (h: React$CreateElement),\n    true\n)\nglobal['lom_h'] = lomCreateElement\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\nimport {cloneComponent} from 'reactive-di'\n\nclass FirstCounterService {\n    lang = {\n        add: 'Add',\n        error: 'Gen error'\n    }\n    @mem get value(): number {\n        setTimeout(() => {\n            mem.cache(this.value = 1)\n            // this.value = new Error('loading error')\n        }, 500)\n\n        throw new AtomWait()\n    }\n\n    @mem set value(v: number | Error) {\n        if (typeof v === 'string') {\n            throw new TypeError('Test error')\n        }\n    }\n}\n\nfunction CounterMessageView(\n    {value}: {\n        value: number\n}) {\n    return <div>\n        Count: {value}\n    </div>\n}\n\nfunction FirstCounterView(\n    _: {},\n    counter: FirstCounterService\n) {\n    return <div>\n        <CounterMessageView id=\"message\" value={counter.value}/>\n        <button id=\"add\" onClick={() => { counter.value++ }}>{counter.lang.add}</button>\n        <button id=\"error\" onClick={() => { counter.value = ('someStr': any) }}>{counter.lang.error}</button>\n    </div>\n}\n\nclass SecondCounterService extends FirstCounterService {\n    lang = {\n        add: 'cloned Add',\n        error: 'cloned Gen error'\n    }\n}\n\nfunction SecondCounterMessageView({value}: {value: number}) {\n    return <div>\n        SecondCounter Count: {value}\n    </div>\n}\n\nfunction SecondCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button id={id} onClick={onClick}>SecondCounterAddButton: {children}</button>\n}\n\nconst SecondCounterView = cloneComponent(FirstCounterView, [\n    [FirstCounterService, SecondCounterService],\n    [CounterMessageView, SecondCounterMessageView],\n    ['add', SecondCounterAddButtonView],\n    ['error', null]\n], 'SecondCounterView')\n\nfunction ThirdCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button id={id} onClick={onClick}>ThirdCounterAddButton: {children}</button>\n}\n\nconst ThirdCounterView = cloneComponent(SecondCounterView, [\n    ['add', ThirdCounterAddButtonView]\n], 'ThirdCounterView')\n\nexport function CounterView() {\n    return <ul>\n        <li id=\"list(first)\">FirstCounter: <FirstCounterView id=\"first\"/></li>\n        <li id=\"list(second)\">SecondCounter extends FirstCounter: <SecondCounterView id=\"second\"/></li>\n        <li id=\"list(third)\">ThirdCounter extends SecondCounter: <ThirdCounterView id=\"third\"/></li>\n    </ul>\n}\n","// @flow\n\nimport {mem, action} from 'lom_atom'\nimport {props} from 'reactive-di'\n\ninterface IHelloProps {\n    name: string;\n}\n\nclass HelloContext {\n    @mem name: string\n    @props set props({name}: IHelloProps) {\n        this.name = name\n    }\n    @mem get greet() {\n        return 'Hello, ' + this.name\n    }\n}\n\nexport function HelloView(\n    _: IHelloProps,\n    {context}: {context: HelloContext}\n) {\n    return <div>\n        {context.greet}\n        <br id=\"br\"/><input id=\"input\" value={context.name} onInput={({target}) => {\n            context.name = (target: any).value\n        }} />\n    </div>\n}\n","\nimport {BrowserLocalStorage} from '../common'\nimport {uuid} from '../common-todomvc'\ninterface ITodo {\n    id: string;\n    title: string;\n    completed: boolean;\n}\n\nfunction getBody(body?: ?(string | Object)): Object {\n    return typeof body === 'string'\n        ? JSON.parse(body)\n        : ((body || {}): any)\n}\n\nfunction sortByDate(el1: ITodo, el2: ITodo): number {\n    if (!el2.created || el1.created) {\n        return 0\n    }\n\n    if (String(el1.created) > String(el2.created)) {\n        return 1\n    }\n    if (String(el1.created) < String(el2.created)) {\n        return -1\n    }\n    return 0\n}\n\nexport default function todoMocks(\n    rawStorage: Storage\n) {\n    const storage = new BrowserLocalStorage(rawStorage, 'lom_todomvc')\n    const infos = new BrowserLocalStorage(rawStorage, 'lom_todomvc_info')\n    const defaultTodos = [\n        {\n            id: 't1',\n            title: 'test todo #1',\n            completed: false\n        },\n        {\n            id: 't2',\n            title: 'test todo #2',\n            completed: true\n        }\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                let newTodos = storage.get()\n                if (!newTodos) {\n                    newTodos = defaultTodos\n                    storage.set(newTodos)\n                }\n                return newTodos.sort(sortByDate)\n            }\n        },\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todo/(.*)/info'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const data = infos.get() || []\n                const id = url.match(new RegExp('/api/todo/(.+)/info'))[1]\n                const i = data.find((inf) => inf.id === id)\n                return {id, description: i ? i.description : 'desc'}\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const data: ?ITodo[] = storage.get()\n                const todos = data || defaultTodos\n                const updates: Map<string, $Shape<ITodo>> = new Map(getBody(params.body))\n\n                const newTodos = todos\n                    .map((todo: Todo) => {\n                        return {...todo, ...updates.get(todo.id)}\n                    })\n                    .sort(sortByDate)\n                storage.set(newTodos)\n\n                return newTodos\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const data: ?Todo[] = storage.get()\n                const todos = data || defaultTodos\n                const ids: string[] = getBody(params.body)\n                const newTodos = todos.filter((todo: Todo) =>\n                    ids.indexOf(todo.id) === -1\n                )\n                storage.set(newTodos)\n\n                return newTodos.map(({id}) => id)\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const data: ?Todo[] = storage.get()\n                const todos = data || []\n                const id = url.match(new RegExp('/api/todo/(.+)'))[1]\n                const newTodos = todos.filter((todo: Todo) => todo.id !== id)\n                storage.set(newTodos.sort(sortByDate))\n\n                return {id}\n            }\n        },\n        {\n            method: 'POST',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const data: ?Todo[] = storage.get()\n                const id = url.match(new RegExp('/api/todo/(.+)'))[1]\n                const newTodo = getBody(params.body)\n                const newTodos = (data || []).map(\n                    (todo: Todo) => (todo.id === id ? newTodo : todo)\n                )\n                storage.set(newTodos)\n\n                return newTodo\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todo'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const todos = storage.get()\n                const body = getBody(params.body)\n                const id = uuid()\n\n                const newTodo = {\n                    ...body,\n                    id\n                }\n                todos.push(newTodo)\n                storage.set(todos)\n                infos.set((infos.get() || []).concat([{id, description: 'desc#' + id}]))\n                return newTodo\n            }\n        }\n    ]\n}\n","// @flow\nimport {action, mem, AtomWait} from 'lom_atom'\n\nimport {uuid} from '../../common-todomvc'\n\nexport interface ITodoData {\n    id: string;\n    completed: boolean;\n    title: string;\n}\n\nexport interface ITodoRepository {\n    update(todo: Todo): void;\n    remove(todo: Todo): void;\n}\n\nexport default class Todo implements ITodoData {\n    completed: boolean\n    title: string\n    id: string\n\n    _store: ITodoRepository\n\n    constructor(todo?: $Shape<ITodoData> = {}, store: ITodoRepository) {\n        this.title = todo.title || ''\n        this.id = todo.id || uuid()\n        this.completed = todo.completed || false\n        this._store = store\n    }\n\n    copy(data?: ?$Shape<ITodoData>): Todo {\n        return data\n            ? new Todo({...this.toJSON(), ...data}, this._store)\n            : this\n    }\n\n    @action update(data?: $Shape<ITodoData>) {\n        this.saving = this.copy(data)\n    }\n\n    @mem get saving(): ?Todo {\n        return null\n    }\n\n    @mem set saving(next: Todo) {\n        this._store.update(next)\n        mem.cache(this.saving)\n    }\n\n    @mem get removing(): boolean {\n        return false\n    }\n\n    @mem set removing(next: boolean) {\n        this._store.remove(this)\n        mem.cache(this.removing)\n    }\n\n    @action remove() {\n        this.removing = true\n    }\n\n    @action toggle() {\n        this.update({completed: !this.completed})\n    }\n\n    toJSON(): ITodoData {\n        return {\n            completed: this.completed,\n            title: this.title,\n            id: this.id\n        }\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\n\nimport {Fetcher} from '../../../fetcher'\nimport {AbstractLocationStore} from '../../common-todomvc'\nimport Todo from './Todo'\nimport type {ITodoRepository, ITodoData} from './Todo'\n\ntype ITogglePatch = [string, $Shape<ITodoData>]\n\nexport const TODO_FILTER = {\n    ALL: 'all',\n    COMPLETE: 'complete',\n    ACTIVE: 'active'\n}\n\nexport type IFilter = $Values<typeof TODO_FILTER>\n\nexport default class TodoRepository implements ITodoRepository {\n    _fetcher: Fetcher\n    _location: AbstractLocationStore\n\n    constructor(fetcher: Fetcher, location: AbstractLocationStore) {\n        this._fetcher = fetcher\n        this._location = location\n    }\n\n    @mem get todos(): Todo[] {\n        return this._fetcher.get('/todos').json()\n            .map((data: ITodoData) => new Todo(data, this))\n    }\n    set todos(todos: Todo[]) {}\n\n    @mem get activeTodoCount(): number {\n        return this.todos.reduce(\n            (sum: number, todo: Todo) => sum + (todo.completed ? 0 : 1),\n            0\n        )\n    }\n\n    get completedCount(): number {\n        return this.todos.length - this.activeTodoCount\n    }\n\n    remove(todo: Todo) {\n        this._fetcher.delete(`/todo/${todo.id}`).json()\n        this.todos = this.todos.filter(t => t.id !== todo.id)\n    }\n\n    update(next: Todo) {\n        this._fetcher.post(`/todo/${next.id}`).json(next)\n        this.todos = this.todos.map(t => t.id === next.id ? next : t)\n    }\n\n    @mem get adding(): ?Todo {\n        return null\n    }\n\n    @mem set adding(next: Todo) {\n        this._fetcher.put('/todo').json(next)\n        this.todos = [...this.todos, next]\n        mem.cache(this.adding)\n    }\n\n    @action addTodo(title: string) {\n        this.adding = new Todo({title}, this)\n    }\n\n    @mem get patching(): ?ITogglePatch[] {\n        return null\n    }\n\n    @mem set patching(patches: ?ITogglePatch[]) {\n        this._fetcher.put(`/todos`).json(patches)\n        const patchMap = new Map(patches)\n        this.todos = this.todos.map(todo => todo.copy(patchMap.get(todo.id)))\n        mem.cache(this.patching)\n    }\n\n    @action toggleAll() {\n        const todos = this.todos\n        const completed = !!todos.find(todo => !todo.completed)\n        this.patching = todos.map(todo => ([todo.id, {completed}]))\n    }\n\n    @mem get clearing(): ?string[] {\n        return null\n    }\n\n    @mem set clearing(delIds: string[]) {\n        this._fetcher.delete(`/todos`).json(delIds)\n        const delSet = new Set(delIds)\n        this.todos = this.todos.filter(todo => !delSet.has(todo.id))\n        mem.cache(this.clearing)\n    }\n\n    @action clearCompleted() {\n        this.clearing = this.todos.filter(todo => todo.completed).map(todo => todo.id)\n    }\n\n    get filter(): IFilter {\n        return this._location.location('todo_filter') || TODO_FILTER.ALL\n    }\n\n    set filter(filter: IFilter) {\n        return this._location.location('todo_filter', filter)\n    }\n\n    @mem get filteredTodos(): Todo[] {\n        const todos = this.todos\n        switch (this.filter) {\n            case TODO_FILTER.ALL:\n                return todos\n            case TODO_FILTER.COMPLETE:\n                return todos.filter(todo => !!todo.completed)\n            case TODO_FILTER.ACTIVE:\n                return todos.filter(todo => !todo.completed)\n            default:\n                throw new Error(`Unknown filter value: ${this.filter}`)\n        }\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\n\nimport TodoRepository from './models/TodoRepository'\n\nclass TodoToAdd {\n    @mem title: string = ''\n    _todoRepository: TodoRepository\n\n    constructor(todoRepository: TodoRepository) {\n        this._todoRepository = todoRepository\n    }\n\n    get adding(): boolean {\n        return !!this._todoRepository.adding\n    }\n\n    @action.defer setRef(ref: ?HTMLInputElement) {\n        if (!ref) return\n        ref.focus()\n    }\n\n    @action onInput({target}: Event) {\n        this.title = (target: any).value\n    }\n\n    @action onKeyDown(e: Event) {\n        if (e.keyCode === 13 && this.title) {\n            this._todoRepository.addTodo(this.title)\n            this.title = ''\n        }\n    }\n}\n\nclass TodoHeaderTheme {\n    @theme get css() {\n        return {\n            newTodo: {\n                position: 'relative',\n                margin: '0',\n                width: '100%',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                border: '0',\n                color: 'inherit',\n                padding: '16px 16px 16px 60px',\n                border: 'none',\n                background: 'rgba(0, 0, 0, 0.003)',\n                boxShadow: 'inset 0 -2px 1px rgba(0,0,0,0.03)',\n                boxSizing: 'border-box',\n                '-webkit-font-smoothing': 'antialiased',\n                '-moz-osx-font-smoothing': 'grayscale'\n            }\n        }\n    }\n}\n\nexport default function TodoHeaderView(\n    _: {},\n    {todoToAdd, theme: {css}}: {\n        theme: TodoHeaderTheme;\n        todoToAdd: TodoToAdd;\n    }\n) {\n    return <header>\n        <input\n            id=\"input\"\n            class={css.newTodo}\n            placeholder=\"What needs to be done?\"\n            disabled={todoToAdd.adding}\n            onInput={todoToAdd.onInput}\n            ref={todoToAdd.setRef}\n            value={todoToAdd.title}\n            onKeyDown={todoToAdd.onKeyDown}\n        />\n    </header>\n}\n","// @flow\n\nimport {props, theme} from 'reactive-di'\nimport {action, mem, AtomWait} from 'lom_atom'\nimport Todo from './models/Todo'\n\nconst ESCAPE_KEY = 27\nconst ENTER_KEY = 13\n\ninterface ITodoProps {\n    +todo: Todo;\n}\n\nclass TodoItemEdit {\n    @mem todoBeingEditedId: ?string = null\n    @mem editText = ''\n\n    @props props: ITodoProps\n\n    @action beginEdit() {\n        const {todo} = this.props\n        this.todoBeingEditedId = todo.id\n        this.editText = todo.title\n    }\n\n    @action setText({target}: KeyboardEvent) {\n        this.editText = (target: any).value.trim()\n    }\n\n    @action.defer setEditInputRef(el: ?HTMLInputElement) {\n        if (!el) return\n        el.focus()\n    }\n\n    @action submit(event: Event) {\n        if (!this.todoBeingEditedId) return\n        const title = this.editText.trim()\n        const {todo} = this.props\n        if (title) {\n            if (todo.title !== title) {\n                todo.update({title})\n                this.editText = ''\n            }\n        } else {\n            this.remove()\n        }\n        this.todoBeingEditedId = null\n    }\n\n    @action keyDown(event: KeyboardEvent) {\n        switch (event.which) {\n            case ESCAPE_KEY:\n                this.editText = this.props.todo.title\n                this.todoBeingEditedId = null\n                break\n\n            case ENTER_KEY:\n                this.submit(event)\n                break\n\n            default: break\n        }\n    }\n\n    @action toggle() {\n        this.props.todo.toggle()\n        this.todoBeingEditedId = null\n    }\n\n    @action remove() {\n        this.props.todo.remove()\n        this.todoBeingEditedId = null\n    }\n}\n\nclass TodoItemTheme {\n    @theme get css() {\n        const itemBase = {\n            position: 'relative',\n            fontSize: '24px',\n            borderBottom: '1px solid #ededed',\n            '&:last-child': {\n                borderBottom: 'none'\n            },\n            '&:hover $destroy': {\n                display: 'block'\n            }\n        }\n\n        const viewLabelBase = {\n            wordBreak: 'break-all',\n            padding: '15px 15px 15px 60px',\n            display: 'block',\n            lineHeight: '1.2',\n            transition: 'color 0.4s'\n        }\n\n        return {\n            regular: {\n                ...itemBase\n            },\n            completed: {\n                ...itemBase\n            },\n\n            editing: {\n                borderBottom: 'none',\n                padding: 0,\n                '&:last-child': {\n                    marginBottom: '-1px'\n                }\n            },\n\n            edit: {\n                backgroundColor: '#F2FFAB',\n                display: 'block',\n                zIndex: '0',\n                border: 0,\n                position: 'relative',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                width: '406px',\n                padding: '12px 16px',\n                margin: '0 0 0 43px'\n            },\n\n            toggle: {\n                textAlign: 'center',\n                width: '40px',\n                /* auto, since non-WebKit browsers doesn't support input styling */\n                height: 'auto',\n                position: 'absolute',\n                top: 0,\n                bottom: 0,\n                margin: 'auto 0',\n                border: 'none', /* Mobile Safari */\n                '-webkit-appearance': 'none',\n                appearance: 'none',\n                opacity: 0,\n                '& + label': {\n                    /*\n                        Firefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n                        IE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n                    */\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E')`,\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center left'\n                },\n\n                '&:checked + label': {\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E')`\n                }\n            },\n\n            viewLabelRegular: {\n                ...viewLabelBase\n            },\n\n            viewLabelCompleted: {\n                ...viewLabelBase,\n                color: '#d9d9d9',\n                textDecoration: 'line-through'\n            },\n\n            destroy: {\n                padding: 0,\n                border: 0,\n                background: 'none',\n                verticalAlign: 'baseline',\n                display: 'none',\n                position: 'absolute',\n                right: '10px',\n                top: 0,\n                bottom: 0,\n                width: '40px',\n                height: '40px',\n                fontSize: '30px',\n                margin: 'auto 0',\n                color: '#cc9a9a',\n                marginBottom: '11px',\n                transition: 'color 0.2s ease-out',\n                '&:hover': {\n                    color: '#af5b5e'\n                },\n\n                '&:after': {\n                    content: '\\'\\''\n                }\n            }\n        }\n    }\n\n    label(isCompleted: boolean) {\n        const css = this.css\n        return isCompleted ? css.viewLabelCompleted : css.viewLabelRegular\n    }\n\n    editable(isCompleted: boolean) {\n        return isCompleted ? this.css.completed : this.css.regular\n    }\n}\n\nexport default function TodoItemView(\n    {todo}: ITodoProps,\n    {todoItemEdit, theme}: {\n        theme: TodoItemTheme;\n        todoItemEdit: TodoItemEdit;\n    }\n) {\n    const css = theme.css\n    if (todoItemEdit.todoBeingEditedId === todo.id) {\n        return <li class={css.editing}>\n            <input\n                id=\"editing\"\n                ref={todoItemEdit.setEditInputRef}\n                class={css.edit}\n                disabled={todo.saving}\n                value={todoItemEdit.editText}\n                onBlur={todoItemEdit.submit}\n                onInput={todoItemEdit.setText}\n                onKeyDown={todoItemEdit.keyDown}\n            />\n        </li>\n    }\n\n    return <li class={theme.editable(todo.completed)}>\n        <input\n            id=\"toggle\"\n            class={css.toggle}\n            type=\"checkbox\"\n            disabled={todo.saving}\n            checked={todo.completed}\n            onChange={todoItemEdit.toggle}\n        />\n        <label\n            id=\"beginEdit\"\n            class={theme.label(todo.completed)}\n            disabled={todo.saving}\n            onDblClick={todoItemEdit.beginEdit}\n        >\n            {todo.title}\n        </label>\n        <button\n            id=\"destroy\"\n            class={css.destroy}\n            disabled={todo.removing}\n            onClick={todoItemEdit.remove}\n        />\n    </li>\n}\n","// @flow\nimport {theme} from 'reactive-di'\nimport Todo from './models/Todo'\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoItemView from './TodoItemView'\n\nclass TodoMainTheme {\n    @theme get css() {\n        const toggleAll = {\n            outline: 'none',\n            position: 'absolute',\n            top: '-55px',\n            left: '-12px',\n            width: '60px',\n            height: '34px',\n            textAlign: 'center',\n            border: 'none', /* Mobile Safari */\n\n            '&:before': {\n                content: '\\'\\'',\n                fontSize: '22px',\n                color: '#e6e6e6',\n                padding: '10px 27px 10px 27px'\n            },\n            '&:checked:before': {\n                color: '#737373'\n            }\n        }\n\n        return {\n            main: {\n                position: 'relative',\n                zIndex: 2,\n                borderTop: '1px solid #e6e6e6'\n            },\n            toggleAll: {\n                ...toggleAll\n            },\n            todoList: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none'\n            },\n\n            /*\n            Hack to remove background from Mobile Safari.\n            Can't use it globally since it destroys checkboxes in Firefox\n            */\n            '@media screen and (-webkit-min-device-pixel-ratio:0)': {\n                toggleAll: {\n                    ...toggleAll,\n                    transform: 'rotate(90deg)',\n                    appearance: 'none',\n                    '-webkit-appearance': 'none',\n                }\n            }\n        }\n    }\n}\n\nexport default function TodoMainView(\n    _: {},\n    {\n        todoRepository: {toggleAll, activeTodoCount, patching, clearing, filteredTodos},\n        theme: {css}\n    }: {\n        todoRepository: TodoRepository;\n        theme: TodoMainTheme;\n    }\n) {\n    if (!filteredTodos.length) return null\n    return <section class={css.main}>\n        <input\n            id=\"input\"\n            class={css.toggleAll}\n            disabled={patching || clearing}\n            type=\"checkbox\"\n            onChange={toggleAll}\n            checked={activeTodoCount === 0}\n        />\n        <ul class={css.todoList} id=\"items\">\n            {filteredTodos.map(todo => <TodoItemView\n                id={`todo(${todo.id})`}\n                key={todo.id}\n                todo={todo}\n            />)}\n        </ul>\n    </section>\n}\n","// @flow\nimport {action} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport TodoRepository, {TODO_FILTER} from './models/TodoRepository'\n\nclass TodoFooterService {\n    _repository: TodoRepository\n    links = [\n        {\n            id: TODO_FILTER.ALL,\n            title: 'All'\n        },\n        {\n            id: TODO_FILTER.ACTIVE,\n            title: 'Active'\n        },\n        {\n            id: TODO_FILTER.COMPLETE,\n            title: 'Completed'\n        }\n    ]\n\n    constructor(repository: TodoRepository) {\n        this._repository = repository\n    }\n\n    @action clickLink(e: Event) {\n        e.preventDefault()\n        this._repository.filter = (e.target: any).dataset.linkid\n    }\n}\n\nclass TodoFooterTheme {\n    @theme get css() {\n        const linkBase = {\n            color: 'inherit',\n            margin: '3px',\n            padding: '3px 7px',\n            textDecoration: 'none',\n            border: '1px solid transparent',\n            borderRadius: '3px',\n            '& :hover': {\n                borderColor: 'rgba(175, 47, 47, 0.1)'\n            }\n        }\n\n        return {\n            footer: {\n                color: '#777',\n                padding: '10px 15px',\n                height: '20px',\n                textAlign: 'center',\n                borderTop: '1px solid #e6e6e6',\n                '&:before': {\n                    content: '\\'\\'',\n                    position: 'absolute',\n                    right: '0',\n                    bottom: '0',\n                    left: '0',\n                    height: '50px',\n                    overflow: 'hidden',\n                    boxShadow: `0 1px 1px rgba(0, 0, 0, 0.2),\n                        0 8px 0 -3px #f6f6f6,\n                        0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                        0 16px 0 -6px #f6f6f6,\n                        0 17px 2px -6px rgba(0, 0, 0, 0.2)`,\n                }\n            },\n\n            todoCount: {\n                float: 'left',\n                textAlign: 'left'\n            },\n\n            filters: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none',\n                position: 'absolute',\n                right: 0,\n                left: 0\n            },\n\n            filterItem: {\n                display: 'inline'\n            },\n\n            linkRegular: {\n                ...linkBase\n            },\n\n            linkSelected: {\n                ...linkBase,\n                borderColor: 'rgba(175, 47, 47, 0.2)'\n            },\n\n            clearCompleted: {\n                margin: 0,\n                padding: 0,\n                border: 0,\n                background: 'none',\n                fontSize: '100%',\n                verticalAlign: 'baseline',\n                appearance: 'none',\n\n                float: 'right',\n                position: 'relative',\n                lineHeight: '20px',\n                textDecoration: 'none',\n                cursor: 'pointer',\n\n                '&:hover': {\n                    textDecoration: 'underline'\n                }\n            }\n        }\n    }\n\n    link(isSelected: boolean) {\n        return isSelected ? this.css.linkSelected : this.css.linkRegular\n    }\n}\n\nexport default function TodoFooterView(\n    _: {},\n    {\n        todoRepository: {completedCount, activeTodoCount, filter, clearing, clearCompleted},\n        todoFooterService: {links, clickLink},\n        theme\n    }: {\n        todoRepository: TodoRepository;\n        todoFooterService: TodoFooterService;\n        theme: TodoFooterTheme;\n    }\n) {\n    const css = theme.css\n    if (activeTodoCount === 0 && completedCount === 0) {\n        return null\n    }\n\n    return <footer class={css.footer}>\n        <span class={css.todoCount} id=\"count\">\n            <strong id=\"number\">{activeTodoCount}</strong> item(s) left\n        </span>\n        <ul class={css.filters} id=\"filters\">\n            {links.map(link => <li\n                    key={link.id}\n                    class={css.filterItem}\n                    id={`link(${link.id})`}\n                ><a\n                    id={`link(${link.id}).a`}\n                    class={theme.link(filter === link.id)}\n                    href={`?todo_filter=${link.id}`}\n                    data-linkid={link.id}\n                    onClick={clickLink}\n                >{link.title}</a>\n            </li>)}\n        </ul>\n        {completedCount === 0\n            ? null\n            : <button\n                id=\"clear\"\n                class={css.clearCompleted}\n                disabled={clearing}\n                onClick={clearCompleted}>\n                Clear completed\n            </button>\n        }\n    </footer>\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\n\nimport {SpinnerView, ItemView} from '../common'\n\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoHeaderView from './TodoHeaderView'\nimport TodoMainView from './TodoMainView'\nimport TodoFooterView from './TodoFooterView'\n\nclass TodoAppTheme {\n    @theme get css() {\n        return {\n            todoapp: {\n                background: '#fff',\n                position: 'relative',\n                border: '1px solid #ededed',\n                boxShadow: '0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)'\n            },\n\n            '@global': {\n                ':focus': {\n                    outline: 0\n                },\n                html: {\n                    margin: 0,\n                    padding: 0\n                },\n                body: {\n                    font: '14px \"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                    lineHeight: '1.4em',\n                    background: '#f5f5f5',\n                    color: '#4d4d4d',\n                    minWidth: '230px',\n                    maxWidth: '550px',\n                    margin: '0 auto',\n                    padding: 0,\n                    '-webkit-font-smoothing': 'antialiased',\n                    '-moz-osx-font-smoothing': 'grayscale',\n                    fontWeight: '300'\n                }\n            }\n        }\n    }\n}\n\nexport default function TodoAppView(\n    _: {},\n    {\n        theme: {css}\n    }: {\n        // One instance per TodoHeaderView, TodoMainView, TodoFooterView\n        // Without it, all views receives separate instance of TodoRepository\n        repository: TodoRepository;\n        theme: TodoAppTheme;\n    }\n) {\n    return <div class={css.todoapp}>\n        <TodoHeaderView id=\"header\" />\n        <TodoMainView id=\"main\" />\n        <TodoFooterView id=\"footer\" />\n    </div>\n}\n","// @flow\n\nimport {mem, AtomWait, action} from 'lom_atom'\nimport {props} from 'reactive-di'\nimport {Fetcher} from '../fetcher'\n\ninterface IAutocompleteProps {\n    initialValue: string;\n    id: string;\n}\n\nclass DebouncedValue {\n    _handler: ?number = null\n    _timeout: number\n\n    constructor(timeout: number) {\n        this._timeout = timeout\n    }\n\n    @mem value<V>(next?: V): V {\n        clearTimeout(this._handler)\n        this._handler = setTimeout(\n            () => mem.cache(this.value(next)),\n            this._timeout\n        )\n        throw new AtomWait()\n    }\n\n    destructor() {\n        clearTimeout(this._handler)\n    }\n}\n\nclass AutocompleteService {\n    @mem nameToSearch: string = ''\n\n    @props set props({initialValue}: IAutocompleteProps) {\n        this.nameToSearch = initialValue\n    }\n\n    _fetcher: Fetcher\n\n    _debounced = new DebouncedValue(500)\n\n    constructor(fetcher: Fetcher) {\n        this._fetcher = fetcher\n    }\n\n    @mem get searchResults(): string[] {\n        const url = `/autocomplete?q=${this._debounced.value(this.nameToSearch)}`\n        return this._fetcher.get(url).json()\n    }\n\n    @action setValue({target}: Event) {\n        this.nameToSearch = (target: Object).value\n    }\n}\n\nfunction AutocompleteResultsView(\n    _: {},\n    {searchResults}: AutocompleteService\n) {\n    return <ul>\n        {searchResults.map((result: string, i: number) =>\n            <li key={i} id={`list(${i})`}>\n                {result}\n            </li>\n        )}\n    </ul>\n}\n\nexport function AutocompleteView(\n    _: IAutocompleteProps,\n    {nameToSearch, setValue}: AutocompleteService\n) {\n    return <div>\n        <div id=\"filter\">\n            Filter: <input value={nameToSearch} id=\"value\" onInput={setValue}/>\n        </div>\n        Values: <AutocompleteResultsView id=\"results\" />\n    </div>\n}\n\nexport function autocompleteMocks(\n    rawStorage: Storage\n) {\n    const fixture = [\n        'John Doe',\n        'Vasia Pupkin'\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/autocomplete'),\n            response(url: string, params: RequestOptions) { // eslint-disable-line\n                const names = url.match(new RegExp('/api/autocomplete\\\\?q=(.+)'))\n                const name = names && names.length ? names[1] : ''\n\n                return name\n                    ? fixture.filter((userName: string) => userName.indexOf(name) === 0)\n                    : fixture\n            }\n        }\n    ]\n}\n","// @flow\n\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\nclass Store {\n    @mem red = 140\n}\n\nclass CssChangeTheme {\n    _store: Store\n\n    constructor(store: Store) {\n        this._store = store\n    }\n\n    @mem @theme.self get css() {\n        const store = this._store\n        return {\n            wrapper: {\n                background: `rgb(${store.red}, 0, 0)`\n            }\n        }\n    }\n}\n\nexport function CssChangeView(\n    _: {},\n    {store, theme: {css}}: { theme: CssChangeTheme, store: Store}\n) {\n    return <div className={css.wrapper}>\n        color via css {store.red}: <input\n            id=\"range\"\n            type=\"range\"\n            min=\"0\"\n            max=\"255\"\n            value={store.red}\n            onInput={({target}) => { store.red = Number(target.value) }}\n        />\n    </div>\n}\n","// @flow\nimport './setupReact'\nimport {mem} from 'lom_atom'\n\nimport {render} from 'preact'\n\nimport {CounterView} from './counter'\nimport {HelloView} from './hello'\nimport {TodoAppView, todoMocks} from './todomvc'\nimport {AutocompleteView, autocompleteMocks} from './autocomplete'\n\nimport {ItemView, Locale, mockFetch} from './common'\nimport {AbstractLocationStore} from './common-todomvc'\nimport {CssChangeView} from './cssChange'\n\nmockFetch(localStorage, 500, 30, [\n    todoMocks,\n    autocompleteMocks\n])\n\nclass Store {\n    static deps = [AbstractLocationStore]\n    _locationStore: AbstractLocationStore\n\n    constructor(locationStore: AbstractLocationStore) {\n        this._locationStore = locationStore\n    }\n\n    pages = ['hello', 'counter', 'error', 'todomvc', 'autocomplete', 'css-change']\n\n    get page(): string {\n        return this._locationStore.location('page') || this.pages[0]\n    }\n\n    set page(page: string) {\n        return this._locationStore.location('page', page)\n    }\n\n    @mem name = 'John'\n}\n\nfunction AppView(\n    {lang}: {\n        lang: string;\n    },\n    {store}: {\n        store: Store;\n    }\n) {\n    let page\n    switch (store.page) {\n        case 'hello':\n            page = <HelloView id=\"hello_app\" name={store.name} />\n            break\n\n        case 'counter':\n            page = <CounterView id=\"counter_app\" />\n            break\n\n        case 'autocomplete':\n            page = <AutocompleteView id=\"autocomplete_app\" initialValue={store.name} />\n            break\n\n        case 'todomvc':\n            page = <TodoAppView id=\"todo_app\" />\n            break\n\n        case 'css-change':\n            page = <CssChangeView id=\"css_change_app\" />\n            break\n\n        default:\n            page = <div id=\"unknown\">Unknown page</div>\n    }\n\n    return <div style={{dislay: 'flex', justifyContent: 'center'}}>\n        <div id=\"menu\" style={{padding: '1em'}}>\n            {store.pages.map((link: string) =>\n                <button\n                    key={link}\n                    style={{margin: '0.3em'}}\n                    id={`button(${link})`}\n                    onClick={() => store.page = link }\n                >{link}</button>\n            )}\n        </div>\n        <div id=\"layout\" style={{border: '1px solid gray', padding: '1em', margin: '0 1em'}}>\n            <h1 id=\"title\">{store.page}</h1>\n            {page}\n        </div>\n\n        <ItemView id=\"inital\">\n            <ItemView.Key id=\"key\">Some initial value:</ItemView.Key>\n            <ItemView.Value id=\"value\">\n                <input\n                    id=\"value-input\"\n                    value={store.name}\n                    onInput={({target}: Event) => { store.name = (target: any).value }}\n                />\n            </ItemView.Value>\n        </ItemView>\n        <div id=\"emulate-message\">\n            Type <strong id=\"code-1\">rdi_fetch_error_rate = 0</strong> in console\n            for disabling server error emulation. <strong id=\"code-2\">rdi_fetch_error_rate = 100</strong> for 100% errors.\n        </div>\n    </div>\n}\nconst el = document.getElementById('app')\nif (!el) throw new Error('Document has no #app container')\n\nrender(<AppView id=\"demos\" lang=\"ru\" />, el)\n"],"names":["global","self","window","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","Object","create","constructor","__proto__","ATOM_STATUS_DESTROYED","ATOM_STATUS_OBSOLETE","ATOM_STATUS_CHECKING","ATOM_STATUS_PULLING","ATOM_STATUS_ACTUAL","ATOM_STATUS_DEEP_RESET","ATOM_FORCE_NONE","ATOM_FORCE_CACHE","ATOM_FORCE_ASYNC","ATOM_FORCE_RETRY","catchedId","Symbol","AtomWait","message","new","Error","getId","t","hk","displayName","name","setFunctionName","fn","scheduleNative","requestAnimationFrame","handler","setTimeout","origId","throwOnAccess","valueOf","proxify","v","Proxy","handlers","Map","Array","arrayHandler","source","stack","equal","conformed","conform","objectHandler","count","Date","dateHandler","getTime","RegExp","toString","processed","WeakMap","isComponent","has","set","conformHandler","get","indexOf","push","res","pop","checkSlave","slave","check","obsoleteSlave","obsolete","deleteSlave","master","dislead","actualizeMaster","status","actualize","Atom","field","owner","context","hostAtoms","manualReset","keyHash","_masters","_slaves","_keyHash","_context","current","undefined","_next","_suggested","_hostAtoms","k","parent","String","toJSON","destructor","forEach","_checkSlaves","delete","destroyHost","_retry","value","next","forceCache","_push","slaves","Set","unreap","add","addMaster","normalized","deepReset","refresh","nextRaw","prev","newValue","masters","f","error","size","proposeToReap","proposeToPull","getRetry","_this","fastCallMethod","host","methodName","args","apply","e","action","descr","defer","TypeError","definingProperty","actionId","bind","actionFn","actionDefer","reap","atom","reaping","Context","_logger","_updating","_reaping","_scheduled","_namespace","_owners","__run","_run","_start","_pendCount","_destroyValue","from","onDestruct","setLogger","logger","to","_schedule","updating","start","end","beginTransaction","namespace","result","endTransaction","defaultContext","detached","proto","force","createGetSetHandler","getSetHandler","call","createValueHandler","initializer","valueHandler","mem","handlerKey","longName","memManual","getKeyFromObj","params","keys","sort","JSON","stringify","getKey","memkey","rawKey","atomMap","memkeyManual","manual","cache","data","getRetryResult","defineProperties","stringToColor","str","hash","charCodeAt","color","Math","abs","substring","ConsoleLogger","opts","_useColors","useColors","_filter","filter","beginGroup","group","endGroup","groupEnd","debug","err","test","rdiRendered","rdiInst","rdiProp","DisposableSheet","sheet","remover","__lom_key","__lom_sheet","__lom_remover","classes","assign","remove","badClassSymbols","SheetManager","sheetProcessor","_cache","_sheetProcessor","css","memoized","createStyleSheet","replace","attach","removeStyleSheet","fakeSheet","themeProp","isInstance","className","getSheet","sm","theme","sheetManager","di","instance","themeSelf","depId","rdiId","Alias","dest","Injector","items","state","id","rendered","_resolved","_listeners","_state","parentContext","map","item","src","invoke","depName","prop","isFn","deps","_r","a","resolve","alias","rawId","newKey","invokeWithProps","propsChanged","listeners","listener","copy","argDeps","resolved","l","argDep","obj","dep","createReactWrapper","BaseComponent","ErrorComponent","rootInjector","isFullEqual","AtomizedComponent","reactContext","_propsChanged","_el","_lastData","injector","_keys","cns","__lom_ctx","_render","render","_injector","aliases","shouldComponentUpdate","oldProps","componentWillUnmount","r","prevContext","onError","forceUpdate","reactWrapper","WrappedComponent","createCreateElement","atomize","createElement","compositeId","lomCreateElement","arguments","attrs","el","newEl","isAtomic","_id","__lom","newArgs","dn","cons","provideMap","cloneComponent","cloned","concat","join","VNode","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","p","options","vnode","extend","Promise","then","cloneElement","slice","ASYNC_RENDER","enqueueRender","isNamedNode","createNode","node","cssText","old","isSvg","eventProxy","setProperty","mounts","document","dom","originalChildren","keyed","keyedLen","childrenLen","_child","vlen","j","_component","components","Ctor","splice","component","ref","previousProps","previousState","nextBase","skip","getNodeProps","originalComponent","createComponent","base","inner","ATTR_KEY","createReactElement","createReactDOMComponent","childNodes","nodeType","Node","ELEMENT_NODE","isText","TEXT_NODE","textContent","toLowerCase","updateReactComponent","typeName","element","type","createReactCompositeComponent","_currentElement","setState","_instance","_renderedComponent","instanceMap","componentOrNode","newInstance","inst","nextRootKey","roots","findRoots","createDevToolsBridge","ComponentTree","parentNode","body","Mount","Reconciler","componentAdded","isRootComponent","_rootID","_renderNewRootComponent","_inDevTools","mountComponent","childInst","componentUpdated","prevRenderedChildren","receiveComponent","contains","unmountComponent","componentRemoved","_parentComponent","__u","parentElement","visitNonCompositeChildren","visitor","_renderedChildren","initDevTools","__REACT_DEVTOOLS_GLOBAL_HOOK__","bridge","nextAfterMount","afterMount","nextAfterUpdate","afterUpdate","nextBeforeUnmount","beforeUnmount","inject","exports","_typeof","iterator","styles","extract","isArray","extracted","_classCallCheck","SheetsRegistry","registry","index","reset","attached","warning","condition","format","len","argIndex","console","x","_warning2","_interopRequireDefault","_warning","__esModule","SheetsManager","sheets","refs","manage","unmanage","detach","toCssValue","joinWithSpace","toCss","_toCssValue2","_toCssValue","indentStr","indent","selector","style","_options$indent","fallbacks","fallback","_prop","_value","_prop2","_value2","allowEmpty","_extends","hasOwnProperty","_toCss2","_toCss","StyleRule","isProcessed","Renderer","selectorText","renderer","nextValue","jss","plugins","onChangeValue","renderable","setStyle","applyTo","json","link","hasChanged","setSelector","replaceRule","symbolObservablePonyfill","root","_Symbol","observable","_ponyfill2","_ponyfill","module","require$$0","_symbolObservable2","_symbolObservable","cloneStyle","_isObservable2","_isObservable","typeOfStyle","newStyle","createRule","_StyleRule2","_StyleRule","_cloneStyle2","_cloneStyle","decl","declCopy","rule","onCreateRule","linkRule","cssRule","rules","cssRules","_global2","_global","CSS","env","escapeRegex","escape","_createRule2","_createRule","_linkRule2","_linkRule","_escape2","_escape","RuleList","raw","_options","generateClassName","register","unregister","process","onProcessRule","update","_options2","onUpdate","getUnescapedKeysMap","_key","_SheetsRegistry2","_SheetsRegistry","_RuleList2","_RuleList","StyleSheet","deployed","linked","deploy","addRule","queue","insertRule","addRules","added","getRule","deleteRule","getRules","_StyleSheet2","_StyleSheet","ns","jssCounter","maxRules","ruleCounter","prefix","classNamePrefix","isBrowser","PluginsRegistry","hooks","onProcessStyle","nextStyle","onProcessSheet","processedValue","use","plugin","SimpleRule","KeyframesRule","frames","ConditionalRule","FontFaceRule","ViewportRule","_SimpleRule2","_SimpleRule","_KeyframesRule2","_KeyframesRule","_ConditionalRule2","_ConditionalRule","_FontFaceRule2","_FontFaceRule","_ViewportRule2","_ViewportRule","re","style$","subscribe","styleRule","_loop","_ret","regExp","_kebabCase2","_kebabCase","now","fnValuesNs","fnStyleNs","fnStyle","_sheets2","_sheets","getStyle","getPropertyValue","CSSRuleTypes","extractKey","substr","STYLE_RULE","KEYFRAMES_RULE","getHead","head","getElementsByTagName","isAttached","appendChild","_style","removeChild","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","text","nodeValue","trim","findPrevNode","nextElementSibling","comment","nextSibling","insertStyle","prevNode","insertBefore","insertionPointElement","_parentNode","DomRenderer","hasInsertedRules","_ref","media","meta","setAttribute","nonce","__webpack_nonce__","_index","newCssRule","VirtualRenderer","_isInBrowser2","_isInBrowser","_PluginsRegistry2","_PluginsRegistry","_rules2","_rules","_observables2","_observables","_functions2","_functions","_createGenerateClassName2","_createGenerateClassName","_createRule3","_DomRenderer2","_DomRenderer","_VirtualRenderer2","_VirtualRenderer","defaultPlugins","Jss","version","setup","createGenerateClassName","virtual","ruleOptions","_len","_getDynamicStyles","_SheetsManager","_Jss2","_Jss","camelCase","convertCase","converted","jssGlobal","propKey","prefixKey","GlobalContainerRule","_jss","GlobalPrefixedRule","separatorRegExp","addScope","scope","parts","split","scoped","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","jssNested","parentRegExp","refRegExp","getReplaceRef","container","match","default","hasAnd","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","nested","getOptions","nestingLevel","replaceRef","isNested","isNestedConditional","uuid","random","pluralize","AbstractLocationStore","location","BrowserLocationStore","history","_ns","_location","_history","_params","URLSearchParams","search","pushState","Location","History","glob","reStr","extended","globstar","inGroup","flags","c","prevChar","starCount","nextChar","isGlobstar","arr","pathToRegexp","parse","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","tokens","path","defaultDelimiter","delimiter","exec","m","escaped","offset","capture","modifier","asterisk","partial","repeat","optional","pattern","escapeGroup","escapeString","encodeURIComponentPretty","encodeURI","toUpperCase","encodeAsterisk","matches","encode","pretty","encodeURIComponent","token","segment","isarray","attachKeys","sensitive","regexpToRegexp","groups","arrayToRegexp","regexp","stringToRegexp","strict","route","endsWithDelimiter","stringMatchers","begin","targetString","url","urlRX","_glob","express","_express","getHeaderMatcher","expectedHeaders","HeadersConstructor","expectation","headers","lowerCaseHeaders","reduce","every","header","areHeadersEqual","currentHeader","expectedHeader","val","currentHeaderValue","expectedHeaderValue","normalizeRequest","Request","isPrototypeOf","method","response","matcher","__unnamed","matchUrl","expectedMethod","matchMethod","matchHeaders","some","warn","expectedUrl","req","times","timesLeft","FetchMock","routes","_calls","_matchedCalls","_unmatchedCalls","_holdingPromises","bindMethods","fetchMock","restore","mock","addRoute","_mock","once","isSandbox","realFetch","fetch","_unMock","fallbackResponse","catch","spy","resolveHoldingPromise","holdingPromise","router","responsePromise","mockResponse","il","compileRoute","Headers","responseConfig","fetchOpts","Response","respond","throws","reject","__redirectUrl","parseInt","statusText","statusTextMap","sendAsJson","config","includeContentLength","stream","s","Readable","flush","all","calls","lastCall","matched","lastUrl","lastOptions","called","done","_this2","names","expectedTimes","actualTimes","bool","configure","setImplementations","implementations","sandbox","boundMock","proxy","functionInstance","theGlobal","KeyValueTheme","KeyView","ValueView","ItemView","Key","Value","SpinnerTheme","spinner","SpinnerView","isError","enableEvents","spinnerError","Locale","lang","_defaultLang","BrowserLocalStorage","storage","_storage","getItem","setItem","clear","removeItem","clearAll","Storage","delayed","delay","errorRate","resp","globalRate","rate","floor","mockFetch","mocks","createMock","TimeoutError","timeout","statusCode","timeoutPromise","promise","tm","race","HttpError","uid","_opts","retry","requestId","fullUrl","FetcherResponse","fetcher","_disposed","_fetcher","_getState","apiData","mergeOptions","request","Fetcher","baseUrl","_baseUrl","rec","_init","init","_timeout","_collector","collector","_normalizeResponse","_normalizeError","_fetch","beginFetch","endFetch","_getFullUrl","bu","mask","_request","post","put","patch","stackId","ErrorableView","errorWasShowed","isWait","createJss","jssCamel","Component","FirstCounterService","CounterMessageView","FirstCounterView","_","counter","SecondCounterService","SecondCounterMessageView","SecondCounterAddButtonView","onClick","SecondCounterView","ThirdCounterAddButtonView","ThirdCounterView","CounterView","HelloContext","HelloView","greet","getBody","sortByDate","el1","el2","created","todoMocks","rawStorage","infos","defaultTodos","newTodos","find","inf","description","todos","updates","todo","ids","newTodo","Todo","store","title","completed","_store","saving","removing","toggle","TODO_FILTER","TodoRepository","addTodo","adding","toggleAll","patching","clearCompleted","clearing","sum","activeTodoCount","patches","patchMap","delIds","delSet","ALL","COMPLETE","ACTIVE","TodoToAdd","todoRepository","_todoRepository","setRef","focus","onInput","onKeyDown","keyCode","TodoHeaderTheme","background","boxShadow","boxSizing","TodoHeaderView","todoToAdd","ESCAPE_KEY","ENTER_KEY","TodoItemEdit","beginEdit","todoBeingEditedId","editText","setText","setEditInputRef","submit","event","keyDown","which","TodoItemTheme","label","isCompleted","viewLabelCompleted","viewLabelRegular","editable","regular","itemBase","viewLabelBase","TodoItemView","todoItemEdit","editing","edit","destroy","TodoMainTheme","TodoMainView","filteredTodos","main","todoList","TodoFooterService","repository","links","_repository","clickLink","preventDefault","dataset","linkid","TodoFooterTheme","isSelected","linkSelected","linkRegular","linkBase","TodoFooterView","completedCount","todoFooterService","footer","todoCount","filters","filterItem","TodoAppTheme","TodoAppView","todoapp","DebouncedValue","_handler","AutocompleteService","initialValue","nameToSearch","_debounced","setValue","AutocompleteResultsView","searchResults","AutocompleteView","autocompleteMocks","fixture","userName","Store","CssChangeTheme","red","CssChangeView","wrapper","Number","localStorage","locationStore","pages","_locationStore","page","AppView","getElementById"],"mappings":"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"}