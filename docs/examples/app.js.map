{"version":3,"file":"app.js","sources":["../../rollupPluginBabelHelpers","../../node_modules/rollup-plugin-node-globals/src/global.js","../../src/fetcher/apiMocker.js","../../node_modules/glob-to-regexp/index.js","../../node_modules/isarray/index.js","../../node_modules/path-to-regexp/index.js","../../node_modules/fetch-mock/es5/compile-route.js","../../node_modules/fetch-mock/es5/fetch-mock.js","../../node_modules/fetch-mock/es5/status-text.js","../../node_modules/fetch-mock/es5/client.js","../../src/examples/autocomplete/autocompleteMocks.js","../../src/rdi/BrowserLocalStorage.js","../../src/rdi/uuid.js","../../src/examples/todomvc/todoMocks.js","../../src/examples/mocks.js","../../node_modules/lom_atom/rollupPluginBabelHelpers","../../node_modules/lom_atom/src/interfaces.js","../../node_modules/lom_atom/src/utils.js","../../node_modules/lom_atom/src/conform.js","../../node_modules/lom_atom/src/Atom.js","../../node_modules/lom_atom/src/decorators/action.js","../../node_modules/lom_atom/src/Context.js","../../node_modules/lom_atom/src/decorators/detached.js","../../node_modules/lom_atom/src/decorators/mem.js","../../node_modules/lom_atom/src/ConsoleLogger.js","../../node_modules/reactive-di/rollupPluginBabelHelpers","../../node_modules/reactive-di/src/interfaces.js","../../node_modules/reactive-di/src/SheetManager.js","../../node_modules/reactive-di/src/theme.js","../../node_modules/reactive-di/src/Injector.js","../../node_modules/reactive-di/src/createReactWrapper.js","../../node_modules/reactive-di/src/createCreateElement.js","../../node_modules/reactive-di/src/cloneComponent.js","../../node_modules/reactive-di/src/props.js","../../node_modules/preact/src/vnode.js","../../node_modules/preact/src/options.js","../../node_modules/preact/src/h.js","../../node_modules/preact/src/util.js","../../node_modules/preact/src/clone-element.js","../../node_modules/preact/src/constants.js","../../node_modules/preact/src/render-queue.js","../../node_modules/preact/src/vdom/index.js","../../node_modules/preact/src/dom/index.js","../../node_modules/preact/src/vdom/diff.js","../../node_modules/preact/src/vdom/component-recycler.js","../../node_modules/preact/src/vdom/component.js","../../node_modules/preact/src/component.js","../../node_modules/preact/src/render.js","../../node_modules/preact/devtools/devtools.js","../../node_modules/jss/lib/utils/getDynamicStyles.js","../../node_modules/jss/lib/SheetsRegistry.js","../../node_modules/warning/browser.js","../../node_modules/jss/lib/SheetsManager.js","../../node_modules/jss/lib/utils/toCssValue.js","../../node_modules/jss/lib/utils/toCss.js","../../node_modules/jss/lib/rules/StyleRule.js","../../node_modules/symbol-observable/lib/ponyfill.js","../../node_modules/symbol-observable/lib/index.js","../../node_modules/symbol-observable/index.js","../../node_modules/jss/lib/utils/isObservable.js","../../node_modules/jss/lib/utils/cloneStyle.js","../../node_modules/jss/lib/utils/createRule.js","../../node_modules/jss/lib/utils/linkRule.js","../../node_modules/jss/lib/utils/escape.js","../../node_modules/jss/lib/RuleList.js","../../node_modules/jss/lib/sheets.js","../../node_modules/jss/lib/StyleSheet.js","../../node_modules/jss/lib/utils/moduleId.js","../../node_modules/jss/lib/utils/createGenerateClassName.js","../../node_modules/is-in-browser/dist/module.js","../../node_modules/jss/lib/PluginsRegistry.js","../../node_modules/jss/lib/rules/SimpleRule.js","../../node_modules/jss/lib/rules/KeyframesRule.js","../../node_modules/jss/lib/rules/ConditionalRule.js","../../node_modules/jss/lib/rules/FontFaceRule.js","../../node_modules/jss/lib/rules/ViewportRule.js","../../node_modules/jss/lib/plugins/rules.js","../../node_modules/jss/lib/plugins/observables.js","../../node_modules/jss/lib/utils/kebabCase.js","../../node_modules/jss/lib/plugins/functions.js","../../node_modules/jss/lib/renderers/DomRenderer.js","../../node_modules/jss/lib/renderers/VirtualRenderer.js","../../node_modules/jss/lib/Jss.js","../../node_modules/jss/lib/index.js","../../node_modules/jss-camel-case/lib/index.js","../../node_modules/jss-global/lib/index.js","../../node_modules/jss-nested/lib/index.js","../../src/rdi/AbstractLocationStore.js","../../src/rdi/BrowserLocationStore.js","../../src/fetcher/timeoutPromise.js","../../src/fetcher/HttpError.js","../../src/fetcher/FetcherResponse.js","../../src/fetcher/Fetcher.js","../../src/fetcher/lom/FetcherResponseLom.js","../../src/fetcher/lom/FetcherLom.js","../../src/rdi/SpinnerView.js","../../src/examples/ErrorableView.js","../../src/examples/counter/counter.js","../../src/examples/hello/hello.js","../../src/examples/todomvc/models/Todo.js","../../src/examples/todomvc/models/TodoRepository.js","../../src/examples/todomvc/TodoHeaderView.js","../../src/examples/todomvc/TodoItemView.js","../../src/examples/todomvc/TodoMainView.js","../../src/examples/todomvc/TodoFooterView.js","../../src/examples/todomvc/TodoAppView.js","../../src/examples/autocomplete/autocomplete.js","../../src/examples/cssChange/cssChange.js","../../src/examples/ItemView.js","../../src/rdi/PageMap.js","../../src/examples/AppView.js","../../src/examples/index.js"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","// @flow\n\ninterface FetchMock {\n    mock(mock: Mock): void;\n}\ntype MockResponse = (url: string, params: RequestOptions, ...args: string[]) => Object | Array<*>\ntype Mock = {\n    method: string;\n    matcher: RegExp;\n    response: MockResponse;\n}\ntype MockCreator = (storage: Storage) => Mock[]\n\nglobal['rdi_fetch_error_rate'] = undefined\n\nfunction delayed(\n    mock: Mock,\n    delay: number,\n    errorRate: number,\n    fakeError: Error\n): (url: string, params: RequestOptions) => Promise<MockResponse> {\n    return function resp(url: string, params: RequestOptions) {\n        return new Promise((resolve: (v: MockResponse) => void, reject: (e: Error) => void) => {\n            setTimeout(() => {\n                const globalRate: number | void = global['rdi_fetch_error_rate']\n                const rate = 100 - (globalRate == undefined ? errorRate : globalRate)\n                if (Math.floor(Math.random() * 100) > rate) {\n                    reject(fakeError)\n                } else {\n                    resolve((url: string, params: RequestOptions) =>\n                        mock.response(\n                            url,\n                            params,\n                            ...(url.match(mock.matcher) || []).slice(1)\n                        )\n                    )\n                }\n            }, delay)\n        })\n    }\n}\n\nexport default function apiMocker(\n    {\n        fetchMock,\n        mocks,\n        storage = localStorage,\n        delay = 500,\n        errorRate = 30,\n        fakeError = new Error('500 Fake HTTP Error')\n    }: {\n        fetchMock: FetchMock;\n        mocks: MockCreator[];\n        storage?: Storage;\n        delay?: number;\n        errorRate?: number;\n        fakeError?: Error;\n    }\n): void {\n    mocks.forEach(createMock => {\n        createMock(storage).forEach(data => {\n            fetchMock.mock({\n                ...data,\n                response: delayed(data, delay, errorRate, fakeError)\n            })\n        })\n    })\n}\n","module.exports = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"\\\\\":\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined)   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"(?:[^/]*(?:\\/|$))*\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"[^/]*\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _glob = require('glob-to-regexp');\nvar _express = require('path-to-regexp');\n\nvar stringMatchers = {\n\tbegin: function begin(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.indexOf(targetString) === 0;\n\t\t};\n\t},\n\tend: function end(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.substr(-targetString.length) === targetString;\n\t\t};\n\t},\n\tglob: function glob(targetString) {\n\t\tvar urlRX = _glob(targetString.replace(/^glob:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t},\n\texpress: function express(targetString) {\n\t\tvar urlRX = _express(targetString.replace(/^express:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t}\n};\n\nfunction getHeaderMatcher(expectedHeaders, HeadersConstructor) {\n\tvar expectation = Object.keys(expectedHeaders).map(function (k) {\n\t\treturn { key: k.toLowerCase(), val: expectedHeaders[k] };\n\t});\n\treturn function (headers) {\n\t\tif (!headers) {\n\t\t\theaders = {};\n\t\t}\n\n\t\tif (headers instanceof HeadersConstructor) {\n\t\t\theaders = headers.raw();\n\t\t}\n\n\t\tvar lowerCaseHeaders = Object.keys(headers).reduce(function (obj, k) {\n\t\t\tobj[k.toLowerCase()] = headers[k];\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn expectation.every(function (header) {\n\t\t\treturn areHeadersEqual(lowerCaseHeaders, header);\n\t\t});\n\t};\n}\n\nfunction areHeadersEqual(currentHeader, expectedHeader) {\n\tvar key = expectedHeader.key;\n\tvar val = expectedHeader.val;\n\tvar currentHeaderValue = Array.isArray(currentHeader[key]) ? currentHeader[key] : [currentHeader[key]];\n\tvar expectedHeaderValue = Array.isArray(val) ? val : [val];\n\n\tif (currentHeaderValue.length !== expectedHeaderValue.length) {\n\t\treturn false;\n\t}\n\n\tfor (var i = 0; i < currentHeaderValue.length; ++i) {\n\t\tif (currentHeaderValue[i] !== expectedHeaderValue[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction normalizeRequest(url, options, Request) {\n\tif (Request.prototype.isPrototypeOf(url)) {\n\t\treturn {\n\t\t\turl: url.url,\n\t\t\tmethod: url.method,\n\t\t\theaders: function () {\n\t\t\t\tvar headers = {};\n\t\t\t\turl.headers.forEach(function (name) {\n\t\t\t\t\treturn headers[name] = url.headers.name;\n\t\t\t\t});\n\t\t\t\treturn headers;\n\t\t\t}()\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\turl: url,\n\t\t\tmethod: options && options.method || 'GET',\n\t\t\theaders: options && options.headers\n\t\t};\n\t}\n}\n\nmodule.exports = function (route, Request, HeadersConstructor) {\n\troute = _extends({}, route);\n\n\tif (typeof route.response === 'undefined') {\n\t\tthrow new Error('Each route must define a response');\n\t}\n\n\tif (!route.matcher) {\n\t\tthrow new Error('each route must specify a string, regex or function to match calls to fetch');\n\t}\n\n\tif (!route.name) {\n\t\troute.name = route.matcher.toString();\n\t\troute.__unnamed = true;\n\t}\n\n\tvar matchUrl = void 0;\n\n\tvar expectedMethod = route.method && route.method.toLowerCase();\n\n\tfunction matchMethod(method) {\n\t\treturn !expectedMethod || expectedMethod === (method ? method.toLowerCase() : 'get');\n\t};\n\n\tvar matchHeaders = route.headers ? getHeaderMatcher(route.headers, HeadersConstructor) : function () {\n\t\treturn true;\n\t};\n\n\tif (typeof route.matcher === 'function') {\n\t\tmatchUrl = route.matcher;\n\t} else if (typeof route.matcher === 'string') {\n\n\t\tObject.keys(stringMatchers).some(function (name) {\n\t\t\tif (route.matcher.indexOf(name + ':') === 0) {\n\t\t\t\tvar url = route.matcher.replace(new RegExp('^' + name + ':'), '');\n\t\t\t\tmatchUrl = stringMatchers[name](url);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (!matchUrl) {\n\t\t\tif (route.matcher === '*') {\n\t\t\t\tmatchUrl = function matchUrl() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t} else if (route.matcher.indexOf('^') === 0) {\n\t\t\t\t(function () {\n\t\t\t\t\tconsole.warn('Using \\'^\\' to denote the start of a url is deprecated. Use \\'begin:\\' instead');\n\t\t\t\t\tvar expectedUrl = route.matcher.substr(1);\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url.indexOf(expectedUrl) === 0;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\t(function () {\n\t\t\t\t\tvar expectedUrl = route.matcher;\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url === expectedUrl;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t} else if (route.matcher instanceof RegExp) {\n\t\t(function () {\n\t\t\tvar urlRX = route.matcher;\n\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\treturn urlRX.test(url);\n\t\t\t};\n\t\t})();\n\t}\n\n\tvar matcher = function matcher(url, options) {\n\t\tvar req = normalizeRequest(url, options, Request);\n\t\treturn matchHeaders(req.headers) && matchMethod(req.method) && matchUrl(req.url, options);\n\t};\n\n\tif (route.times) {\n\t\t(function () {\n\t\t\tvar timesLeft = route.times;\n\t\t\troute.matcher = function (url, options) {\n\t\t\t\tvar match = timesLeft && matcher(url, options);\n\t\t\t\tif (match) {\n\t\t\t\t\ttimesLeft--;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\troute.reset = function () {\n\t\t\t\treturn timesLeft = route.times;\n\t\t\t};\n\t\t})();\n\t} else {\n\t\troute.matcher = matcher;\n\t}\n\n\treturn route;\n};","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar compileRoute = require('./compile-route');\n\nvar FetchMock = function FetchMock() {\n\n\tthis.routes = [];\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.bindMethods();\n};\n\nFetchMock.prototype.bindMethods = function () {\n\tthis.fetchMock = FetchMock.prototype.fetchMock.bind(this);\n\tthis.restore = FetchMock.prototype.restore.bind(this);\n\tthis.reset = FetchMock.prototype.reset.bind(this);\n};\n\nFetchMock.prototype.mock = function (matcher, response, options) {\n\n\tvar route = void 0;\n\n\t// Handle the variety of parameters accepted by mock (see README)\n\tif (matcher && response && options) {\n\t\troute = _extends({\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t}, options);\n\t} else if (matcher && response) {\n\t\troute = {\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t};\n\t} else if (matcher && matcher.matcher) {\n\t\troute = matcher;\n\t} else {\n\t\tthrow new Error('Invalid parameters passed to fetch-mock');\n\t}\n\n\tthis.addRoute(route);\n\n\treturn this._mock();\n};\n\nFetchMock.prototype.once = function (matcher, response, options) {\n\treturn this.mock(matcher, response, _extends({}, options, { times: 1 }));\n};\n\nFetchMock.prototype._mock = function () {\n\tif (!this.isSandbox) {\n\t\t// Do this here rather than in the constructor to ensure it's scoped to the test\n\t\tthis.realFetch = this.realFetch || FetchMock.global.fetch;\n\t\tFetchMock.global.fetch = this.fetchMock;\n\t}\n\treturn this;\n};\n\nFetchMock.prototype._unMock = function () {\n\tif (this.realFetch) {\n\t\tFetchMock.global.fetch = this.realFetch;\n\t\tthis.realFetch = null;\n\t}\n\tthis.fallbackResponse = null;\n\treturn this;\n};\n\nFetchMock.prototype.catch = function (response) {\n\tif (this.fallbackResponse) {\n\t\tconsole.warn('calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response');\n\t}\n\tthis.fallbackResponse = response || 'ok';\n\treturn this._mock();\n};\n\nFetchMock.prototype.spy = function () {\n\tthis._mock();\n\treturn this.catch(this.realFetch);\n};\n\nFetchMock.prototype.fetchMock = function (url, opts) {\n\tvar _this = this;\n\n\tvar Promise = this.Promise || FetchMock.Promise;\n\tvar resolveHoldingPromise = void 0;\n\tvar holdingPromise = new Promise(function (res) {\n\t\treturn resolveHoldingPromise = res;\n\t});\n\tthis._holdingPromises.push(holdingPromise);\n\tvar response = this.router(url, opts);\n\n\tif (!response) {\n\t\tconsole.warn('Unmatched ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\tthis.push(null, [url, opts]);\n\n\t\tif (this.fallbackResponse) {\n\t\t\tresponse = this.fallbackResponse;\n\t\t} else {\n\t\t\tthrow new Error('No fallback response defined for ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\t}\n\t}\n\n\tif (typeof response === 'function') {\n\t\tresponse = response(url, opts);\n\t}\n\n\tif (typeof response.then === 'function') {\n\t\tvar responsePromise = response.then(function (response) {\n\t\t\treturn _this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t\t});\n\t\treturn Promise.resolve(responsePromise); // Ensure Promise is always our implementation.\n\t} else {\n\t\treturn this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t}\n};\n\nFetchMock.prototype.router = function (url, opts) {\n\tvar route = void 0;\n\tfor (var i = 0, il = this.routes.length; i < il; i++) {\n\t\troute = this.routes[i];\n\t\tif (route.matcher(url, opts)) {\n\t\t\tthis.push(route.name, [url, opts]);\n\t\t\treturn route.response;\n\t\t}\n\t}\n};\n\nFetchMock.prototype.addRoute = function (route) {\n\n\tif (!route) {\n\t\tthrow new Error('.mock() must be passed configuration for a route');\n\t}\n\n\t// Allows selective application of some of the preregistered routes\n\tthis.routes.push(compileRoute(route, FetchMock.Request, FetchMock.Headers));\n};\n\nFetchMock.prototype.mockResponse = function (url, responseConfig, fetchOpts, resolveHoldingPromise) {\n\tvar Promise = this.Promise || FetchMock.Promise;\n\n\t// It seems odd to call this in here even though it's already called within fetchMock\n\t// It's to handle the fact that because we want to support making it very easy to add a\n\t// delay to any sort of response (including responses which are defined with a function)\n\t// while also allowing function responses to return a Promise for a response config.\n\tif (typeof responseConfig === 'function') {\n\t\tresponseConfig = responseConfig(url, fetchOpts);\n\t}\n\n\t// If the response is a pre-made Response, respond with it\n\tif (FetchMock.Response.prototype.isPrototypeOf(responseConfig)) {\n\t\treturn this.respond(Promise.resolve(responseConfig), resolveHoldingPromise);\n\t}\n\n\t// If the response says to throw an error, throw it\n\tif (responseConfig.throws) {\n\t\treturn this.respond(Promise.reject(responseConfig.throws), resolveHoldingPromise);\n\t}\n\n\t// If the response config looks like a status, start to generate a simple response\n\tif (typeof responseConfig === 'number') {\n\t\tresponseConfig = {\n\t\t\tstatus: responseConfig\n\t\t};\n\t\t// If the response config is not an object, or is an object that doesn't use\n\t\t// any reserved properties, assume it is meant to be the body of the response\n\t} else if (typeof responseConfig === 'string' || !(responseConfig.body || responseConfig.headers || responseConfig.throws || responseConfig.status || responseConfig.__redirectUrl)) {\n\t\tresponseConfig = {\n\t\t\tbody: responseConfig\n\t\t};\n\t}\n\n\t// Now we are sure we're dealing with a response config object, so start to\n\t// construct a real response from it\n\tvar opts = responseConfig.opts || {};\n\n\t// set the response url\n\topts.url = responseConfig.__redirectUrl || url;\n\n\t// Handle a reasonably common misuse of the library - returning an object\n\t// with the property 'status'\n\tif (responseConfig.status && (typeof responseConfig.status !== 'number' || parseInt(responseConfig.status, 10) !== responseConfig.status || responseConfig.status < 200 || responseConfig.status > 599)) {\n\t\tthrow new TypeError('Invalid status ' + responseConfig.status + ' passed on response object.\\nTo respond with a JSON object that has status as a property assign the object to body\\ne.g. {\"body\": {\"status: \"registered\"}}');\n\t}\n\n\t// set up the response status\n\topts.status = responseConfig.status || 200;\n\topts.statusText = FetchMock.statusTextMap['' + opts.status];\n\n\t// Set up response headers. The ternary operator is to cope with\n\t// new Headers(undefined) throwing in Chrome\n\t// https://code.google.com/p/chromium/issues/detail?id=335871\n\topts.headers = responseConfig.headers ? new FetchMock.Headers(responseConfig.headers) : new FetchMock.Headers();\n\n\t// start to construct the body\n\tvar body = responseConfig.body;\n\n\t// convert to json if we need to\n\topts.sendAsJson = responseConfig.sendAsJson === undefined ? FetchMock.config.sendAsJson : responseConfig.sendAsJson;\n\tif (opts.sendAsJson && responseConfig.body != null && (typeof body === 'undefined' ? 'undefined' : _typeof(body)) === 'object') {\n\t\t//eslint-disable-line\n\t\tbody = JSON.stringify(body);\n\t}\n\n\t// add a Content-Length header if we need to\n\topts.includeContentLength = responseConfig.includeContentLength === undefined ? FetchMock.config.includeContentLength : responseConfig.includeContentLength;\n\tif (opts.includeContentLength && typeof body === 'string' && !opts.headers.has('Content-Length')) {\n\t\topts.headers.set('Content-Length', body.length.toString());\n\t}\n\n\t// On the server we need to manually construct the readable stream for the\n\t// Response object (on the client this is done automatically)\n\tif (FetchMock.stream) {\n\t\tvar s = new FetchMock.stream.Readable();\n\t\tif (body != null) {\n\t\t\t//eslint-disable-line\n\t\t\ts.push(body, 'utf-8');\n\t\t}\n\t\ts.push(null);\n\t\tbody = s;\n\t}\n\tvar response = new FetchMock.Response(body, opts);\n\n\t// When mocking a followed redirect we must wrap the response in an object\n\t// which sets the redirected flag (not a writable property on the actual response)\n\tif (responseConfig.__redirectUrl) {\n\t\tresponse = Object.create(response, {\n\t\t\tredirected: {\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\turl: {\n\t\t\t\tvalue: responseConfig.__redirectUrl\n\t\t\t},\n\t\t\t// TODO extend to all other methods as requested by users\n\t\t\t// Such a nasty hack\n\t\t\ttext: {\n\t\t\t\tvalue: response.text.bind(response)\n\t\t\t},\n\t\t\tjson: {\n\t\t\t\tvalue: response.json.bind(response)\n\t\t\t}\n\t\t});\n\t}\n\n\treturn this.respond(Promise.resolve(response), resolveHoldingPromise);\n};\n\nFetchMock.prototype.respond = function (response, resolveHoldingPromise) {\n\tresponse.then(resolveHoldingPromise, resolveHoldingPromise);\n\n\treturn response;\n};\n\nFetchMock.prototype.flush = function () {\n\treturn Promise.all(this._holdingPromises);\n};\n\nFetchMock.prototype.push = function (name, call) {\n\tif (name) {\n\t\tthis._calls[name] = this._calls[name] || [];\n\t\tthis._calls[name].push(call);\n\t\tthis._matchedCalls.push(call);\n\t} else {\n\t\tthis._unmatchedCalls.push(call);\n\t}\n};\n\nFetchMock.prototype.restore = function () {\n\tthis._unMock();\n\tthis.reset();\n\tthis.routes = [];\n\treturn this;\n};\n\nFetchMock.prototype.reset = function () {\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.routes.forEach(function (route) {\n\t\treturn route.reset && route.reset();\n\t});\n\treturn this;\n};\n\nFetchMock.prototype.calls = function (name) {\n\treturn name ? this._calls[name] || [] : {\n\t\tmatched: this._matchedCalls,\n\t\tunmatched: this._unmatchedCalls\n\t};\n};\n\nFetchMock.prototype.lastCall = function (name) {\n\tvar calls = name ? this.calls(name) : this.calls().matched;\n\tif (calls && calls.length) {\n\t\treturn calls[calls.length - 1];\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\nFetchMock.prototype.lastUrl = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[0];\n};\n\nFetchMock.prototype.lastOptions = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[1];\n};\n\nFetchMock.prototype.called = function (name) {\n\tif (!name) {\n\t\treturn !!(this._matchedCalls.length || this._unmatchedCalls.length);\n\t}\n\treturn !!(this._calls[name] && this._calls[name].length);\n};\n\nFetchMock.prototype.done = function (name) {\n\tvar _this2 = this;\n\n\tvar names = name ? [name] : this.routes.map(function (r) {\n\t\treturn r.name;\n\t});\n\t// Can't use array.every because\n\t// a) not widely supported\n\t// b) would exit after first failure, which would break the logging\n\treturn names.map(function (name) {\n\t\tif (!_this2.called(name)) {\n\t\t\tconsole.warn('Warning: ' + name + ' not called');\n\t\t\treturn false;\n\t\t}\n\t\t// would use array.find... but again not so widely supported\n\t\tvar expectedTimes = (_this2.routes.filter(function (r) {\n\t\t\treturn r.name === name;\n\t\t}) || [{}])[0].times;\n\n\t\tif (!expectedTimes) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar actualTimes = _this2.calls(name).length;\n\t\tif (expectedTimes > actualTimes) {\n\t\t\tconsole.warn('Warning: ' + name + ' only called ' + actualTimes + ' times, but ' + expectedTimes + ' expected');\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}).filter(function (bool) {\n\t\treturn !bool;\n\t}).length === 0;\n};\n\nFetchMock.config = {\n\tincludeContentLength: false,\n\tsendAsJson: true\n};\n\nFetchMock.prototype.configure = function (opts) {\n\t_extends(FetchMock.config, opts);\n};\n\nFetchMock.setImplementations = FetchMock.prototype.setImplementations = function (implementations) {\n\tFetchMock.Headers = implementations.Headers || FetchMock.Headers;\n\tFetchMock.Request = implementations.Request || FetchMock.Request;\n\tFetchMock.Response = implementations.Response || FetchMock.Response;\n\tFetchMock.Promise = implementations.Promise || FetchMock.Promise;\n};\n\nFetchMock.prototype.sandbox = function (Promise) {\n\tif (this.routes.length || this.fallbackResponse) {\n\t\tthrow new Error('.sandbox() can only be called on fetch-mock instances that don\\'t have routes configured already');\n\t}\n\tvar instance = new FetchMock();\n\n\t// this construct allows us to create a fetch-mock instance which is also\n\t// a callable function, while circumventing circularity when defining the\n\t// object that this function should be bound to\n\tvar boundMock = void 0;\n\tvar proxy = function proxy() {\n\t\treturn boundMock.apply(null, arguments);\n\t};\n\n\tvar functionInstance = _extends(proxy, // Ensures that the entire returned object is a callable function\n\tFetchMock.prototype, // all prototype methods\n\tinstance // instance data\n\t);\n\tfunctionInstance.bindMethods();\n\tboundMock = functionInstance.fetchMock;\n\tfunctionInstance.isSandbox = true;\n\tif (Promise) {\n\t\tfunctionInstance.Promise = Promise;\n\t}\n\n\treturn functionInstance;\n};\n\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(function (method) {\n\tFetchMock.prototype[method] = function (matcher, response, options) {\n\t\treturn this.mock(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n\tFetchMock.prototype[method + 'Once'] = function (matcher, response, options) {\n\t\treturn this.once(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n});\n\nmodule.exports = FetchMock;","'use strict';\n\nvar statusTextMap = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': 'I\\'m a teapot',\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Unordered Collection',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '509': 'Bandwidth Limit Exceeded',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required'\n};\n\nmodule.exports = statusTextMap;","'use strict';\n\nvar FetchMock = require('./fetch-mock');\nvar statusTextMap = require('./status-text');\nvar theGlobal = typeof window !== 'undefined' ? window : self;\n\nFetchMock.global = theGlobal;\nFetchMock.statusTextMap = statusTextMap;\n\nFetchMock.setImplementations({\n\tPromise: theGlobal.Promise,\n\tRequest: theGlobal.Request,\n\tResponse: theGlobal.Response,\n\tHeaders: theGlobal.Headers\n});\n\nmodule.exports = new FetchMock();","// @flow\n\nexport default function autocompleteMocks(\n    rawStorage: Storage\n) {\n    const fixture = [\n        'John Doe',\n        'Vasia Pupkin'\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/autocomplete\\\\?q=(.+)'),\n            response(url: string, params: RequestOptions, name: string) { // eslint-disable-line\n                return name\n                    ? fixture.filter((userName: string) => userName.indexOf(name) === 0)\n                    : fixture\n            }\n        }\n    ]\n}\n","// @flow\n\nexport default class BrowserLocalStorage {\n    _storage: Storage\n    _key: string\n\n    constructor(storage: Storage, key: string) {\n        this._storage = storage\n        this._key = key\n    }\n\n    get<V>(): ?V {\n        const value: ?string = this._storage.getItem(this._key)\n        return !value ? null : JSON.parse(value || '')\n    }\n\n    set<V>(value: V): void {\n        this._storage.setItem(this._key, JSON.stringify(value))\n    }\n\n    clear(): void {\n        this._storage.removeItem(this._key)\n    }\n\n    clearAll(): void {\n        this._storage.clear()\n    }\n}\n","// @flow\n\nexport default function uuid(): string {\n    let uuid = ''\n\n    for (let i = 0; i < 32; i++) {\n        let random = Math.random() * 16 | 0\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            uuid += '-'\n        }\n        uuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16)\n    }\n\n    return uuid\n}\n","// @flow\n\nimport BrowserLocalStorage from '../../rdi/BrowserLocalStorage'\nimport uuid from '../../rdi/uuid'\n\ninterface ITodo {\n    id: string;\n    title: string;\n    completed: boolean;\n    created: Date;\n}\n\nfunction getBody(body?: ?(string | Object)): any {\n    return typeof body === 'string'\n        ? JSON.parse(body)\n        : ((body || {}): any)\n}\n\nfunction sortByDate(el1: ITodo, el2: ITodo): number {\n    if (!el2.created || el1.created) {\n        return 0\n    }\n\n    if (String(el1.created) > String(el2.created)) {\n        return 1\n    }\n    if (String(el1.created) < String(el2.created)) {\n        return -1\n    }\n    return 0\n}\n\nexport default function todoMocks(rawStorage: Storage) {\n    const storage = new BrowserLocalStorage(rawStorage, 'lom_todomvc')\n    const infos = new BrowserLocalStorage(rawStorage, 'lom_todomvc_info')\n    const defaultTodos: ITodo[] = [\n        {\n            id: 't1',\n            title: 'test todo #1',\n            completed: false,\n            created: new Date()\n        },\n        {\n            id: 't2',\n            title: 'test todo #2',\n            completed: true,\n            created: new Date()\n        }\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                let newTodos = storage.get()\n                if (!newTodos) {\n                    newTodos = defaultTodos\n                    storage.set(newTodos)\n                }\n                return newTodos.sort(sortByDate)\n            }\n        },\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todo/(.*)/info'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data = infos.get() || []\n                const i = data.find((inf) => inf.id === id)\n                return {id, description: i ? i.description : 'desc'}\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || defaultTodos\n                const updates: Map<string, $Shape<ITodo>> = new Map(getBody(params.body))\n\n                const newTodos = todos\n                    .map(todo => {\n                        return {...todo, ...updates.get(todo.id)}\n                    })\n                    .sort(sortByDate)\n                storage.set(newTodos)\n\n                return newTodos\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || defaultTodos\n                const ids: string[] = getBody(params.body)\n                const newTodos = todos.filter(todo =>\n                    ids.indexOf(todo.id) === -1\n                )\n                storage.set(newTodos)\n\n                return newTodos.map(({id}) => id)\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || []\n                const newTodos = todos.filter(todo => todo.id !== id)\n                storage.set(newTodos.sort(sortByDate))\n\n                return {id}\n            }\n        },\n        {\n            method: 'POST',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data: ?ITodo[] = storage.get()\n                const newTodo = getBody(params.body)\n                const newTodos = (data || []).map(todo => (todo.id === id ? newTodo : todo))\n                storage.set(newTodos)\n\n                return newTodo\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todo'),\n            response(url: string, params: RequestOptions) {\n                const todos = storage.get() || []\n                const body = getBody(params.body)\n                const id = uuid()\n\n                const newTodo = {\n                    ...body,\n                    id\n                }\n                todos.push(newTodo)\n                storage.set(todos)\n                infos.set((infos.get() || []).concat([{id, description: 'desc#' + id}]))\n                return newTodo\n            }\n        }\n    ]\n}\n","// @flow\nimport apiMocker from '../fetcher/apiMocker'\nimport fetchMock from 'fetch-mock/es5/client'\n\nimport autocompleteMocks from './autocomplete/autocompleteMocks'\nimport todoMocks from './todomvc/todoMocks'\n\napiMocker({\n    fetchMock,\n    mocks: [\n        todoMocks,\n        autocompleteMocks\n    ]\n})\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","// @flow\n\nexport type ILoggerStatus = 'waiting' | 'proposeToReap' | 'proposeToPull'\n\nexport interface ILogger {\n    beginGroup(name: string): void;\n    endGroup(): void;\n\n    /**\n     * After atom destructor\n     */\n    onDestruct<V>(atom: IAtom<V>): void;\n\n    /**\n     * Error while actualizing atom\n     */\n    error<V>(atom: IAtom<V>, err: Error): void;\n\n    /**\n     * Atom value changed\n     */\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void;\n}\n\nexport interface IContext {\n    current: ?IAtomInt;\n    destroyHost(atom: IAtomInt): void;\n    newValue<V>(t: IAtom<V>, from?: V | Error, to: V | Error): void;\n    setLogger(logger: ILogger): void;\n    proposeToPull(atom: IAtomInt): void;\n    proposeToReap(atom: IAtomInt): void;\n    unreap(atom: IAtomInt): void;\n    beginTransaction(namespace: string): string;\n    endTransaction(oldNamespace: string): void;\n}\n\nexport const ATOM_STATUS_DESTROYED: 0 = 0\nexport const ATOM_STATUS_OBSOLETE: 1 = 1\nexport const ATOM_STATUS_CHECKING: 2 = 2\nexport const ATOM_STATUS_PULLING: 3 = 3\nexport const ATOM_STATUS_ACTUAL: 4 = 4\nexport const ATOM_STATUS_DEEP_RESET: 5 = 5\n\nexport type IAtomStatus = typeof ATOM_STATUS_OBSOLETE\n    | typeof ATOM_STATUS_CHECKING | typeof ATOM_STATUS_PULLING | typeof ATOM_STATUS_ACTUAL\n    | typeof ATOM_STATUS_DEEP_RESET | typeof ATOM_STATUS_DESTROYED\n\nexport const ATOM_FORCE_NONE: 0 = 0\nexport const ATOM_FORCE_CACHE: 1 = 1\nexport const ATOM_FORCE_ASYNC: 2 = 2\nexport const ATOM_FORCE_RETRY: 3 = 3\n\nexport type IAtomForce = typeof ATOM_FORCE_NONE | typeof ATOM_FORCE_CACHE | typeof ATOM_FORCE_ASYNC | typeof ATOM_FORCE_RETRY\n\nexport interface IAtom<V> {\n    status: IAtomStatus;\n    current: V | Error;\n    +field: string;\n    +displayName: string;\n    value(v?: V | Error, forceCache?: IAtomForce): V;\n    refresh(): void;\n    destructor(): void;\n    getRetry(): () => void;\n}\n\nexport interface IAtomInt extends IAtom<*> {\n    isComponent: boolean;\n    manualReset: boolean;\n\n    key: mixed | void;\n    owner: IAtomOwner;\n    actualize(): void;\n    check(): void;\n    obsolete(): void;\n    dislead(slave: IAtomInt): void;\n    addMaster(master: IAtomInt): void;\n}\n\nexport type IAtomHandler<V, K> = (key: K, next?: V | Error) => V\n    | (next?: V | Error) => V\n\nexport interface IAtomOwner {\n    displayName?: string;\n    [key: string]: IAtomHandler<*, *>;\n}\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n","// @flow\n\nimport {ATOM_FORCE_CACHE} from './interfaces'\nimport type {IAtom} from './interfaces'\n\nexport const catchedId = Symbol('lom_cached')\nexport class AtomWait extends Error {\n    constructor(message?: string = 'Wait...') {\n        super(message)\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        ;(this: Object)[catchedId] = true\n    }\n}\n\nexport function getId(t: Object, hk: string): string {\n    return `${t.constructor.displayName || t.constructor.name}.${hk}`\n}\n\nexport function setFunctionName(fn: Function, name: string) {\n    Object.defineProperty(fn, 'name', {value: name, writable: false})\n    fn.displayName = name\n}\n\nexport const scheduleNative: (handler: () => void) => number = typeof requestAnimationFrame === 'function'\n    ? (handler: () => void) => requestAnimationFrame(handler)\n    : (handler: () => void) => setTimeout(handler, 16)\n\n\nexport const origId = Symbol('lom_error_orig')\nconst throwOnAccess = {\n    get<V: Object>(target: Error, key: string): V {\n        if (key === origId) return (target: Object).valueOf()\n        throw target.valueOf()\n    },\n    ownKeys(target: Error): string[] {\n        throw target.valueOf()\n    }\n}\n\n\nexport function proxify<V>(v: V): V {\n    return (new Proxy(v, (throwOnAccess: any)): any)\n}\n","// @flow\n\nexport const handlers: Map<mixed, Function> = new Map([\n    [\n        Array,\n        function arrayHandler<Target: mixed[], Source: mixed[]>(target: Target, source: Source, stack: mixed[]) {\n            let equal = target.length === source.length\n\n            for(let i = 0; i < target.length; ++i) {\n                const conformed = target[i] = conform(target[i], source[i], false, stack)\n                if (equal && conformed !== source[i]) equal = false\n            }\n\n            return equal ? source : target\n        }\n    ],\n    [\n        Object,\n        function objectHandler<Target: Object, Source: Object>(target: Target, source: Source, stack: mixed[]) {\n            let count = 0\n            let equal = true\n\n            for (let key in target) {\n                const conformed = target[key] = conform(target[key], source[key], false, stack)\n                if (equal && conformed !== source[key]) equal = false\n                ++count\n            }\n\n            for (let key in source) if (--count < 0) break\n\n            return (equal && count === 0) ? source : target\n        }\n    ],\n    [\n        Date,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.getTime() === source.getTime() ? source : target\n        }\n    ],\n    [\n        RegExp,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.toString() === source.toString() ? source : target\n        }\n    ]\n])\n\nconst processed: WeakMap<Object, boolean> = new WeakMap()\n\nexport default function conform<Target, Source>(\n    target: Target,\n    source: Source,\n    isComponent: boolean,\n    stack: mixed[] = []\n): Target {\n    if (target === source) return (source: any)\n\n    if (\n        isComponent\n        || !target || typeof target !== 'object'\n        || !source || typeof source !== 'object'\n        || target instanceof Error\n        || source instanceof Error\n        || target.constructor !== source.constructor\n        || processed.has(target)\n    ) return target\n    processed.set(target, true)\n\n    const conformHandler = handlers.get(target.constructor)\n    if (!conformHandler) return target\n\n    if (stack.indexOf(target) !== -1) return target\n    stack.push(target)\n    const res = conformHandler(target, source, stack)\n    stack.pop()\n\n    return res\n}\n","// @flow\n\nimport {\n    ATOM_FORCE_NONE, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC,\n    ATOM_STATUS_DESTROYED,\n    ATOM_STATUS_DEEP_RESET,\n    ATOM_STATUS_OBSOLETE, ATOM_STATUS_CHECKING, ATOM_STATUS_PULLING, ATOM_STATUS_ACTUAL\n} from './interfaces'\n\nimport type {\n    IAtomForce,\n    IAtom,\n    IAtomInt,\n    IAtomStatus,\n    IContext,\n    IAtomHandler,\n    IAtomOwner\n} from './interfaces'\n\nimport {AtomWait, setFunctionName, origId, catchedId, proxify} from './utils'\nimport conform from './conform'\n\nfunction checkSlave(slave: IAtomInt) {\n    slave.check()\n}\n\nfunction obsoleteSlave(slave: IAtomInt) {\n    slave.obsolete()\n}\n\nfunction deleteSlave(master: IAtomInt) {\n    master.dislead((this: IAtomInt))\n}\n\nfunction actualizeMaster(master: IAtomInt) {\n    if ((this: IAtom<*>).status === ATOM_STATUS_CHECKING) {\n        master.actualize()\n    }\n}\n\nexport default class Atom<V> implements IAtom<V>, IAtomInt {\n    status: IAtomStatus\n    field: string\n    owner: IAtomOwner\n\n    current: V | Error\n    _next: V | Error | void\n    _suggested: V | Error | void\n\n    key: mixed | void\n    isComponent: boolean\n\n    _masters: ?Set<IAtomInt> = null\n    _slaves: ?Set<IAtomInt> = null\n    _context: IContext\n    _hostAtoms: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>>\n    _keyHash: string | void\n\n    manualReset: boolean\n\n    constructor(\n        field: string,\n        owner: IAtomOwner,\n        context: IContext,\n        hostAtoms: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>>,\n        manualReset?: boolean,\n        key?: mixed,\n        keyHash?: string,\n        isComponent?: boolean\n    ) {\n        this._keyHash = keyHash\n        this.key = key\n        this.field = field\n        this.owner = owner\n        this.isComponent = isComponent || false\n        this.manualReset = manualReset || false\n        this._context = context\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this._hostAtoms = hostAtoms\n        this.status = ATOM_STATUS_OBSOLETE\n    }\n\n    get displayName(): string {\n        return this.toString()\n    }\n\n    toString() {\n        const k = this.key\n        const owner = this.owner\n        const parent = owner.displayName || owner.constructor.displayName || owner.constructor.name\n\n        return `${String(parent)}.${this.field}`\n            + (k\n                ? ('(' + (typeof k === 'function' ? (k.displayName || k.name) : String(k)) + ')')\n                : ''\n            )\n    }\n\n    toJSON() {\n        return this.current\n    }\n\n    destructor(): void {\n        if (this.status === ATOM_STATUS_DESTROYED) return\n        if (this._masters) {\n            this._masters.forEach(deleteSlave, this)\n        }\n        this._masters = null\n        this._checkSlaves()\n        this._slaves = null\n        this._hostAtoms.delete(((this._keyHash || this.owner): any))\n        this._context.destroyHost(this)\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this.status = ATOM_STATUS_DESTROYED\n        this._hostAtoms = (undefined: any)\n        this.key = undefined\n        this._keyHash = undefined\n        this._retry = undefined\n    }\n\n    value(next?: V | Error, forceCache?: IAtomForce): V {\n        const context = this._context\n        let current: V | Error = this.current\n        if (forceCache === ATOM_FORCE_CACHE) {\n            if (next === undefined) {\n                this._suggested = this._next\n                this._next = undefined\n                this.status = ATOM_STATUS_DEEP_RESET\n                if (this._slaves) this._slaves.forEach(obsoleteSlave)\n            } else {\n                this._push(next)\n            }\n        } else {\n            const slave = context.current\n            if (slave && (!slave.isComponent || !this.isComponent)) {\n                let slaves = this._slaves\n                if (!slaves) {\n                    slaves = this._slaves = new Set()\n                    context.unreap(this)\n                }\n                slaves.add(slave)\n                slave.addMaster(this)\n            }\n\n            let normalized: V | Error\n            if (\n                next !== undefined\n                && (normalized = conform(next, this._suggested, this.isComponent)) !== this._suggested\n                && (\n                    current instanceof Error\n                    || (normalized = conform(next, current, this.isComponent)) !== current\n                )\n            ) {\n                this._suggested = this._next = normalized\n                this.status = ATOM_STATUS_OBSOLETE\n            }\n            this.actualize()\n        }\n        current = this.current\n        if (current instanceof Error) {\n            if (forceCache !== ATOM_FORCE_NONE) return proxify((current: any))\n            throw current\n        }\n\n        return current\n    }\n\n    static deepReset: Set<IAtom<*>> | void = undefined\n\n    actualize(): void {\n        if (this.status === ATOM_STATUS_PULLING) {\n            throw new Error(`Cyclic atom dependency of ${String(this)}`)\n        }\n\n        if (this.status === ATOM_STATUS_CHECKING) {\n            if (this._masters) {\n                this._masters.forEach(actualizeMaster, this)\n            }\n\n            if (this.status === ATOM_STATUS_CHECKING) {\n                this.status = ATOM_STATUS_ACTUAL\n            }\n        }\n\n        const deepReset = Atom.deepReset\n        if (this.status === ATOM_STATUS_DEEP_RESET && !this.isComponent) {\n            Atom.deepReset = deepReset || new Set()\n            this.refresh()\n            Atom.deepReset = deepReset\n        } else if (deepReset !== undefined && !this.manualReset && !deepReset.has(this)) {\n            deepReset.add(this)\n            this.refresh()\n        } else if (this.status !== ATOM_STATUS_ACTUAL) {\n            this.refresh()\n        }\n    }\n\n    _push(nextRaw: V | Error): void {\n        this.status = ATOM_STATUS_ACTUAL\n        const prev = this.current\n        let next: V | Error\n        if (nextRaw instanceof Error) {\n            if ((nextRaw: Object)[origId]) nextRaw = (nextRaw: Object)[origId]\n            next = nextRaw\n        } else {\n            next = conform(nextRaw, prev, this.isComponent)\n            this._suggested = this._next\n            this._next = undefined\n        }\n\n        if (prev !== next) {\n            this.current = next\n            this._context.newValue(this, prev, next)\n            if (this._slaves) this._slaves.forEach(obsoleteSlave)\n        }\n    }\n\n    refresh(): void {\n        const masters = this._masters\n        if (masters) {\n            masters.forEach(deleteSlave, this)\n            this._masters = null\n        }\n\n        let newValue: V | Error\n        this.status = ATOM_STATUS_PULLING\n\n        const context = this._context\n        const slave = context.current\n        context.current = this\n        const f = this.field + '$'\n        const next = this._next\n        try {\n            newValue = this.key === undefined\n                ? (this.owner: any)[f](next)\n                : (this.owner: any)[f](this.key, next)\n        } catch (error) {\n            if (error[catchedId] === undefined) {\n                error[catchedId] = true\n                console.error(error.stack || error)\n            }\n            newValue = error\n        }\n        context.current = slave\n        if (this.status !== ATOM_STATUS_DEEP_RESET) this._push(newValue)\n    }\n\n    dislead(slave: IAtomInt) {\n        const slaves = this._slaves\n        if (slaves) {\n            slaves.delete(slave)\n            if (slaves.size === 0) {\n                this._slaves = null\n                this._context.proposeToReap(this)\n            }\n        }\n    }\n\n    _checkSlaves() {\n        if (this._slaves) {\n            this._slaves.forEach(checkSlave)\n        } else {\n            this._context.proposeToPull(this)\n        }\n    }\n\n    check() {\n        if (this.status === ATOM_STATUS_ACTUAL) {\n            this.status = ATOM_STATUS_CHECKING\n            this._checkSlaves()\n        }\n    }\n\n    obsolete() {\n        if (this.status !== ATOM_STATUS_OBSOLETE) {\n            this.status = ATOM_STATUS_OBSOLETE\n            this._checkSlaves()\n        }\n    }\n\n    addMaster(master: IAtomInt) {\n        if (!this._masters) {\n            this._masters = new Set()\n        }\n        this._masters.add(master)\n    }\n\n    _retry: (() => void) | void\n\n    getRetry(): () => void {\n        if (this._retry === undefined) {\n            const fn = () => this.refresh()\n            setFunctionName(fn, `atom(${this.displayName}).retry()`)\n            this._retry = fn\n        }\n\n        return this._retry\n    }\n}\n","// @flow\n\nimport type {TypedPropertyDescriptor, IContext} from '../interfaces'\nimport {scheduleNative, getId, setFunctionName, AtomWait} from '../utils'\n\ntype Handler = (...args: any[]) => void\n\nfunction fastCallMethod<Host: Object>(host: Host, methodName: string, args: any[]): void {\n    try {\n        switch (args.length) {\n            case 0: return host[methodName]()\n            case 1: return host[methodName](args[0])\n            case 2: return host[methodName](args[0], args[1])\n            case 3: return host[methodName](args[0], args[1], args[2])\n            case 4: return host[methodName](args[0], args[1], args[2], args[3])\n            case 5: return host[methodName](args[0], args[1], args[2], args[3], args[4])\n            default: return host[methodName].apply(host, args)\n        }\n    } catch(e) {\n        if (!(e instanceof AtomWait)) throw e\n    }\n}\n\nfunction action<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>,\n    defer?: boolean\n): TypedPropertyDescriptor<H> {\n    const hk = `${name}$`\n    if (descr.value === undefined) {\n        throw new TypeError(`${getId(host, name)} is not an function (next?: V)`)\n    }\n    host[hk] = descr.value\n    let definingProperty = false\n\n    const actionId = getId(host, name)\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get(): H {\n            if (definingProperty) return this[hk].bind(this)\n\n            const actionFn = defer\n                ? (...args: any[]) => scheduleNative(() => fastCallMethod(this, hk, args))\n                : (...args: any[]) => fastCallMethod(this, hk, args)\n            setFunctionName(actionFn, actionId)\n\n            definingProperty = true\n            Object.defineProperty(this, name, {\n                configurable: true,\n                enumerable: false,\n                value: actionFn\n            })\n            definingProperty = false\n\n            return ((actionFn: any): H)\n        }\n    }\n}\n\nfunction actionDefer<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>\n): TypedPropertyDescriptor<H> {\n    return action(host, name, descr, true)\n}\n\naction.defer = actionDefer\n\ninterface IAction {\n    <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ): TypedPropertyDescriptor<H>;\n    defer: <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ) => TypedPropertyDescriptor<H>;\n}\n\nexport default (action: IAction)\n","// @flow\n\nimport type {\n    IAtomInt,\n    IAtom,\n    IContext,\n    ILogger,\n} from './interfaces'\nimport {ATOM_STATUS_DESTROYED} from './interfaces'\nimport {scheduleNative} from './utils'\n\nfunction reap(atom: IAtomInt, key: IAtomInt, reaping: Set<IAtomInt>) {\n    reaping.delete(atom)\n    if (!atom.slaves) {\n        atom.destructor()\n    }\n}\n\nexport default class Context implements IContext {\n    current: ?IAtomInt = null\n\n    _logger: ILogger | void = undefined\n    _updating: IAtomInt[] = []\n    _reaping: Set<IAtomInt> = new Set()\n    _scheduled = false\n    _namespace: string = '$'\n    _owners: WeakMap<?Object, Object> = new WeakMap()\n\n    _destroyValue<V>(atom: IAtom<V>, from: any) {\n        if (this._owners.get(from) === atom) {\n            try {\n                from.destructor()\n            } catch(e) {\n                console.error(e)\n                if (this._logger) this._logger.error(atom, e)\n            }\n            this._owners.delete(from)\n        }\n    }\n\n    destroyHost(atom: IAtomInt) {\n        this._destroyValue(atom, atom.current)\n        if (this._logger !== undefined) {\n            this._logger.onDestruct(atom)\n        }\n    }\n\n    setLogger(logger: ILogger) {\n        this._logger = logger\n    }\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error) {\n        this._destroyValue(atom, from)\n        if (\n            to\n            && typeof to === 'object'\n            && !(to instanceof Error)\n            && typeof to.destructor === 'function'\n        ) {\n            this._owners.set(to, atom)\n        }\n        const logger = this._logger\n        if (logger !== undefined) {\n            try {\n                // if (!this._scheduled && this._logger !== undefined) {\n                //     this._logger.beginGroup(this._namespace)\n                // }\n                logger.newValue(atom, from, to)\n            } catch (error) {\n                console.error(error)\n                logger.error(atom, error)\n            }\n        }\n    }\n\n    proposeToPull(atom: IAtomInt) {\n        this._updating.push(atom)\n        this._schedule()\n    }\n\n    proposeToReap(atom: IAtomInt) {\n        this._reaping.add(atom)\n        this._schedule()\n    }\n\n    unreap(atom: IAtomInt) {\n        this._reaping.delete(atom)\n    }\n\n    _schedule() {\n        if (!this._scheduled) {\n            scheduleNative(this.__run)\n            this._scheduled = true\n        }\n    }\n\n    __run = () => {\n        if (this._scheduled) {\n            this._scheduled = false\n            this._run()\n        }\n    }\n\n    _start = 0\n\n    _run() {\n        this._schedule()\n        const reaping = this._reaping\n        const updating = this._updating\n        let start = this._start\n        do {\n            const end = updating.length\n\n            for (let i = start; i < end; i++) {\n                this._start = i // save progress, atom.actualize or destroyed can throw exception\n                const atom: IAtomInt = updating[i]\n                if (!reaping.has(atom) && atom.status !== ATOM_STATUS_DESTROYED) {\n                    atom.actualize()\n                }\n            }\n\n            start = end\n        } while (updating.length > start)\n        updating.length = 0\n        this._start = 0\n\n        while (reaping.size > 0) {\n            reaping.forEach(reap)\n        }\n        // if (this._logger !== undefined) {\n        //     this._logger.endGroup()\n        // }\n        this._scheduled = false\n        this._pendCount = 0\n    }\n\n    _pendCount = 0\n\n    beginTransaction(namespace: string): string {\n        const result = this._namespace\n        this._namespace = namespace\n        this._pendCount++\n        return result\n    }\n\n    endTransaction(prev: string) {\n        this._namespace = prev\n        if (this._pendCount === 1) {\n            this._run()\n        } else {\n            this._pendCount--\n        }\n    }\n}\n\nexport const defaultContext = new Context()\n","// @flow\n\nimport {ATOM_STATUS_OBSOLETE} from '../interfaces'\nimport type {IAtom, TypedPropertyDescriptor} from '../interfaces'\nimport Atom from '../Atom'\nimport {defaultContext} from '../Context'\n\nexport default function detached<P: Object, V>(\n    proto: P,\n    name: string,\n    descr: TypedPropertyDescriptor<(force: boolean) => V>\n): TypedPropertyDescriptor<(force: boolean) => V> {\n    proto[`${name}$`] = descr.value\n    const hostAtoms: WeakMap<Object, IAtom<V>> = new WeakMap()\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        value(force: boolean): V {\n            let atom: IAtom<V> | void = hostAtoms.get(this)\n            if (atom === undefined) {\n                atom = new Atom(name, this, defaultContext, hostAtoms, false, undefined, undefined, true)\n                hostAtoms.set(this, atom)\n            }\n            if (force) {\n                atom.status = ATOM_STATUS_OBSOLETE\n            }\n\n            return atom.value()\n        }\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor, IAtom, IAtomForce, IAtomStatus} from '../interfaces'\nimport {ATOM_STATUS_DEEP_RESET, ATOM_FORCE_NONE, ATOM_FORCE_RETRY, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC} from '../interfaces'\nimport {defaultContext} from '../Context'\nimport {getId, setFunctionName} from '../utils'\nimport Atom from '../Atom'\n\nfunction createGetSetHandler<V>(\n    get?: () => V,\n    set?: (v: V) => void\n): (next?: V) => V {\n    return function getSetHandler(next?: V): V {\n        if (next === undefined) {\n            return (get: any).call(this)\n        }\n        ;(set: any).call(this, next)\n        return next\n    }\n}\n\nfunction createValueHandler<V>(initializer?: () => V): (next?: V | Error) => V {\n    return function valueHandler(next?: V | Error): V {\n        return next === undefined && initializer\n            ? initializer.call(this)\n            : (next: any)\n    }\n}\n\nlet forceCache: IAtomForce = ATOM_FORCE_NONE\n\nfunction mem<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<V> {\n    const handlerKey = `${name}$`\n    if (proto[handlerKey] !== undefined) return descr\n\n    const hostAtoms: WeakMap<Object, IAtom<V>> = new WeakMap()\n\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    function value(next?: V): V {\n        let atom: IAtom<V> | void = hostAtoms.get(this)\n        if (atom === undefined) {\n            atom = new Atom(name, this, defaultContext, hostAtoms, deepReset)\n            hostAtoms.set(this, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n    if (descr.value !== undefined) {\n        proto[handlerKey] = descr.value\n        descr.value = value\n        return descr\n    }\n\n    const longName = getId(proto, name)\n    if (descr.initializer) setFunctionName(descr.initializer, longName)\n    if (descr.get) setFunctionName(descr.get, `get#${longName}`)\n    if (descr.set) setFunctionName(descr.set, `set#${longName}`)\n\n    proto[handlerKey] = descr.get === undefined && descr.set === undefined\n        ? createValueHandler(descr.initializer)\n        : createGetSetHandler(descr.get, descr.set)\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get: value,\n        set: (value: Function)\n    }\n}\n\nfunction memManual<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return mem(proto, name, descr, true)\n}\n\nfunction getKeyFromObj(params: Object): string {\n    const keys = Object.keys(params)\n        .sort()\n\n    let result = ''\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        const value = params[key]\n        result += `.${key}:${typeof value === 'object' ? JSON.stringify(value) : value}`\n    }\n\n    return result\n}\n\nfunction getKey(params: any): string {\n    if (!params) return ''\n    if (params instanceof Array) return JSON.stringify(params)\n    if (typeof params === 'object') return getKeyFromObj(params)\n\n    return '' + params\n}\n\nfunction memkey<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<(k: K, next?: V) => V> {\n    const longName = getId(proto, name)\n    const handler = descr.value\n    if (handler === undefined) {\n        throw new TypeError(`${longName} is not an function (rawKey: K, next?: V)`)\n    }\n    proto[`${name}$`] = handler\n    const hostAtoms: WeakMap<Object, Map<string, IAtom<V>>> = new WeakMap()\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    function value(rawKey: K, next?: V): V {\n        let atomMap: Map<string, IAtom<V>> | void = hostAtoms.get(this)\n        if (atomMap === undefined) {\n            atomMap = new Map()\n            hostAtoms.set(this, atomMap)\n        }\n        const key = getKey(rawKey)\n        let atom: IAtom<V> | void = atomMap.get(key)\n        if (atom === undefined) {\n            atom = new Atom(name, this, defaultContext, atomMap, deepReset, rawKey, key)\n            atomMap.set(key, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n\n    descr.value = value\n\n    return descr\n}\n\nfunction memkeyManual<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>\n) {\n    return memkey(proto, name, descr, true)\n}\nmemkey.manual = memkeyManual\n\ntype IDecorator<V> = (proto: Object, name: string, descr: TypedPropertyDescriptor<V>) => TypedPropertyDescriptor<V>;\n\nfunction cache<V>(data: V): V {\n    forceCache = ATOM_FORCE_NONE\n    return data\n}\n\nfunction getRetryResult<V>(atom: IAtom<V>): () => void {\n    forceCache = ATOM_FORCE_NONE\n    return atom.getRetry()\n}\n\nObject.defineProperties(mem, {\n    cache: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_CACHE\n            return cache\n        }\n    }: any),\n    getRetry: ({\n        get<V>(): (v: IAtom<V>) => () => void {\n            forceCache = ATOM_FORCE_RETRY\n            return getRetryResult\n        }\n    }: any),\n    async: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_ASYNC\n            return cache\n        }\n    }: any),\n    manual: { value: memManual },\n    key: { value: memkey }\n})\n\n\ntype IMemKey = {\n    <V, K>(proto: Object, name: string, descr: TypedPropertyDescriptor<(k: K, next?: V) => V>): TypedPropertyDescriptor<(k: K, next?: V) => V>;\n    manual: IDecorator<<V, K>(k: K, next?: V) => V>;\n}\n\ntype IMem = {\n    <V>(proto: Object, name: string, descr: TypedPropertyDescriptor<V>): TypedPropertyDescriptor<V>;\n    manual: IDecorator<*>;\n    cache<V>(v: V): V;\n    async<V>(v: V): V;\n    getRetry<V>(v: V): () => void;\n    key: IMemKey;\n}\nexport default ((mem: any): IMem)\n","// @flow\n\nimport type {IAtom, ILogger} from './interfaces'\nimport {AtomWait} from './utils'\n\nfunction stringToColor(str: string): string {\n    let hash = 0\n    for(let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 3) - hash)\n    }\n    const color = Math.abs(hash).toString(16).substring(0, 6)\n\n    return 'font-weight: bold; color: #' + '000000'.substring(0, 6 - color.length) + color + ';'\n}\n\nexport default class ConsoleLogger implements ILogger {\n    _useColors: boolean\n    _filter: RegExp | void\n\n    constructor(opts?: {\n        filter?: RegExp;\n        useColors?: boolean;\n    }) {\n        this._useColors = opts && opts.useColors !== undefined ? opts.useColors : true\n        this._filter = opts ? opts.filter : undefined\n    }\n\n    beginGroup(name: string) {\n        console.group(name, 'sync')\n    }\n\n    endGroup() {\n        console.groupEnd()\n    }\n\n    onDestruct<V>(atom: IAtom<V>): void {\n        console.debug(atom.displayName, 'destruct')\n    }\n\n    error<V>(atom: IAtom<V>, err: Error): void {}\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void {\n        const name = atom.displayName\n        const filter = this._filter\n        if (filter && !filter.test(name)) return\n        if (atom.isComponent) {\n            console.debug(name, 'rendered')\n        } else {\n            const useColors = this._useColors\n            console[\n                from instanceof Error && !(from instanceof AtomWait)\n                    ? 'warn'\n                    : (to instanceof Error && !(to instanceof AtomWait) ? 'error' : 'log')\n            ](\n                useColors ? '%c' + name : name,\n                useColors ? stringToColor(name) : '',\n                from instanceof Error ? from.message : from,\n                '',\n                to instanceof Error ? to.message : to\n            )\n        }\n    }\n}\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {};\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}","// @flow\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n\nexport const rdiRendered = Symbol('rdiRendered')\nexport const rdiInst = Symbol('rdiInst')\nexport const rdiProp = Symbol('rdiProp')\n\nexport type IArg = Function | {+[id: string]: Function}\nexport type IProvideItem = Function | Object | [Function | string, Function | mixed]\n\nexport type IPropsWithContext = {\n    [id: string]: any;\n    __lom_ctx?: Object;\n}\n\nexport interface ISheet<V: Object> {\n    attach(): any;\n    classes: {+[id: $Keys<V>]: string};\n}\n\nexport type IProcessor = {\n    createStyleSheet<V: Object>(cssObj: V, options: any): ISheet<V>;\n    removeStyleSheet<V: Object>(sheet: ISheet<V>): void;\n}\n\nexport type IDisposableSheet<V: Object> = {\n    [id: $Keys<V>]: string;\n    destructor?: () => void;\n}\n\nexport interface ISheetManager {\n    sheet<V: Object>(key: string, css: V, memoized: boolean): IDisposableSheet<V>;\n}\n\nexport type IReactComponent<IElement> = {\n    constructor(props: IPropsWithContext, context?: Object): IReactComponent<IElement>;\n    render(): IElement;\n    forceUpdate(): void;\n}\n\nexport type IFromError<IElement> = (props: {error: Error, children: any}, state?: any) => IElement\n\nexport interface IRenderFn<IElement, State> {\n    (props: IPropsWithContext, state?: State): IElement;\n    __lom?: Class<IReactComponent<IElement>>;\n    displayName?: string;\n    deps?: IArg[];\n    onError?: IFromError<IElement>;\n    aliases?: IProvideItem[];\n}\n\nexport type IAtomize<IElement, State> = (\n    render: IRenderFn<IElement, State>\n) => Class<IReactComponent<IElement>>\n","// @flow\n\nimport type {IProcessor, ISheet, ISheetManager, IDisposableSheet} from './interfaces'\n\ninterface IRemover {\n    remove(sheet: DisposableSheet<any>): void;\n}\n\nclass DisposableSheet<V: Object> {\n    __lom_remover: IRemover\n    __lom_sheet: ISheet<V>\n    __lom_key: string\n\n    constructor(key: string, sheet: ISheet<V>, remover: IRemover) {\n        this.__lom_key = key\n        this.__lom_sheet = sheet\n        this.__lom_remover = remover\n        if (sheet.classes.destructor) {\n            throw new Error(`Rename property name in ${key} result`)\n        }\n        Object.assign((this: Object), sheet.classes)\n    }\n\n    destructor() {\n        this.__lom_remover.remove(this)\n    }\n}\nconst badClassSymbols = new RegExp('[^\\\\w\\\\d]', 'g')\nexport default class SheetManager implements IRemover, ISheetManager {\n    _sheetProcessor: IProcessor\n    _cache: Map<string, DisposableSheet<any>> = new Map()\n\n    constructor(sheetProcessor: IProcessor) {\n        this._sheetProcessor = sheetProcessor\n    }\n\n    sheet<V: Object>(key: string, css: V, memoized: boolean): IDisposableSheet<V> {\n        let result: ?DisposableSheet<V> = memoized ? null : this._cache.get(key)\n        if (!result) {\n            const sheet: ISheet<V> = this._sheetProcessor.createStyleSheet(css, {\n                meta: key,\n                classNamePrefix: key.replace(badClassSymbols, '') + '_'\n            })\n            sheet.attach()\n            result = new DisposableSheet(key, sheet, this)\n            if (!memoized) {\n                this._cache.set(key, result)\n            }\n        }\n\n        return (result: Object)\n    }\n\n    remove(sheet: DisposableSheet<*>) {\n        this._cache.delete(sheet.__lom_key)\n        this._sheetProcessor.removeStyleSheet(sheet.__lom_sheet)\n    }\n}\n","// @flow\n\nimport type {TypedPropertyDescriptor, ISheetManager, IDisposableSheet} from './interfaces'\nimport {rdiInst} from './interfaces'\n\nlet lastThemeId = 0\n\nconst fakeSheet: IDisposableSheet<any> = {}\n\ninterface Injector {\n    instance: number;\n    displayName: string;\n}\n\nfunction themeProp<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>,\n    isInstance?: boolean\n) {\n    const className: string = proto.constructor.displayName || proto.constructor.name\n    const getSheet: (() => V) | void = descr.get\n    const value: V | void = descr.value\n    if (getSheet === undefined && value === undefined) {\n        throw new Error(`Need ${className} { @theme get ${name}() }`)\n    }\n\n    if (getSheet) {\n        proto[`${name}#`] = getSheet\n    }\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get(): IDisposableSheet<V> {\n            const sm: ISheetManager | void = theme.sheetManager\n            const di: Injector = this[rdiInst]\n            return sm === undefined\n                ? fakeSheet\n                : sm.sheet(\n                    di.displayName + (isInstance ? `[${di.instance}]` : ''),\n                    value || this[`${name}#`](),\n                    !!this[`${name}()`]\n                )\n        }\n    }\n}\n\ndeclare function theme<V>(): () => typeof themeProp\ndeclare function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n): TypedPropertyDescriptor<*>\n\nfunction themeSelf<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return themeProp(proto, name, descr, true)\n}\n\nexport default function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return themeProp(proto, name, descr)\n}\n\ntheme.self = themeSelf\ntheme.sheetManager = (undefined: ISheetManager | void)\n","// @flow\n\nimport type {IArg, IProvideItem, IPropsWithContext, IDisposableSheet, IProcessor} from './interfaces'\nimport {rdiInst, rdiProp} from './interfaces'\nimport SheetManager from './SheetManager'\nimport theme from './theme'\ntype IListener = Object\n\ntype ICache = {[id: string]: any}\n\nlet depId = 0\nconst rdiId = Symbol('rdiId')\nclass Alias<T: Function> {\n    dest: T\n    constructor(dest: T) {\n        dest[rdiId] = '' + ++depId\n        this.dest = dest\n    }\n}\n\ntype IState = {[ns: string]: {[id: string]: any}}\n\nexport default class Injector {\n    displayName: string\n    instance: number\n\n    static parentContext: Injector\n\n    _cache: ICache\n    _state: IState | void\n\n    id = ''\n    rendered = ''\n    constructor(\n        items?: IProvideItem[],\n        sheetProcessor?: ?IProcessor,\n        state?: IState,\n        displayName?: string,\n        instance?: number,\n        cache?: ICache\n    ) {\n        this._state = state\n        this.instance = instance || 0\n        this.displayName = displayName || ''\n        if (Injector.parentContext === undefined) Injector.parentContext = this\n        if (sheetProcessor) {\n            theme.sheetManager = new SheetManager(sheetProcessor)\n        }\n\n        const map = this._cache = cache || (Object.create(null): Object)\n        if (items !== undefined) {\n            for (let i = 0; i < items.length; i++) {\n                const item = items[i]\n                if (item instanceof Array) {\n                    const src: string | Function = item[0]\n                    if (typeof src === 'string') {\n                        map[src] = item[1]\n                    } else {\n                        if (src[rdiId] === undefined) {\n                            src[rdiId] = '' + ++depId\n                        }\n                        const dest = item[1]\n                        map[src[rdiId]] = typeof dest === 'function' && !(dest instanceof Alias)\n                            ? new Alias(dest)\n                            : dest\n                    }\n                } else {\n                    const src = item.constructor\n                    if (src[rdiId] === undefined) {\n                        src[rdiId] = '' + ++depId\n                    }\n                    map[src[rdiId]] = item\n                }\n            }\n        }\n    }\n\n    toString() {\n        return this.displayName + (this.instance ? ('[' + this.instance + ']') : '')\n    }\n\n    toJSON() {\n        return this._cache\n    }\n\n    value<V>(key: Function): V {\n        let id: string = key[rdiId]\n        if (key[rdiId] === undefined) {\n            id = key[rdiId] = '' + ++depId\n        }\n        let value = this._cache[id]\n\n        if (value === undefined) {\n            value = this._cache[id] = this.invoke(key)\n            const depName = (key.displayName || key.name) + (this.instance > 0 ? ('[' + this.instance + ']') : '')\n            value.displayName = `${this.displayName}.${depName}`\n            value[rdiInst] = this\n            const state = this._state === undefined ? undefined : this._state[depName]\n            if (state && typeof state === 'object') {\n                for (let prop in state) {\n                    ;(value: Object)[prop] = state[prop]\n                }\n            }\n        } else if (value instanceof Alias) {\n            value = this._cache[id] = this.value(value.dest)\n        }\n\n        return value\n    }\n\n    destructor() {\n        this._cache = (undefined: any)\n        this._listeners = undefined\n    }\n\n    invoke<V>(key: any): V {\n        let isFn = false\n        let deps: IArg[] | void = key.deps\n        if (key._r !== undefined) {\n            isFn = key._r[0] === 2\n            deps = deps || key._r[1]\n        }\n\n        const a = this.resolve(deps)\n        if (isFn) {\n            switch (a.length) {\n                case 0: return key()\n                case 1: return key(a[0])\n                case 2: return key(a[0], a[1])\n                case 3: return key(a[0], a[1], a[2])\n                case 4: return key(a[0], a[1], a[2], a[3])\n                case 5: return key(a[0], a[1], a[2], a[3], a[4])\n                case 6: return key(a[0], a[1], a[2], a[3], a[4], a[5])\n                default: return key(...a)\n            }\n        }\n\n        switch (a.length) {\n            case 0: return new key()\n            case 1: return new key(a[0])\n            case 2: return new key(a[0], a[1])\n            case 3: return new key(a[0], a[1], a[2])\n            case 4: return new key(a[0], a[1], a[2], a[3])\n            case 5: return new key(a[0], a[1], a[2], a[3], a[4])\n            case 6: return new key(a[0], a[1], a[2], a[3], a[4], a[5])\n            default: return new key(...a)\n        }\n    }\n\n    _resolved: boolean = false\n    _listeners: IListener[] | void = undefined\n\n    alias(key: Function, rawId?: string): Function {\n        let id: string | void = rawId\n        if (id === undefined) {\n            id = key[rdiId]\n            if (id === undefined) {\n                id = key[rdiId] = '' + ++depId\n            }\n        }\n        const newKey = this._cache[id]\n        if (newKey instanceof Alias) return newKey.dest\n        if (newKey === undefined) return key\n\n        return newKey\n    }\n\n    invokeWithProps<V>(key: Function, props?: Object, propsChanged?: boolean): V {\n        const deps =  key.deps || (key._r === undefined ? undefined : key._r[1])\n        if (deps === undefined) {\n            return key(props)\n        }\n        const a = this.resolve(deps)\n        const listeners = this._listeners\n        if (propsChanged === true && listeners !== undefined) {\n            for (let i = 0; i < listeners.length; i++) {\n                const listener = listeners[i]\n                listener[listener.constructor[rdiProp]] = props\n            }\n        }\n        this._resolved = true\n        switch (a.length) {\n            case 0: return key(props)\n            case 1: return key(props, a[0])\n            case 2: return key(props, a[0], a[1])\n            case 3: return key(props, a[0], a[1], a[2])\n            case 4: return key(props, a[0], a[1], a[2], a[3])\n            case 5: return key(props, a[0], a[1], a[2], a[3], a[4])\n            case 6: return key(props, a[0], a[1], a[2], a[3], a[4], a[5])\n            case 7: return key(props, a[0], a[1], a[2], a[3], a[4], a[5], a[6])\n            default: return key(props, ...a)\n        }\n    }\n\n    copy(displayName: string, instance?: number, items?: IProvideItem[]): Injector {\n        return new Injector(\n            items,\n            null,\n            this._state,\n            displayName,\n            instance,\n            Object.create(this._cache)\n        )\n    }\n\n    resolve(argDeps?: IArg[]): any[] {\n        const result = []\n        if (argDeps === undefined) return result\n        let listeners = this._listeners\n        const resolved = this._resolved\n        for (let i = 0, l = argDeps.length; i < l; i++) {\n            let argDep = argDeps[i]\n            if (typeof argDep === 'object') {\n                const obj = {}\n                for (let prop in argDep) { // eslint-disable-line\n                    const key = argDep[prop]\n                    const dep = this.value(key)\n                    if (resolved === false && key[rdiProp] !== undefined) {\n                        if (listeners === undefined) {\n                            this._listeners = listeners = []\n                        }\n                        listeners.push(dep)\n                    }\n\n                    obj[prop] = dep\n                }\n\n                result.push(obj)\n            } else {\n                const dep = this.value(argDep)\n                if (resolved === false && argDep[rdiProp] !== undefined) {\n                    if (listeners === undefined) {\n                        this._listeners = listeners = []\n                    }\n                    listeners.push(dep)\n                }\n\n                result.push(dep)\n            }\n        }\n\n        return result\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\n\nimport Injector from './Injector'\nimport type {IAtomize, IFromError, IRenderFn, IReactComponent, IProvideItem, IArg, IPropsWithContext} from './interfaces'\nimport {rdiRendered} from './interfaces'\n\nexport default function createReactWrapper<IElement>(\n    BaseComponent: Class<*>,\n    ErrorComponent: IFromError<IElement>,\n    detached: TypedPropertyDescriptor<(force?: boolean) => any>,\n    rootInjector?: Injector = new Injector(),\n    isFullEqual?: boolean = false\n): IAtomize<IElement, *> {\n    class AtomizedComponent<State> extends BaseComponent {\n        props: IPropsWithContext\n        static displayName: string\n        _propsChanged: boolean = true\n        _injector: Injector\n\n        static render: IRenderFn<IElement, State>\n        static instance: number\n        static isFullEqual = isFullEqual\n\n        _keys: string[] | void\n        _render: IRenderFn<IElement, State>\n\n        constructor(\n            props: IPropsWithContext,\n            reactContext?: Object\n        ) {\n            super(props, reactContext)\n            let injector: Injector = rootInjector\n            this._keys = undefined\n            const cns = this.constructor\n            let name = cns.displayName\n            if (props) {\n                this._keys = Object.keys(props)\n                if (this._keys.length === 0) this._keys = (undefined: any)\n                if (props.__lom_ctx !== undefined) injector = props.__lom_ctx\n                if (props.id) name = props.id\n            }\n            this._render = cns.render\n            this._injector = injector.copy(\n                cns.displayName,\n                cns.instance,\n                this._render.aliases\n            )\n            this._injector.id = name\n            cns.instance++\n        }\n\n        toString() {\n            return this._injector.toString()\n        }\n\n        get displayName() {\n            return this.toString()\n        }\n\n        shouldComponentUpdate(props: IPropsWithContext) {\n            if (this._keys === undefined) return false\n            const oldProps = this.props\n            const keys = this._keys\n            for (let i = 0, l = keys.length; i < l; i++) { // eslint-disable-line\n                const k = keys[i]\n                if (oldProps[k] !== props[k]) {\n                    this._propsChanged = true\n                    return true\n                }\n            }\n            if (this.constructor.isFullEqual === true) {\n                this._keys = Object.keys(props)\n                this._propsChanged = keys.length !== this._keys.length\n                return this._propsChanged\n            }\n            return false\n        }\n\n        componentWillUnmount() {\n            this['r()'].destructor()\n            this._el = undefined\n            this._keys = undefined\n            this.props = (undefined: any)\n            this._lastData = null\n            if (this._render !== undefined) {\n                this.constructor.instance--\n                this._injector.destructor()\n                this._injector = (undefined: any)\n            }\n        }\n\n        _el: ?(IElement | void) = undefined\n        _lastData: ?IElement = null\n        @detached r(force: boolean): ?IElement {\n            let data: ?IElement = null\n\n            const render = this._render\n\n            const prevContext = Injector.parentContext\n            const injector = Injector.parentContext = this._injector\n            try {\n                data = injector.invokeWithProps(render, this.props, this._propsChanged)\n                this._lastData = data\n            } catch (error) {\n                data = injector.invokeWithProps(render.onError || ErrorComponent, {error, children: this._lastData})\n                error[rdiRendered] = true\n            }\n\n            injector.rendered = ''\n            Injector.parentContext = prevContext\n\n            if (!this._propsChanged) {\n                this._el = data\n                this.forceUpdate()\n                this._el = undefined\n            }\n            this._propsChanged = false\n\n            return data\n        }\n\n        render() {\n            return this._el === undefined\n                ? this.r(this._propsChanged)\n                : this._el\n        }\n    }\n\n    return function reactWrapper<State>(\n        render: IRenderFn<IElement, State>\n    ): Class<IReactComponent<IElement>> {\n        const WrappedComponent = function(props: IPropsWithContext, context?: Object) {\n            AtomizedComponent.call(this, props, context)\n        }\n        WrappedComponent.instance = 0\n        WrappedComponent.render = render\n        WrappedComponent.isFullEqual = render.isFullEqual || isFullEqual\n        WrappedComponent.displayName = render.displayName || render.name\n        WrappedComponent.prototype = Object.create(AtomizedComponent.prototype)\n        WrappedComponent.prototype.constructor = WrappedComponent\n\n        return WrappedComponent\n    }\n}\n","// @flow\n\nimport type {IAtomize} from './interfaces'\nimport Injector from './Injector'\n\nexport default function createCreateElement<IElement, State, CreateElement: Function>(\n    atomize: IAtomize<IElement, State>,\n    createElement: CreateElement,\n    compositeId?: boolean\n): CreateElement {\n    function lomCreateElement() {\n        const args = arguments\n        let attrs = args[1]\n        let el = args[0]\n        let newEl\n        const isAtomic = typeof el === 'function' && el.constructor.render === undefined\n        let id: string | void = attrs ? attrs._id || attrs.id : undefined\n        const parentContext: Injector = Injector.parentContext\n\n        if (compositeId === true) {\n            if(!attrs) attrs = {}\n            if (!attrs.id) {\n                if (parentContext.rendered) throw new Error(`${parentContext.rendered} need id`)\n                attrs.id = parentContext.id\n                parentContext.rendered = parentContext.displayName + '.' + el\n            } else if (parentContext.id) attrs.id = parentContext.id + '.' + attrs.id\n\n            if (!attrs.key) attrs.key = attrs.id\n        }\n\n        if (isAtomic) {\n            newEl = parentContext.alias(el, id)\n            if (newEl === null) return null\n            if (newEl !== undefined) el = newEl\n            if (!attrs) {\n                attrs = {__lom_ctx: parentContext}\n            } else {\n                attrs.__lom_ctx = parentContext\n            }\n\n            if (el.__lom === undefined) {\n                el.__lom = atomize(el)\n            }\n            newEl = el.__lom\n        } else {\n            if (id) {\n                newEl = parentContext.alias(el, id)\n                if (newEl === null) return null\n                if (newEl !== undefined) el = newEl\n            }\n            newEl = el\n        }\n        switch(args.length) {\n            case 2:\n                return createElement(newEl, attrs)\n            case 3:\n                return createElement(newEl, attrs, args[2])\n            case 4:\n                return createElement(newEl, attrs, args[2], args[3])\n            case 5:\n                return createElement(newEl, attrs, args[2], args[3], args[4])\n            case 6:\n                return createElement(newEl, attrs, args[2], args[3], args[4], args[5])\n            case 7:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6])\n            case 8:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7])\n            case 9:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7], args[8])\n            default:\n                if (isAtomic === false) {\n                    return createElement.apply(null, args)\n                } else {\n                    const newArgs = [newEl, attrs]\n                    for (let i = 2, l = args.length; i < l; i++) {\n                        newArgs.push(args[i])\n                    }\n                    return createElement.apply(null, newArgs)\n                }\n        }\n    }\n\n    return (lomCreateElement: any)\n}\n","// @flow\n\nimport type {IRenderFn, IProvideItem} from './interfaces'\n\nfunction dn(fn?: ?(Function | Object | mixed)): string {\n    if (!fn) return 'null'\n\n    if (typeof fn === 'object') {\n        const cons = fn.constructor\n        return cons.displayName || cons.name\n    }\n    if (typeof fn === 'function') {\n        return fn.displayName || fn.name\n    }\n\n    return String(fn)\n}\n\nfunction provideMap(item: IProvideItem): string {\n    return item instanceof Array\n        ? `[${dn(item[0])}, ${dn(item[1])}]`\n        : dn(item)\n}\n\nexport default function cloneComponent<V: Function>(fn: V, aliases: IProvideItem[], name?: string): V {\n    const cloned = function () {\n        const a = arguments\n        switch (a.length) {\n            case 1: return fn(a[0])\n            case 2: return fn(a[0], a[1])\n            case 3: return fn(a[0], a[1], a[2])\n            case 4: return fn(a[0], a[1], a[2], a[3])\n            case 5: return fn(a[0], a[1], a[2], a[3], a[4])\n            default: return fn.apply(null, a)\n        }\n    }\n    cloned.deps = fn.deps\n    cloned._r = fn._r\n    cloned.aliases = fn.aliases ? fn.aliases.concat(aliases) : aliases\n    cloned.displayName = name || `cloneComponent(${dn(fn)}, [${aliases.map(provideMap).join(', ')}])`\n\n    return (cloned: any)\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\nimport {rdiProp} from './interfaces'\n\nexport default function props<P: Object>(\n    proto: P,\n    name: string,\n    descr: TypedPropertyDescriptor<*>,\n) {\n    proto.constructor[rdiProp] = name\n    if (!descr.value && !descr.set) {\n        descr.writable = true\n    }\n}\n","/** Virtual DOM Node */\nexport function VNode() {}\n","/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nexport default {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n\t *\t@name syncComponentUpdates\n\t *\t@type Boolean\n\t *\t@default true\n\t */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n\t *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n\t */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virutal DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/** Managed queue of dirty components to be re-rendered */\n\nlet items = [];\n\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nexport function rerender() {\n\tlet p, list = items;\n\titems = [];\n\twhile ( (p = list.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hyrdating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nexport function createNode(nodeName, isSvg) {\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value==null ? '' : value);\n\t\tif (value==null || value===false) node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink\\:?/, '')));\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) { }\n}\n\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { removeNode } from '../dom/index';\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c=mounts.pop())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nconst components = {};\n\n\n/** Reclaim a component for later re-use by the recycler. */\nexport function collectComponent(component) {\n\tlet name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nexport function createComponent(Ctor, props, context) {\n\tlet list = components[Ctor.name],\n\t\tinst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\tif (list) {\n\t\tfor (let i=list.length; i--; ) {\n\t\t\tif (list[i].constructor===Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, collectComponent } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nexport function setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif ((component.__ref = props.ref)) delete props.ref;\n\tif ((component.__key = props.key)) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t}\n\telse if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts!==NO_RENDER) {\n\t\tif (opts===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nexport function renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\trendered, inst, cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks!=null) {\n\t\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.context = context;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.props = props;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.state = this.state || {};\n}\n\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n\t *\t@param {object} nextProps\n\t *\t@param {object} nextState\n\t *\t@param {object} nextContext\n\t *\t@returns {Boolean} should the component re-render\n\t *\t@name shouldComponentUpdate\n\t *\t@function\n\t */\n\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n\t *\t@param {object} state\t\tA hash of state properties to update with new values\n\t *\t@param {function} callback\tA function to be called once component state is updated\n\t */\n\tsetState(state, callback) {\n\t\tlet s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state==='function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n\t *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n\t *\t@private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n\t *\t@param {object} state\t\tThe component's current state\n\t *\t@param {object} context\t\tContext object (if a parent component has provided context)\n\t *\t@returns VNode\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n\nimport { options } from 'preact';\n\n// Internal helpers from preact\nimport { ATTR_KEY } from '../src/constants';\n\n/**\n * Return a ReactElement-compatible object for the current state of a preact\n * component.\n */\nfunction createReactElement(component) {\n\treturn {\n\t\ttype: component.constructor,\n\t\tkey: component.key,\n\t\tref: null, // Unsupported\n\t\tprops: component.props\n\t};\n}\n\n/**\n * Create a ReactDOMComponent-compatible object for a given DOM node rendered\n * by preact.\n *\n * This implements the subset of the ReactDOMComponent interface that\n * React DevTools requires in order to display DOM nodes in the inspector with\n * the correct type and properties.\n *\n * @param {Node} node\n */\nfunction createReactDOMComponent(node) {\n\tconst childNodes = node.nodeType === Node.ELEMENT_NODE ?\n\t\tArray.from(node.childNodes) : [];\n\n\tconst isText = node.nodeType === Node.TEXT_NODE;\n\n\treturn {\n\t\t// --- ReactDOMComponent interface\n\t\t_currentElement: isText ? node.textContent : {\n\t\t\ttype: node.nodeName.toLowerCase(),\n\t\t\tprops: node[ATTR_KEY]\n\t\t},\n\t\t_renderedChildren: childNodes.map(child => {\n\t\t\tif (child._component) {\n\t\t\t\treturn updateReactComponent(child._component);\n\t\t\t}\n\t\t\treturn updateReactComponent(child);\n\t\t}),\n\t\t_stringText: isText ? node.textContent : null,\n\n\t\t// --- Additional properties used by preact devtools\n\n\t\t// A flag indicating whether the devtools have been notified about the\n\t\t// existence of this component instance yet.\n\t\t// This is used to send the appropriate notifications when DOM components\n\t\t// are added or updated between composite component updates.\n\t\t_inDevTools: false,\n\t\tnode\n\t};\n}\n\n/**\n * Return the name of a component created by a `ReactElement`-like object.\n *\n * @param {ReactElement} element\n */\nfunction typeName(element) {\n\tif (typeof element.type === 'function') {\n\t\treturn element.type.displayName || element.type.name;\n\t}\n\treturn element.type;\n}\n\n/**\n * Return a ReactCompositeComponent-compatible object for a given preact\n * component instance.\n *\n * This implements the subset of the ReactCompositeComponent interface that\n * the DevTools requires in order to walk the component tree and inspect the\n * component's properties.\n *\n * See https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/getData.js\n */\nfunction createReactCompositeComponent(component) {\n\tconst _currentElement = createReactElement(component);\n\tconst node = component.base;\n\n\tlet instance = {\n\t\t// --- ReactDOMComponent properties\n\t\tgetName() {\n\t\t\treturn typeName(_currentElement);\n\t\t},\n\t\t_currentElement: createReactElement(component),\n\t\tprops: component.props,\n\t\tstate: component.state,\n\t\tforceUpdate: component.forceUpdate && component.forceUpdate.bind(component),\n\t\tsetState: component.setState && component.setState.bind(component),\n\n\t\t// --- Additional properties used by preact devtools\n\t\tnode\n\t};\n\n\t// React DevTools exposes the `_instance` field of the selected item in the\n\t// component tree as `$r` in the console.  `_instance` must refer to a\n\t// React Component (or compatible) class instance with `props` and `state`\n\t// fields and `setState()`, `forceUpdate()` methods.\n\tinstance._instance = component;\n\n\t// If the root node returned by this component instance's render function\n\t// was itself a composite component, there will be a `_component` property\n\t// containing the child component instance.\n\tif (component._component) {\n\t\tinstance._renderedComponent = updateReactComponent(component._component);\n\t} else {\n\t\t// Otherwise, if the render() function returned an HTML/SVG element,\n\t\t// create a ReactDOMComponent-like object for the DOM node itself.\n\t\tinstance._renderedComponent = updateReactComponent(node);\n\t}\n\n\treturn instance;\n}\n\n/**\n * Map of Component|Node to ReactDOMComponent|ReactCompositeComponent-like\n * object.\n *\n * The same React*Component instance must be used when notifying devtools\n * about the initial mount of a component and subsequent updates.\n */\nlet instanceMap = typeof Map==='function' && new Map();\n\n/**\n * Update (and create if necessary) the ReactDOMComponent|ReactCompositeComponent-like\n * instance for a given preact component instance or DOM Node.\n *\n * @param {Component|Node} componentOrNode\n */\nfunction updateReactComponent(componentOrNode) {\n\tconst newInstance = componentOrNode instanceof Node ?\n\t\tcreateReactDOMComponent(componentOrNode) :\n\t\tcreateReactCompositeComponent(componentOrNode);\n\tif (instanceMap.has(componentOrNode)) {\n\t\tlet inst = instanceMap.get(componentOrNode);\n\t\tObject.assign(inst, newInstance);\n\t\treturn inst;\n\t}\n\tinstanceMap.set(componentOrNode, newInstance);\n\treturn newInstance;\n}\n\nfunction nextRootKey(roots) {\n\treturn '.' + Object.keys(roots).length;\n}\n\n/**\n * Find all root component instances rendered by preact in `node`'s children\n * and add them to the `roots` map.\n *\n * @param {DOMElement} node\n * @param {[key: string] => ReactDOMComponent|ReactCompositeComponent}\n */\nfunction findRoots(node, roots) {\n\tArray.from(node.childNodes).forEach(child => {\n\t\tif (child._component) {\n\t\t\troots[nextRootKey(roots)] = updateReactComponent(child._component);\n\t\t} else {\n\t\t\tfindRoots(child, roots);\n\t\t}\n\t});\n}\n\n/**\n * Create a bridge for exposing preact's component tree to React DevTools.\n *\n * It creates implementations of the interfaces that ReactDOM passes to\n * devtools to enable it to query the component tree and hook into component\n * updates.\n *\n * See https://github.com/facebook/react/blob/59ff7749eda0cd858d5ee568315bcba1be75a1ca/src/renderers/dom/ReactDOM.js\n * for how ReactDOM exports its internals for use by the devtools and\n * the `attachRenderer()` function in\n * https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/attachRenderer.js\n * for how the devtools consumes the resulting objects.\n */\nfunction createDevToolsBridge() {\n\t// The devtools has different paths for interacting with the renderers from\n\t// React Native, legacy React DOM and current React DOM.\n\t//\n\t// Here we emulate the interface for the current React DOM (v15+) lib.\n\n\t// ReactDOMComponentTree-like object\n\tconst ComponentTree = {\n\t\tgetNodeFromInstance(instance) {\n\t\t\treturn instance.node;\n\t\t},\n\t\tgetClosestInstanceFromNode(node) {\n\t\t\twhile (node && !node._component) {\n\t\t\t\tnode = node.parentNode;\n\t\t\t}\n\t\t\treturn node ? updateReactComponent(node._component) : null;\n\t\t}\n\t};\n\n\t// Map of root ID (the ID is unimportant) to component instance.\n\tlet roots = {};\n\tfindRoots(document.body, roots);\n\n\t// ReactMount-like object\n\t//\n\t// Used by devtools to discover the list of root component instances and get\n\t// notified when new root components are rendered.\n\tconst Mount = {\n\t\t_instancesByReactRootID: roots,\n\n\t\t// Stub - React DevTools expects to find this method and replace it\n\t\t// with a wrapper in order to observe new root components being added\n\t\t_renderNewRootComponent(/* instance, ... */) { }\n\t};\n\n\t// ReactReconciler-like object\n\tconst Reconciler = {\n\t\t// Stubs - React DevTools expects to find these methods and replace them\n\t\t// with wrappers in order to observe components being mounted, updated and\n\t\t// unmounted\n\t\tmountComponent(/* instance, ... */) { },\n\t\tperformUpdateIfNecessary(/* instance, ... */) { },\n\t\treceiveComponent(/* instance, ... */) { },\n\t\tunmountComponent(/* instance, ... */) { }\n\t};\n\n\t/** Notify devtools that a new component instance has been mounted into the DOM. */\n\tconst componentAdded = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tif (isRootComponent(component)) {\n\t\t\tinstance._rootID = nextRootKey(roots);\n\t\t\troots[instance._rootID] = instance;\n\t\t\tMount._renderNewRootComponent(instance);\n\t\t}\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tchildInst._inDevTools = true;\n\t\t\tReconciler.mountComponent(childInst);\n\t\t});\n\t\tReconciler.mountComponent(instance);\n\t};\n\n\t/** Notify devtools that a component has been updated with new props/state. */\n\tconst componentUpdated = component => {\n\t\tconst prevRenderedChildren = [];\n\t\tvisitNonCompositeChildren(instanceMap.get(component), childInst => {\n\t\t\tprevRenderedChildren.push(childInst);\n\t\t});\n\n\t\t// Notify devtools about updates to this component and any non-composite\n\t\t// children\n\t\tconst instance = updateReactComponent(component);\n\t\tReconciler.receiveComponent(instance);\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tif (!childInst._inDevTools) {\n\t\t\t\t// New DOM child component\n\t\t\t\tchildInst._inDevTools = true;\n\t\t\t\tReconciler.mountComponent(childInst);\n\t\t\t} else {\n\t\t\t\t// Updated DOM child component\n\t\t\t\tReconciler.receiveComponent(childInst);\n\t\t\t}\n\t\t});\n\n\t\t// For any non-composite children that were removed by the latest render,\n\t\t// remove the corresponding ReactDOMComponent-like instances and notify\n\t\t// the devtools\n\t\tprevRenderedChildren.forEach(childInst => {\n\t\t\tif (!document.body.contains(childInst.node)) {\n\t\t\t\tinstanceMap.delete(childInst.node);\n\t\t\t\tReconciler.unmountComponent(childInst);\n\t\t\t}\n\t\t});\n\t};\n\n\t/** Notify devtools that a component has been unmounted from the DOM. */\n\tconst componentRemoved = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tvisitNonCompositeChildren(childInst => {\n\t\t\tinstanceMap.delete(childInst.node);\n\t\t\tReconciler.unmountComponent(childInst);\n\t\t});\n\t\tReconciler.unmountComponent(instance);\n\t\tinstanceMap.delete(component);\n\t\tif (instance._rootID) {\n\t\t\tdelete roots[instance._rootID];\n\t\t}\n\t};\n\n\treturn {\n\t\tcomponentAdded,\n\t\tcomponentUpdated,\n\t\tcomponentRemoved,\n\n\t\t// Interfaces passed to devtools via __REACT_DEVTOOLS_GLOBAL_HOOK__.inject()\n\t\tComponentTree,\n\t\tMount,\n\t\tReconciler\n\t};\n}\n\n/**\n * Return `true` if a preact component is a top level component rendered by\n * `render()` into a container Element.\n */\nfunction isRootComponent(component) {\n\t// `_parentComponent` is actually `__u` after minification\n\tif (component._parentComponent || component.__u) {\n\t\t// Component with a composite parent\n\t\treturn false;\n\t}\n\tif (component.base.parentElement && component.base.parentElement[ATTR_KEY]) {\n\t\t// Component with a parent DOM element rendered by Preact\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * Visit all child instances of a ReactCompositeComponent-like object that are\n * not composite components (ie. they represent DOM elements or text)\n *\n * @param {Component} component\n * @param {(Component) => void} visitor\n */\nfunction visitNonCompositeChildren(component, visitor) {\n\tif (component._renderedComponent) {\n\t\tif (!component._renderedComponent._component) {\n\t\t\tvisitor(component._renderedComponent);\n\t\t\tvisitNonCompositeChildren(component._renderedComponent, visitor);\n\t\t}\n\t} else if (component._renderedChildren) {\n\t\tcomponent._renderedChildren.forEach(child => {\n\t\t\tvisitor(child);\n\t\t\tif (!child._component) visitNonCompositeChildren(child, visitor);\n\t\t});\n\t}\n}\n\n/**\n * Create a bridge between the preact component tree and React's dev tools\n * and register it.\n *\n * After this function is called, the React Dev Tools should be able to detect\n * \"React\" on the page and show the component tree.\n *\n * This function hooks into preact VNode creation in order to expose functional\n * components correctly, so it should be called before the root component(s)\n * are rendered.\n *\n * Returns a cleanup function which unregisters the hooks.\n */\nexport function initDevTools() {\n\tif (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n\t\t// React DevTools are not installed\n\t\treturn;\n\t}\n\n\t// Notify devtools when preact components are mounted, updated or unmounted\n\tconst bridge = createDevToolsBridge();\n\n\tconst nextAfterMount = options.afterMount;\n\toptions.afterMount = component => {\n\t\tbridge.componentAdded(component);\n\t\tif (nextAfterMount) nextAfterMount(component);\n\t};\n\n\tconst nextAfterUpdate = options.afterUpdate;\n\toptions.afterUpdate = component => {\n\t\tbridge.componentUpdated(component);\n\t\tif (nextAfterUpdate) nextAfterUpdate(component);\n\t};\n\n\tconst nextBeforeUnmount = options.beforeUnmount;\n\toptions.beforeUnmount = component => {\n\t\tbridge.componentRemoved(component);\n\t\tif (nextBeforeUnmount) nextBeforeUnmount(component);\n\t};\n\n\t// Notify devtools about this instance of \"React\"\n\t__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(bridge);\n\n\treturn () => {\n\t\toptions.afterMount = nextAfterMount;\n\t\toptions.afterUpdate = nextAfterUpdate;\n\t\toptions.beforeUnmount = nextBeforeUnmount;\n\t};\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nexports['default'] = function (styles) {\n  // eslint-disable-next-line no-shadow\n  function extract(styles) {\n    var to = null;\n\n    for (var key in styles) {\n      var value = styles[key];\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      if (type === 'function') {\n        if (!to) to = {};\n        to[key] = value;\n      } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n        var extracted = extract(value);\n        if (extracted) {\n          if (!to) to = {};\n          to[key] = extracted;\n        }\n      }\n    }\n\n    return to;\n  }\n\n  return extract(styles);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sheets registry to access them all at one place.\n */\nvar SheetsRegistry = function () {\n  function SheetsRegistry() {\n    _classCallCheck(this, SheetsRegistry);\n\n    this.registry = [];\n  }\n\n  _createClass(SheetsRegistry, [{\n    key: 'add',\n\n\n    /**\n     * Register a Style Sheet.\n     */\n    value: function add(sheet) {\n      var registry = this.registry;\n      var index = sheet.options.index;\n\n\n      if (registry.indexOf(sheet) !== -1) return;\n\n      if (registry.length === 0 || index >= this.index) {\n        registry.push(sheet);\n        return;\n      }\n\n      // Find a position.\n      for (var i = 0; i < registry.length; i++) {\n        if (registry[i].options.index > index) {\n          registry.splice(i, 0, sheet);\n          return;\n        }\n      }\n    }\n\n    /**\n     * Reset the registry.\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.registry = [];\n    }\n\n    /**\n     * Remove a Style Sheet.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(sheet) {\n      var index = this.registry.indexOf(sheet);\n      this.registry.splice(index, 1);\n    }\n\n    /**\n     * Convert all attached sheets to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.registry.filter(function (sheet) {\n        return sheet.attached;\n      }).map(function (sheet) {\n        return sheet.toString(options);\n      }).join('\\n');\n    }\n  }, {\n    key: 'index',\n\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\nexports['default'] = SheetsRegistry;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\nvar SheetsManager = function () {\n  function SheetsManager() {\n    _classCallCheck(this, SheetsManager);\n\n    this.sheets = [];\n    this.refs = [];\n    this.keys = [];\n  }\n\n  _createClass(SheetsManager, [{\n    key: 'get',\n    value: function get(key) {\n      var index = this.keys.indexOf(key);\n      return this.sheets[index];\n    }\n  }, {\n    key: 'add',\n    value: function add(key, sheet) {\n      var sheets = this.sheets,\n          refs = this.refs,\n          keys = this.keys;\n\n      var index = sheets.indexOf(sheet);\n\n      if (index !== -1) return index;\n\n      sheets.push(sheet);\n      refs.push(0);\n      keys.push(key);\n\n      return sheets.length - 1;\n    }\n  }, {\n    key: 'manage',\n    value: function manage(key) {\n      var index = this.keys.indexOf(key);\n      var sheet = this.sheets[index];\n      if (this.refs[index] === 0) sheet.attach();\n      this.refs[index]++;\n      if (!this.keys[index]) this.keys.splice(index, 0, key);\n      return sheet;\n    }\n  }, {\n    key: 'unmanage',\n    value: function unmanage(key) {\n      var index = this.keys.indexOf(key);\n      if (index === -1) {\n        // eslint-ignore-next-line no-console\n        (0, _warning2['default'])(false, 'SheetsManager: can\\'t find sheet to unmanage');\n        return;\n      }\n      if (this.refs[index] > 0) {\n        this.refs[index]--;\n        if (this.refs[index] === 0) this.sheets[index].detach();\n      }\n    }\n  }, {\n    key: 'size',\n    get: function get() {\n      return this.keys.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n\nexports['default'] = SheetsManager;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCssValue;\nvar join = function join(value, by) {\n  var result = '';\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n  return result;\n};\n\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\nfunction toCssValue(value) {\n  var ignoreImportant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (!Array.isArray(value)) return value;\n\n  var cssValue = '';\n\n  // Support space separated values via `[['5px', '10px']]`.\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', ');\n\n  // Add !important, because it was ignored.\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCss;\n\nvar _toCssValue = require('./toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str, indent) {\n  var result = '';\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }return result + str;\n}\n\n/**\n * Converts a Rule to CSS string.\n */\n\nfunction toCss(selector, style) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var result = '';\n\n  if (!style) return result;\n\n  var _options$indent = options.indent,\n      indent = _options$indent === undefined ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n\n\n  indent++;\n\n  // Apply fallbacks first.\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n        for (var prop in fallback) {\n          var value = fallback[prop];\n          if (value != null) {\n            result += '\\n' + indentStr(prop + ': ' + (0, _toCssValue2['default'])(value) + ';', indent);\n          }\n        }\n      }\n    }\n    // Object syntax {fallbacks: {prop: value}}\n    else {\n        for (var _prop in fallbacks) {\n          var _value = fallbacks[_prop];\n          if (_value != null) {\n            result += '\\n' + indentStr(_prop + ': ' + (0, _toCssValue2['default'])(_value) + ';', indent);\n          }\n        }\n      }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      result += '\\n' + indentStr(_prop2 + ': ' + (0, _toCssValue2['default'])(_value2) + ';', indent);\n    }\n  }\n\n  // Allow empty style in this case, because properties will be added dynamically.\n  if (!result && !options.allowEmpty) return result;\n\n  indent--;\n  result = indentStr(selector + ' {' + result + '\\n', indent) + indentStr('}', indent);\n\n  return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleRule = function () {\n  function StyleRule(key, style, options) {\n    _classCallCheck(this, StyleRule);\n\n    this.type = 'style';\n    this.isProcessed = false;\n    var sheet = options.sheet,\n        Renderer = options.Renderer,\n        selector = options.selector;\n\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (selector) this.selectorText = selector;\n    this.renderer = sheet ? sheet.renderer : new Renderer();\n  }\n\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  _createClass(StyleRule, [{\n    key: 'prop',\n\n\n    /**\n     * Get or set a style property.\n     */\n    value: function prop(name, nextValue) {\n      // It's a setter.\n      if (nextValue != null) {\n        // Don't do anything if the value has not changed.\n        if (this.style[name] !== nextValue) {\n          nextValue = this.options.jss.plugins.onChangeValue(nextValue, name, this);\n          this.style[name] = nextValue;\n\n          // Renderable is defined if StyleSheet option `link` is true.\n          if (this.renderable) this.renderer.setStyle(this.renderable, name, nextValue);else {\n            var sheet = this.options.sheet;\n\n            if (sheet && sheet.attached) {\n              (0, _warning2['default'])(false, 'Rule is not linked. Missing sheet option \"link: true\".');\n            }\n          }\n        }\n        return this;\n      }\n\n      return this.style[name];\n    }\n\n    /**\n     * Apply rule to an element inline.\n     */\n\n  }, {\n    key: 'applyTo',\n    value: function applyTo(renderable) {\n      var json = this.toJSON();\n      for (var prop in json) {\n        this.renderer.setStyle(renderable, prop, json[prop]);\n      }return this;\n    }\n\n    /**\n     * Returns JSON representation of the rule.\n     * Fallbacks are not supported.\n     * Useful for inline styles.\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {};\n      for (var prop in this.style) {\n        var value = this.style[prop];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = (0, _toCssValue2['default'])(value);\n      }\n      return json;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n      var opts = link ? _extends({}, options, { allowEmpty: true }) : options;\n      return (0, _toCss2['default'])(this.selector, this.style, opts);\n    }\n  }, {\n    key: 'selector',\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n\n      this.selectorText = selector;\n\n      if (this.renderable) {\n        var hasChanged = this.renderer.setSelector(this.renderable, selector);\n\n        // If selector setter is not implemented, rerender the rule.\n        if (!hasChanged && this.renderable) {\n          var renderable = this.renderer.replaceRule(this.renderable, this);\n          if (renderable) this.renderable = renderable;\n        }\n      }\n    }\n\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}();\n\nexports['default'] = StyleRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill.js');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;","module.exports = require('./lib/index');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = function (value) {\n  return value && value[_symbolObservable2['default']] && value === value[_symbolObservable2['default']]();\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports['default'] = cloneStyle;\n\nvar _isObservable = require('./isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar isArray = Array.isArray;\nfunction cloneStyle(style) {\n  // Support empty values in case user ends up with them by accident.\n  if (style == null) return style;\n\n  // Support string value for SimpleRule.\n  var typeOfStyle = typeof style === 'undefined' ? 'undefined' : _typeof(style);\n\n  if (typeOfStyle === 'string' || typeOfStyle === 'number' || typeOfStyle === 'function') {\n    return style;\n  }\n\n  // Support array for FontFaceRule.\n  if (isArray(style)) return style.map(cloneStyle);\n\n  // Support Observable styles.  Observables are immutable, so we don't need to\n  // copy them.\n  if ((0, _isObservable2['default'])(style)) return style;\n\n  var newStyle = {};\n  for (var name in style) {\n    var value = style[name];\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      newStyle[name] = cloneStyle(value);\n      continue;\n    }\n    newStyle[name] = value;\n  }\n\n  return newStyle;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = createRule;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _cloneStyle = require('../utils/cloneStyle');\n\nvar _cloneStyle2 = _interopRequireDefault(_cloneStyle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Create a rule instance.\n */\nfunction createRule() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'unnamed';\n  var decl = arguments[1];\n  var options = arguments[2];\n  var jss = options.jss;\n\n  var declCopy = (0, _cloneStyle2['default'])(decl);\n\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule;\n\n  // It is an at-rule and it has no instance.\n  if (name[0] === '@') {\n    (0, _warning2['default'])(false, '[JSS] Unknown at-rule %s', name);\n  }\n\n  return new _StyleRule2['default'](name, declCopy, options);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = linkRule;\n/**\n * Link rule with CSSStyleRule and nested rules with corresponding nested cssRules if both exists.\n */\nfunction linkRule(rule, cssRule) {\n  rule.renderable = cssRule;\n  if (rule.rules && cssRule.cssRules) rule.rules.link(cssRule.cssRules);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar CSS = global.CSS;\n\nvar env = process.env.NODE_ENV;\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`])/g;\n\nexports['default'] = function (str) {\n  // We don't need to escape it in production, because we are not using user's\n  // input for selectors, we are generating a valid selector.\n  if (env === 'production') return str;\n\n  if (!CSS || !CSS.escape) {\n    return str.replace(escapeRegex, '\\\\$1');\n  }\n\n  return CSS.escape(str);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _createRule = require('./utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _escape = require('./utils/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Contains rules objects and allows adding/removing etc.\n * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n */\nvar RuleList = function () {\n\n  // Original styles object.\n  function RuleList(options) {\n    _classCallCheck(this, RuleList);\n\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n\n    this.options = options;\n    this.classes = options.classes;\n  }\n\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  // Used to ensure correct rules order.\n\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n\n\n  _createClass(RuleList, [{\n    key: 'add',\n    value: function add(name, decl, options) {\n      var _options = this.options,\n          parent = _options.parent,\n          sheet = _options.sheet,\n          jss = _options.jss,\n          Renderer = _options.Renderer,\n          generateClassName = _options.generateClassName;\n\n\n      options = _extends({\n        classes: this.classes,\n        parent: parent,\n        sheet: sheet,\n        jss: jss,\n        Renderer: Renderer,\n        generateClassName: generateClassName\n      }, options);\n\n      if (!options.selector && this.classes[name]) {\n        options.selector = '.' + (0, _escape2['default'])(this.classes[name]);\n      }\n\n      this.raw[name] = decl;\n\n      var rule = (0, _createRule2['default'])(name, decl, options);\n\n      var className = void 0;\n\n      if (!options.selector && rule instanceof _StyleRule2['default']) {\n        className = generateClassName(rule, sheet);\n        rule.selector = '.' + (0, _escape2['default'])(className);\n      }\n\n      this.register(rule, className);\n\n      var index = options.index === undefined ? this.index.length : options.index;\n      this.index.splice(index, 0, rule);\n\n      return rule;\n    }\n\n    /**\n     * Get a rule.\n     */\n\n  }, {\n    key: 'get',\n    value: function get(name) {\n      return this.map[name];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(rule) {\n      this.unregister(rule);\n      this.index.splice(this.indexOf(rule), 1);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.index.indexOf(rule);\n    }\n\n    /**\n     * Run `onProcessRule()` plugins on every rule.\n     */\n\n  }, {\n    key: 'process',\n    value: function process() {\n      var plugins = this.options.jss.plugins;\n      // We need to clone array because if we modify the index somewhere else during a loop\n      // we end up with very hard-to-track-down side effects.\n\n      this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n    }\n\n    /**\n     * Register a rule in `.map` and `.classes` maps.\n     */\n\n  }, {\n    key: 'register',\n    value: function register(rule, className) {\n      this.map[rule.key] = rule;\n      if (rule instanceof _StyleRule2['default']) {\n        this.map[rule.selector] = rule;\n        if (className) this.classes[rule.key] = className;\n      }\n    }\n\n    /**\n     * Unregister a rule.\n     */\n\n  }, {\n    key: 'unregister',\n    value: function unregister(rule) {\n      delete this.map[rule.key];\n      if (rule instanceof _StyleRule2['default']) {\n        delete this.map[rule.selector];\n        delete this.classes[rule.key];\n      }\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      var _options2 = this.options,\n          plugins = _options2.jss.plugins,\n          sheet = _options2.sheet;\n\n      if (typeof name === 'string') {\n        plugins.onUpdate(data, this.get(name), sheet);\n        return;\n      }\n\n      for (var index = 0; index < this.index.length; index++) {\n        plugins.onUpdate(name, this.index[index], sheet);\n      }\n    }\n\n    /**\n     * Link renderable rules with CSSRuleList.\n     */\n\n  }, {\n    key: 'link',\n    value: function link(cssRules) {\n      var map = this.options.sheet.renderer.getUnescapedKeysMap(this.index);\n\n      for (var i = 0; i < cssRules.length; i++) {\n        var cssRule = cssRules[i];\n        var _key = this.options.sheet.renderer.getKey(cssRule);\n        if (map[_key]) _key = map[_key];\n        var rule = this.map[_key];\n        if (rule) (0, _linkRule2['default'])(rule, cssRule);\n      }\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var str = '';\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n\n      for (var index = 0; index < this.index.length; index++) {\n        var rule = this.index[index];\n        var css = rule.toString(options);\n\n        // No need to render an empty rule.\n        if (!css && !link) continue;\n\n        if (str) str += '\\n';\n        str += css;\n      }\n\n      return str;\n    }\n  }]);\n\n  return RuleList;\n}();\n\nexports['default'] = RuleList;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nvar _SheetsRegistry2 = _interopRequireDefault(_SheetsRegistry);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\nexports['default'] = new _SheetsRegistry2['default']();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _RuleList = require('./RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleSheet = function () {\n  function StyleSheet(styles, options) {\n    _classCallCheck(this, StyleSheet);\n\n    this.attached = false;\n    this.deployed = false;\n    this.linked = false;\n    this.classes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes\n    });\n    this.renderer = new options.Renderer(this);\n    this.rules = new _RuleList2['default'](this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  _createClass(StyleSheet, [{\n    key: 'attach',\n    value: function attach() {\n      if (this.attached) return this;\n      if (!this.deployed) this.deploy();\n      this.renderer.attach();\n      if (!this.linked && this.options.link) this.link();\n      this.attached = true;\n      return this;\n    }\n\n    /**\n     * Remove renderable from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      if (!this.attached) return this;\n      this.renderer.detach();\n      this.attached = false;\n      return this;\n    }\n\n    /**\n     * Add a rule to the current stylesheet.\n     * Will insert a rule also after the stylesheet has been rendered first time.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, decl, options) {\n      var queue = this.queue;\n\n      // Plugins can create rules.\n      // In order to preserve the right order, we need to queue all `.addRule` calls,\n      // which happen after the first `rules.add()` call.\n\n      if (this.attached && !queue) this.queue = [];\n\n      var rule = this.rules.add(name, decl, options);\n      this.options.jss.plugins.onProcessRule(rule);\n\n      if (this.attached) {\n        if (!this.deployed) return rule;\n        // Don't insert rule directly if there is no stringified version yet.\n        // It will be inserted all together when .attach is called.\n        if (queue) queue.push(rule);else {\n          this.insertRule(rule);\n          if (this.queue) {\n            this.queue.forEach(this.insertRule, this);\n            this.queue = undefined;\n          }\n        }\n        return rule;\n      }\n\n      // We can't add rules to a detached style node.\n      // We will redeploy the sheet once user will attach it.\n      this.deployed = false;\n\n      return rule;\n    }\n\n    /**\n     * Insert rule into the StyleSheet\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule) {\n      var renderable = this.renderer.insertRule(rule);\n      if (renderable && this.options.link) (0, _linkRule2['default'])(rule, renderable);\n    }\n\n    /**\n     * Create and add rules.\n     * Will render also after Style Sheet was rendered the first time.\n     */\n\n  }, {\n    key: 'addRules',\n    value: function addRules(styles, options) {\n      var added = [];\n      for (var name in styles) {\n        added.push(this.addRule(name, styles[name], options));\n      }\n      return added;\n    }\n\n    /**\n     * Get a rule by name.\n     */\n\n  }, {\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Delete a rule by name.\n     * Returns `true`: if rule has been deleted from the DOM.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(name) {\n      var rule = this.rules.get(name);\n\n      if (!rule) return false;\n\n      this.rules.remove(rule);\n\n      if (this.attached && rule.renderable) {\n        return this.renderer.deleteRule(rule.renderable);\n      }\n\n      return true;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Deploy pure CSS string to a renderable.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      this.renderer.deploy();\n      this.deployed = true;\n      return this;\n    }\n\n    /**\n     * Link renderable CSS rules from sheet with their corresponding models.\n     */\n\n  }, {\n    key: 'link',\n    value: function link() {\n      var cssRules = this.renderer.getRules();\n\n      // Is undefined when VirtualRenderer is used.\n      if (cssRules) this.rules.link(cssRules);\n      this.linked = true;\n      return this;\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      this.rules.update(name, data);\n      return this;\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.rules.toString(options);\n    }\n  }]);\n\n  return StyleSheet;\n}();\n\nexports['default'] = StyleSheet;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (global[ns] == null) global[ns] = 0;\n\n// Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\nexports['default'] = global[ns]++;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleSheet = require('../StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _moduleId = require('./moduleId');\n\nvar _moduleId2 = _interopRequireDefault(_moduleId);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar maxRules = 1e10;\n\n\nvar env = process.env.NODE_ENV;\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nexports['default'] = function () {\n  var ruleCounter = 0;\n  var defaultPrefix = env === 'production' ? 'c' : '';\n\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      (0, _warning2['default'])(false, '[JSS] You might have a memory leak. Rule counter is at %s.', ruleCounter);\n    }\n\n    var prefix = defaultPrefix;\n    var jssId = '';\n\n    if (sheet) {\n      prefix = sheet.options.classNamePrefix || defaultPrefix;\n      if (sheet.options.jss.id != null) jssId += sheet.options.jss.id;\n    }\n\n    if (env === 'production') {\n      return '' + prefix + _moduleId2['default'] + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + '-' + _moduleId2['default'] + (jssId && '-' + jssId) + '-' + ruleCounter;\n  };\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PluginsRegistry = function () {\n  function PluginsRegistry() {\n    _classCallCheck(this, PluginsRegistry);\n\n    this.hooks = {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n\n      /**\n       * Call `onCreateRule` hooks and return an object if returned by a hook.\n       */\n    };\n  }\n\n  _createClass(PluginsRegistry, [{\n    key: 'onCreateRule',\n    value: function onCreateRule(name, decl, options) {\n      for (var i = 0; i < this.hooks.onCreateRule.length; i++) {\n        var rule = this.hooks.onCreateRule[i](name, decl, options);\n        if (rule) return rule;\n      }\n      return null;\n    }\n\n    /**\n     * Call `onProcessRule` hooks.\n     */\n\n  }, {\n    key: 'onProcessRule',\n    value: function onProcessRule(rule) {\n      if (rule.isProcessed) return;\n      var sheet = rule.options.sheet;\n\n      for (var i = 0; i < this.hooks.onProcessRule.length; i++) {\n        this.hooks.onProcessRule[i](rule, sheet);\n      }\n\n      // $FlowFixMe\n      if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n\n      rule.isProcessed = true;\n    }\n\n    /**\n     * Call `onProcessStyle` hooks.\n     */\n\n  }, {\n    key: 'onProcessStyle',\n    value: function onProcessStyle(style, rule, sheet) {\n      var nextStyle = style;\n\n      for (var i = 0; i < this.hooks.onProcessStyle.length; i++) {\n        nextStyle = this.hooks.onProcessStyle[i](nextStyle, rule, sheet);\n        // $FlowFixMe\n        rule.style = nextStyle;\n      }\n    }\n\n    /**\n     * Call `onProcessSheet` hooks.\n     */\n\n  }, {\n    key: 'onProcessSheet',\n    value: function onProcessSheet(sheet) {\n      for (var i = 0; i < this.hooks.onProcessSheet.length; i++) {\n        this.hooks.onProcessSheet[i](sheet);\n      }\n    }\n\n    /**\n     * Call `onUpdate` hooks.\n     */\n\n  }, {\n    key: 'onUpdate',\n    value: function onUpdate(data, rule, sheet) {\n      for (var i = 0; i < this.hooks.onUpdate.length; i++) {\n        this.hooks.onUpdate[i](data, rule, sheet);\n      }\n    }\n\n    /**\n     * Call `onChangeValue` hooks.\n     */\n\n  }, {\n    key: 'onChangeValue',\n    value: function onChangeValue(value, prop, rule) {\n      var processedValue = value;\n      for (var i = 0; i < this.hooks.onChangeValue.length; i++) {\n        processedValue = this.hooks.onChangeValue[i](processedValue, prop, rule);\n      }\n      return processedValue;\n    }\n\n    /**\n     * Register a plugin.\n     * If function is passed, it is a shortcut for `{onProcessRule}`.\n     */\n\n  }, {\n    key: 'use',\n    value: function use(plugin) {\n      for (var name in plugin) {\n        if (this.hooks[name]) this.hooks[name].push(plugin[name]);else (0, _warning2['default'])(false, '[JSS] Unknown hook \"%s\".', name);\n      }\n    }\n  }]);\n\n  return PluginsRegistry;\n}();\n\nexports['default'] = PluginsRegistry;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SimpleRule = function () {\n  function SimpleRule(key, value, options) {\n    _classCallCheck(this, SimpleRule);\n\n    this.type = 'simple';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  _createClass(SimpleRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.value)) {\n        var str = '';\n        for (var index = 0; index < this.value.length; index++) {\n          str += this.key + ' ' + this.value[index] + ';';\n          if (this.value[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return this.key + ' ' + this.value + ';';\n    }\n  }]);\n\n  return SimpleRule;\n}();\n\nexports['default'] = SimpleRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Rule for @keyframes\n */\nvar KeyframesRule = function () {\n  function KeyframesRule(key, frames, options) {\n    _classCallCheck(this, KeyframesRule);\n\n    this.type = 'keyframes';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, this.options, {\n        parent: this,\n        selector: name\n      }));\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(KeyframesRule, [{\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      if (inner) inner += '\\n';\n      return this.key + ' {\\n' + inner + '}';\n    }\n  }]);\n\n  return KeyframesRule;\n}();\n\nexports['default'] = KeyframesRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Conditional rule for @media, @supports\n */\nvar ConditionalRule = function () {\n  function ConditionalRule(key, styles, options) {\n    _classCallCheck(this, ConditionalRule);\n\n    this.type = 'conditional';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(ConditionalRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      return inner ? this.key + ' {\\n' + inner + '\\n}' : '';\n    }\n  }]);\n\n  return ConditionalRule;\n}();\n\nexports['default'] = ConditionalRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FontFaceRule = function () {\n  function FontFaceRule(key, style, options) {\n    _classCallCheck(this, FontFaceRule);\n\n    this.type = 'font-face';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(FontFaceRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.style)) {\n        var str = '';\n        for (var index = 0; index < this.style.length; index++) {\n          str += (0, _toCss2['default'])(this.key, this.style[index]);\n          if (this.style[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return FontFaceRule;\n}();\n\nexports['default'] = FontFaceRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ViewportRule = function () {\n  function ViewportRule(key, style, options) {\n    _classCallCheck(this, ViewportRule);\n\n    this.type = 'viewport';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(ViewportRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return ViewportRule;\n}();\n\nexports['default'] = ViewportRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SimpleRule = require('../rules/SimpleRule');\n\nvar _SimpleRule2 = _interopRequireDefault(_SimpleRule);\n\nvar _KeyframesRule = require('../rules/KeyframesRule');\n\nvar _KeyframesRule2 = _interopRequireDefault(_KeyframesRule);\n\nvar _ConditionalRule = require('../rules/ConditionalRule');\n\nvar _ConditionalRule2 = _interopRequireDefault(_ConditionalRule);\n\nvar _FontFaceRule = require('../rules/FontFaceRule');\n\nvar _FontFaceRule2 = _interopRequireDefault(_FontFaceRule);\n\nvar _ViewportRule = require('../rules/ViewportRule');\n\nvar _ViewportRule2 = _interopRequireDefault(_ViewportRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar classes = {\n  '@charset': _SimpleRule2['default'],\n  '@import': _SimpleRule2['default'],\n  '@namespace': _SimpleRule2['default'],\n  '@keyframes': _KeyframesRule2['default'],\n  '@media': _ConditionalRule2['default'],\n  '@supports': _ConditionalRule2['default'],\n  '@font-face': _FontFaceRule2['default'],\n  '@viewport': _ViewportRule2['default'],\n  '@-ms-viewport': _ViewportRule2['default']\n\n  /**\n   * Generate plugins which will register all rules.\n   */\n};\nexports['default'] = Object.keys(classes).map(function (key) {\n  // https://jsperf.com/indexof-vs-substr-vs-regex-at-the-beginning-3\n  var re = new RegExp('^' + key);\n  var onCreateRule = function onCreateRule(name, decl, options) {\n    return re.test(name) ? new classes[key](name, decl, options) : null;\n  };\n  return { onCreateRule: onCreateRule };\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _isObservable = require('../utils/isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (!(0, _isObservable2['default'])(decl)) return null;\n\n    // Cast `decl` to `Observable`, since it passed the type guard.\n    var style$ = decl;\n\n    var rule = (0, _createRule2['default'])(name, {}, options);\n\n    // TODO\n    // Call `stream.subscribe()` returns a subscription, which should be explicitly\n    // unsubscribed from when we know this sheet is no longer needed.\n    style$.subscribe(function (style) {\n      for (var prop in style) {\n        rule.prop(prop, style[prop]);\n      }\n    });\n\n    return rule;\n  },\n  onProcessRule: function onProcessRule(rule) {\n    if (!(rule instanceof _StyleRule2['default'])) return;\n    var styleRule = rule;\n    var style = styleRule.style;\n\n    var _loop = function _loop(prop) {\n      var value = style[prop];\n      if (!(0, _isObservable2['default'])(value)) return 'continue';\n      delete style[prop];\n      value.subscribe({\n        next: function next(nextValue) {\n          styleRule.prop(prop, nextValue);\n        }\n      });\n    };\n\n    for (var prop in style) {\n      var _ret = _loop(prop);\n\n      if (_ret === 'continue') continue;\n    }\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar regExp = /([A-Z])/g;\nvar replace = function replace(str) {\n  return \"-\" + str.toLowerCase();\n};\n\nexports[\"default\"] = function (str) {\n  return str.replace(regExp, replace);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _kebabCase = require('../utils/kebabCase');\n\nvar _kebabCase2 = _interopRequireDefault(_kebabCase);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// A symbol replacement.\nvar now = Date.now();\nvar fnValuesNs = 'fnValues' + now;\nvar fnStyleNs = 'fnStyle' + ++now;\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (typeof decl !== 'function') return null;\n    var rule = (0, _createRule2['default'])(name, {}, options);\n    rule[fnStyleNs] = decl;\n    return rule;\n  },\n  onProcessStyle: function onProcessStyle(style, rule) {\n    var fn = {};\n    for (var prop in style) {\n      var value = style[prop];\n      if (typeof value !== 'function') continue;\n      delete style[prop];\n      fn[(0, _kebabCase2['default'])(prop)] = value;\n    }\n    rule = rule;\n    rule[fnValuesNs] = fn;\n    return style;\n  },\n  onUpdate: function onUpdate(data, rule) {\n    // It is a rules container like for e.g. ConditionalRule.\n    if (rule.rules instanceof _RuleList2['default']) {\n      rule.rules.update(data);\n      return;\n    }\n    if (!(rule instanceof _StyleRule2['default'])) return;\n\n    rule = rule;\n\n    // If we have a fn values map, it is a rule with function values.\n    if (rule[fnValuesNs]) {\n      for (var prop in rule[fnValuesNs]) {\n        rule.prop(prop, rule[fnValuesNs][prop](data));\n      }\n    }\n\n    rule = rule;\n\n    var fnStyle = rule[fnStyleNs];\n\n    // If we have a style function, the entire rule is dynamic and style object\n    // will be returned from that function.\n    if (fnStyle) {\n      var style = fnStyle(data);\n      for (var _prop in style) {\n        rule.prop(_prop, style[_prop]);\n      }\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _sheets = require('../sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Get a style property.\n */\nfunction getStyle(cssRule, prop) {\n  try {\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n\n/**\n * Set a style property.\n */\nfunction setStyle(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = (0, _toCssValue2['default'])(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    }\n\n    cssRule.style.setProperty(prop, cssValue);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n  return true;\n}\n\nvar CSSRuleTypes = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7\n\n  /**\n   * Get the CSS Rule key.\n   */\n\n};var getKey = function () {\n  var extractKey = function extractKey(cssText) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return cssText.substr(from, cssText.indexOf('{') - 1);\n  };\n\n  return function (cssRule) {\n    if (cssRule.type === CSSRuleTypes.STYLE_RULE) return cssRule.selectorText;\n    if (cssRule.type === CSSRuleTypes.KEYFRAMES_RULE) {\n      var name = cssRule.name;\n\n      if (name) return '@keyframes ' + name;\n\n      // There is no rule.name in the following browsers:\n      // - IE 9\n      // - Safari 7.1.8\n      // - Mobile Safari 9.0.0\n      var cssText = cssRule.cssText;\n\n      return '@' + extractKey(cssText, cssText.indexOf('keyframes'));\n    }\n\n    // Conditionals.\n    return extractKey(cssRule.cssText);\n  };\n}();\n\n/**\n * Set the selector.\n */\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText;\n\n  // Return false if setter was not successful.\n  // Currently works in chrome only.\n  return cssRule.selectorText === selectorText;\n}\n\n/**\n * Gets the `head` element upon the first call and caches it.\n */\nvar getHead = function () {\n  var head = void 0;\n  return function () {\n    if (!head) head = document.head || document.getElementsByTagName('head')[0];\n    return head;\n  };\n}();\n\n/**\n * Gets a map of rule keys, where the property is an unescaped key and value\n * is a potentially escaped one.\n * It is used to identify CSS rules and the corresponding JSS rules. As an identifier\n * for CSSStyleRule we normally use `selectorText`. Though if original selector text\n * contains escaped code points e.g. `:not(#\\\\20)`, CSSOM will compile it to `:not(# )`\n * and so CSS rule's `selectorText` won't match JSS rule selector.\n *\n * https://www.w3.org/International/questions/qa-escapes#cssescapes\n */\nvar getUnescapedKeysMap = function () {\n  var style = void 0;\n  var isAttached = false;\n\n  return function (rules) {\n    var map = {};\n    // https://github.com/facebook/flow/issues/2696\n    if (!style) style = document.createElement('style');\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (!(rule instanceof _StyleRule2['default'])) continue;\n      var selector = rule.selector;\n      // Only unescape selector over CSSOM if it contains a back slash.\n\n      if (selector && selector.indexOf('\\\\') !== -1) {\n        // Lazilly attach when needed.\n        if (!isAttached) {\n          getHead().appendChild(style);\n          isAttached = true;\n        }\n        style.textContent = selector + ' {}';\n        var _style = style,\n            sheet = _style.sheet;\n\n        if (sheet) {\n          var cssRules = sheet.cssRules;\n\n          if (cssRules) map[cssRules[0].selectorText] = rule.key;\n        }\n      }\n    }\n    if (isAttached) {\n      getHead().removeChild(style);\n      isAttached = false;\n    }\n    return map;\n  };\n}();\n\n/**\n * Find attached sheet with an index higher than the passed one.\n */\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find attached sheet with the highest index.\n */\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a comment with \"jss\" inside.\n */\nfunction findCommentNode(text) {\n  var head = getHead();\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry = _sheets2['default'].registry;\n\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet) return sheet.renderer.element;\n\n    // Otherwise insert after the last attached.\n    sheet = findHighestSheet(registry, options);\n    if (sheet) return sheet.renderer.element.nextElementSibling;\n  }\n\n  // Try to find a comment placeholder if registry is empty.\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) return comment.nextSibling;\n    // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n    (0, _warning2['default'])(insertionPoint === 'jss', '[JSS] Insertion point \"%s\" not found.', insertionPoint);\n  }\n\n  return null;\n}\n\n/**\n * Insert style element into the DOM.\n */\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n\n  var prevNode = findPrevNode(options);\n\n  if (prevNode) {\n    var parentNode = prevNode.parentNode;\n\n    if (parentNode) parentNode.insertBefore(style, prevNode);\n    return;\n  }\n\n  // Works with iframes and any node types.\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var _parentNode = insertionPointElement.parentNode;\n\n    if (_parentNode) _parentNode.insertBefore(style, insertionPointElement.nextSibling);else (0, _warning2['default'])(false, '[JSS] Insertion point is not in the DOM.');\n    return;\n  }\n\n  getHead().insertBefore(style, prevNode);\n}\n\nvar DomRenderer = function () {\n  function DomRenderer(sheet) {\n    _classCallCheck(this, DomRenderer);\n\n    this.getStyle = getStyle;\n    this.setStyle = setStyle;\n    this.setSelector = setSelector;\n    this.getKey = getKey;\n    this.getUnescapedKeysMap = getUnescapedKeysMap;\n    this.hasInsertedRules = false;\n\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) _sheets2['default'].add(sheet);\n\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || document.createElement('style');\n    this.element.type = 'text/css';\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    // eslint-disable-next-line no-underscore-dangle\n    var nonce = global.__webpack_nonce__;\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      // In the case the element node is external and it is already in the DOM.\n      if (this.element.parentNode || !this.sheet) return;\n\n      // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n      // browsers remove those rules.\n      // TODO figure out if its a bug and if it is known.\n      // Workaround is to redeploy the sheet before attaching as a string.\n      if (this.hasInsertedRules) {\n        this.deploy();\n        this.hasInsertedRules = false;\n      }\n\n      insertStyle(this.element, this.sheet.options);\n    }\n\n    /**\n     * Remove style element from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n\n    /**\n     * Inject CSS string into element.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      if (!this.sheet) return;\n      this.element.textContent = '\\n' + this.sheet.toString() + '\\n';\n    }\n\n    /**\n     * Insert a rule into element.\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule, index) {\n      var sheet = this.element.sheet;\n      var cssRules = sheet.cssRules;\n\n      var str = rule.toString();\n      if (!index) index = cssRules.length;\n\n      if (!str) return false;\n\n      try {\n        sheet.insertRule(str, index);\n      } catch (err) {\n        (0, _warning2['default'])(false, '[JSS] Can not insert an unsupported rule \\n\\r%s', rule);\n        return false;\n      }\n      this.hasInsertedRules = true;\n\n      return cssRules[index];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(cssRule) {\n      var sheet = this.element.sheet;\n\n      var index = this.indexOf(cssRule);\n      if (index === -1) return false;\n      sheet.deleteRule(index);\n      return true;\n    }\n\n    /**\n     * Get index of a CSS Rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(cssRule) {\n      var cssRules = this.element.sheet.cssRules;\n\n      for (var _index = 0; _index < cssRules.length; _index++) {\n        if (cssRule === cssRules[_index]) return _index;\n      }\n      return -1;\n    }\n\n    /**\n     * Generate a new CSS rule and replace the existing one.\n     */\n\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule(cssRule, rule) {\n      var index = this.indexOf(cssRule);\n      var newCssRule = this.insertRule(rule, index);\n      this.element.sheet.deleteRule(index);\n      return newCssRule;\n    }\n\n    /**\n     * Get all rules elements.\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      return this.element.sheet.cssRules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports['default'] = DomRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable class-methods-use-this */\n\n/**\n * Rendering backend to do nothing in nodejs.\n */\nvar VirtualRenderer = function () {\n  function VirtualRenderer() {\n    _classCallCheck(this, VirtualRenderer);\n  }\n\n  _createClass(VirtualRenderer, [{\n    key: 'setStyle',\n    value: function setStyle() {\n      return true;\n    }\n  }, {\n    key: 'getStyle',\n    value: function getStyle() {\n      return '';\n    }\n  }, {\n    key: 'setSelector',\n    value: function setSelector() {\n      return true;\n    }\n  }, {\n    key: 'getKey',\n    value: function getKey() {\n      return '';\n    }\n  }, {\n    key: 'attach',\n    value: function attach() {}\n  }, {\n    key: 'detach',\n    value: function detach() {}\n  }, {\n    key: 'deploy',\n    value: function deploy() {}\n  }, {\n    key: 'insertRule',\n    value: function insertRule() {\n      return false;\n    }\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule() {\n      return true;\n    }\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule() {\n      return false;\n    }\n  }, {\n    key: 'getRules',\n    value: function getRules() {}\n  }, {\n    key: 'indexOf',\n    value: function indexOf() {\n      return -1;\n    }\n  }]);\n\n  return VirtualRenderer;\n}();\n\nexports['default'] = VirtualRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nvar _StyleSheet = require('./StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _PluginsRegistry = require('./PluginsRegistry');\n\nvar _PluginsRegistry2 = _interopRequireDefault(_PluginsRegistry);\n\nvar _rules = require('./plugins/rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _observables = require('./plugins/observables');\n\nvar _observables2 = _interopRequireDefault(_observables);\n\nvar _functions = require('./plugins/functions');\n\nvar _functions2 = _interopRequireDefault(_functions);\n\nvar _sheets = require('./sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nvar _createGenerateClassName2 = _interopRequireDefault(_createGenerateClassName);\n\nvar _createRule2 = require('./utils/createRule');\n\nvar _createRule3 = _interopRequireDefault(_createRule2);\n\nvar _DomRenderer = require('./renderers/DomRenderer');\n\nvar _DomRenderer2 = _interopRequireDefault(_DomRenderer);\n\nvar _VirtualRenderer = require('./renderers/VirtualRenderer');\n\nvar _VirtualRenderer2 = _interopRequireDefault(_VirtualRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultPlugins = _rules2['default'].concat([_observables2['default'], _functions2['default']]);\n\nvar instanceCounter = 0;\n\nvar Jss = function () {\n  function Jss(options) {\n    _classCallCheck(this, Jss);\n\n    this.id = instanceCounter++;\n    this.version = \"9.4.0\";\n    this.plugins = new _PluginsRegistry2['default']();\n    this.options = {\n      createGenerateClassName: _createGenerateClassName2['default'],\n      Renderer: _isInBrowser2['default'] ? _DomRenderer2['default'] : _VirtualRenderer2['default'],\n      plugins: []\n    };\n    this.generateClassName = (0, _createGenerateClassName2['default'])();\n\n    // eslint-disable-next-line prefer-spread\n    this.use.apply(this, defaultPlugins);\n    this.setup(options);\n  }\n\n  _createClass(Jss, [{\n    key: 'setup',\n    value: function setup() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (options.createGenerateClassName) {\n        this.options.createGenerateClassName = options.createGenerateClassName;\n        // $FlowFixMe\n        this.generateClassName = options.createGenerateClassName();\n      }\n\n      if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n      if (options.virtual || options.Renderer) {\n        this.options.Renderer = options.Renderer || (options.virtual ? _VirtualRenderer2['default'] : _DomRenderer2['default']);\n      }\n\n      // eslint-disable-next-line prefer-spread\n      if (options.plugins) this.use.apply(this, options.plugins);\n\n      return this;\n    }\n\n    /**\n     * Create a Style Sheet.\n     */\n\n  }, {\n    key: 'createStyleSheet',\n    value: function createStyleSheet(styles) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var index = options.index;\n      if (typeof index !== 'number') {\n        index = _sheets2['default'].index === 0 ? 0 : _sheets2['default'].index + 1;\n      }\n      var sheet = new _StyleSheet2['default'](styles, _extends({}, options, {\n        jss: this,\n        generateClassName: options.generateClassName || this.generateClassName,\n        insertionPoint: this.options.insertionPoint,\n        Renderer: this.options.Renderer,\n        index: index\n      }));\n      this.plugins.onProcessSheet(sheet);\n\n      return sheet;\n    }\n\n    /**\n     * Detach the Style Sheet and remove it from the registry.\n     */\n\n  }, {\n    key: 'removeStyleSheet',\n    value: function removeStyleSheet(sheet) {\n      sheet.detach();\n      _sheets2['default'].remove(sheet);\n      return this;\n    }\n\n    /**\n     * Create a rule without a Style Sheet.\n     */\n\n  }, {\n    key: 'createRule',\n    value: function createRule(name) {\n      var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      // Enable rule without name for inline styles.\n      if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n        options = style;\n        style = name;\n        name = undefined;\n      }\n\n      // Cast from RuleFactoryOptions to RuleOptions\n      // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n      var ruleOptions = options;\n\n      ruleOptions.jss = this;\n      ruleOptions.Renderer = this.options.Renderer;\n      if (!ruleOptions.generateClassName) ruleOptions.generateClassName = this.generateClassName;\n      if (!ruleOptions.classes) ruleOptions.classes = {};\n      var rule = (0, _createRule3['default'])(name, style, ruleOptions);\n\n      if (!ruleOptions.selector && rule instanceof _StyleRule2['default']) {\n        rule.selector = '.' + ruleOptions.generateClassName(rule);\n      }\n\n      this.plugins.onProcessRule(rule);\n\n      return rule;\n    }\n\n    /**\n     * Register plugin. Passed function will be invoked with a rule instance.\n     */\n\n  }, {\n    key: 'use',\n    value: function use() {\n      var _this = this;\n\n      for (var _len = arguments.length, plugins = Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      }\n\n      plugins.forEach(function (plugin) {\n        // Avoids applying same plugin twice, at least based on ref.\n        if (_this.options.plugins.indexOf(plugin) === -1) {\n          _this.options.plugins.push(plugin);\n          _this.plugins.use(plugin);\n        }\n      });\n\n      return this;\n    }\n  }]);\n\n  return Jss;\n}();\n\nexports['default'] = Jss;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.createGenerateClassName = exports.sheets = exports.RuleList = exports.SheetsManager = exports.SheetsRegistry = exports.getDynamicStyles = undefined;\n\nvar _getDynamicStyles = require('./utils/getDynamicStyles');\n\nObject.defineProperty(exports, 'getDynamicStyles', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getDynamicStyles)['default'];\n  }\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nObject.defineProperty(exports, 'SheetsRegistry', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsRegistry)['default'];\n  }\n});\n\nvar _SheetsManager = require('./SheetsManager');\n\nObject.defineProperty(exports, 'SheetsManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsManager)['default'];\n  }\n});\n\nvar _RuleList = require('./RuleList');\n\nObject.defineProperty(exports, 'RuleList', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_RuleList)['default'];\n  }\n});\n\nvar _sheets = require('./sheets');\n\nObject.defineProperty(exports, 'sheets', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sheets)['default'];\n  }\n});\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nObject.defineProperty(exports, 'createGenerateClassName', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_createGenerateClassName)['default'];\n  }\n});\n\nvar _Jss = require('./Jss');\n\nvar _Jss2 = _interopRequireDefault(_Jss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Creates a new instance of Jss.\n */\nvar create = exports.create = function create(options) {\n  return new _Jss2['default'](options);\n};\n\n/**\n * A global Jss instance.\n */\nexports['default'] = create();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = camelCase;\nvar regExp = /([A-Z])/g;\n\n/**\n * Replace a string passed from String#replace.\n * @param {String} str\n * @return {String}\n */\nfunction replace(str) {\n  return \"-\" + str.toLowerCase();\n}\n\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    converted[prop.replace(regExp, replace)] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  return { onProcessStyle: onProcessStyle };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports['default'] = jssGlobal;\n\nvar _jss = require('jss');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar propKey = '@global';\nvar prefixKey = '@global ';\n\nvar GlobalContainerRule = function () {\n  function GlobalContainerRule(key, styles, options) {\n    _classCallCheck(this, GlobalContainerRule);\n\n    this.type = 'global';\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _jss.RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector], { selector: selector });\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(GlobalContainerRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.rules.toString();\n    }\n  }]);\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule = function () {\n  function GlobalPrefixedRule(name, style, options) {\n    _classCallCheck(this, GlobalPrefixedRule);\n\n    this.name = name;\n    this.options = options;\n    var selector = name.substr(prefixKey.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this,\n      selector: selector\n    }));\n  }\n\n  _createClass(GlobalPrefixedRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return this.rule.toString(options);\n    }\n  }]);\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + ' ' + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  var rules = style[propKey];\n\n  if (!rules) return;\n\n  for (var name in rules) {\n    options.sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[propKey];\n}\n\nfunction handlePrefixedGlobalRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop.substr(0, propKey.length) !== propKey) continue;\n\n    var selector = addScope(prop.substr(propKey.length), rule.selector);\n    options.sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (name === propKey) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, prefixKey.length) === prefixKey) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent.type === 'global') {\n        options.global = true;\n      }\n    }\n\n    if (options.global) options.selector = name;\n\n    return null;\n  }\n\n  function onProcessRule(rule) {\n    if (rule.type !== 'style') return;\n\n    handleNestedGlobalContainerRule(rule);\n    handlePrefixedGlobalRule(rule);\n  }\n\n  return { onCreateRule: onCreateRule, onProcessRule: onProcessRule };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = jssNested;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container) {\n    return function (match, key) {\n      var rule = container.getRule(key);\n      if (rule) return rule.selector;\n      (0, _warning2.default)(false, '[JSS] Could not find the referenced rule %s in %s.', key, container.options.meta || container);\n      return key;\n    };\n  }\n\n  var hasAnd = function hasAnd(str) {\n    return str.indexOf('&') !== -1;\n  };\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', ';\n        // Replace all & by the parent or prefix & with the parent.\n        result += hasAnd(nested) ? nested.replace(parentRegExp, parent) : parent + ' ' + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, options) {\n    // Options has been already created, now we only increase index.\n    if (options) return _extends({}, options, { index: options.index + 1 });\n\n    var nestingLevel = rule.options.nestingLevel;\n\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    return _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1\n    });\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    var container = rule.options.parent;\n    var options = void 0;\n    var replaceRef = void 0;\n    for (var prop in style) {\n      var isNested = hasAnd(prop);\n      var isNestedConditional = prop[0] === '@';\n\n      if (!isNested && !isNestedConditional) continue;\n\n      options = getOptions(rule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, rule.selector\n        // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n        );if (!replaceRef) replaceRef = getReplaceRef(container\n        // Replace all $refs.\n        );selector = selector.replace(refRegExp, replaceRef);\n\n        container.addRule(selector, style[prop], _extends({}, options, { selector: selector }));\n      } else if (isNestedConditional) {\n        container\n        // Place conditional right after the parent rule to ensure right ordering.\n        .addRule(prop, null, options).addRule(rule.key, style[prop], { selector: rule.selector });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return { onProcessStyle: onProcessStyle };\n}","// @flow\n\nexport default class AbstractLocationStore {\n    location(key: string, value?: string): string {\n        throw new Error('implement')\n    }\n}\n","// @flow\nimport {mem} from 'lom_atom'\nimport AbstractLocationStore from './AbstractLocationStore'\n\nexport default class BrowserLocationStore extends AbstractLocationStore {\n    _location: Location\n    _history: History\n    _ns: string\n\n    constructor(location: Location, history: History, ns?: string = 'rdi_app') {\n        super()\n        this._ns = ns\n        this._location = location\n        this._history = history\n    }\n\n    _params(): URLSearchParams {\n        return new URLSearchParams(this._location.search)\n    }\n\n    @mem.key.manual location(key: string, value?: string): string {\n        const params = this._params()\n        if (value === undefined) return params.get(key)\n\n        params.set(key, value)\n        this._history.pushState(null, this._ns, `?${params.toString()}`)\n\n        return value\n    }\n}\n","// @flow\n\nclass TimeoutError extends Error {\n    statusCode: number\n    constructor(timeout: number) {\n        super('Request timeout client emulation: ' + (timeout / 1000) + 's')\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        this.statusCode = 408\n    }\n}\n\nexport default function timeoutPromise<D>(promise: Promise<D>, timeout?: ?number): Promise<D> {\n    if (!timeout) return promise\n    const tm = timeout\n\n    return Promise.race([\n        promise,\n        new Promise((resolve: (data: D) => void, reject: (err: any) => void) => {\n            setTimeout(() => reject(new TimeoutError(tm)), tm)\n        })\n    ])\n}\n","// @flow\n\nimport type {IRequestOptions} from './interfaces'\n\nfunction safeToJson(v: string): Object {\n    let data: Object\n    try {\n        data = JSON.parse(v)\n    } catch (e) {\n        data = {valueOf: () => v }\n    }\n    return data\n}\n\nexport default class HttpError extends Error {\n    status: ?number\n    message: string\n    stack: string\n    retry: () => void\n    uid: string\n    data: ?Object\n    _opts: IRequestOptions\n\n    constructor(\n        {opts, parent, response, data, uid}: {\n            opts: IRequestOptions,\n            parent: ?Error,\n            response?: Response,\n            data?: Object | string,\n            uid?: string\n        }\n    ) {\n        super((parent\n            ? (parent.message || parent.stack)\n            : (response ? response.statusText : null)\n        ) || 'unknown')\n        if (parent) {\n            this.status = (parent: Object).status || null\n            this.stack = parent.stack\n        } else if (response) {\n            this.status = response.status || null\n        } else {\n            this.status = null\n        }\n        this.uid = uid ? uid :  ('' + Date.now())\n        this.data = data\n            ? typeof data === 'object' ? data : safeToJson(data)\n            : null\n\n        // $FlowFixMe new.target\n        ;(this: Object)['__proto__'] = new.target.prototype\n        this._opts = opts\n        this.retry = opts.retry\n    }\n\n    toJSON() {\n        const opts = this._opts\n        return {\n            uid: this.uid,\n            message: this.message,\n            stack: this.stack,\n            status: this.status,\n            request: {\n                requestId: opts.requestId,\n                url: opts.fullUrl,\n                method: opts.method || 'GET',\n                body: opts.body ? String(opts.body) : null,\n            },\n            data: this.data\n        }\n    }\n}\n","// @flow\nimport type {IRequestOptions, IFetcher, FetcherApi} from './interfaces'\n\nexport default class FetcherResponse implements FetcherApi {\n    _fetcher: IFetcher\n    _options: IRequestOptions\n    static WaitError: Class<Error> = Error\n    constructor(method: string, url: string, fullUrl: string, fetcher: IFetcher) {\n        this._options = {\n            method,\n            url,\n            fullUrl,\n            requestId: '' + Date.now(),\n            retry: this._getRetry()\n        }\n        this._fetcher = fetcher\n    }\n\n    _getRetry(): () => void {\n        throw new Error('implement')\n    }\n\n    _getState<V>(): V | void {\n        const {_fetcher: {state}, _options: {url}} = this\n        if (state !== undefined) {\n            const apiData: V | void = (state[url]: any)\n            state[url] = undefined\n            return apiData\n        }\n    }\n\n    options(opts: $Shape<IRequestOptions>): this {\n        Object.assign((this._options: Object), opts)\n        return this\n    }\n\n    _disposed = false\n\n    text<V: string | Error | FormData>(next?: V): V {\n        if (next instanceof Error) throw new Error('Need a string')\n        const {_fetcher: fetcher} = this\n        const opts: IRequestOptions = fetcher.mergeOptions(\n            ({\n                ...this._options,\n                body: next === undefined ? undefined : next\n            }: $Shape<IRequestOptions>)\n        )\n\n        const state = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'string') throw new Error(`fetch.text ${this._options.url}, string expected`)\n            return state\n        }\n\n        this._disposed = false\n        fetcher.request(opts)\n            .then((data: any) => {\n                if (!this._disposed) this._setData(data)\n            })\n\n        throw new this.constructor.WaitError(`${opts.method || 'GET'} ${opts.fullUrl}`)\n    }\n\n    _setData(data: string) {\n        throw new Error('implement')\n    }\n\n    destructor() {\n        this._disposed = true\n    }\n\n    json<V>(next?: V): V {\n        const state: V | void = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'object') throw new Error(`${this._options.url} state need an object`)\n            return state\n        }\n\n        const text = this.text(next === undefined ? undefined : JSON.stringify(next, null, '\\t'))\n\n        return JSON.parse(text)\n    }\n}\n","// @flow\nimport type {IState, IFetcher, IStateCollector, FetcherApi, IRequestOptions} from './interfaces'\nimport timeoutPromise from './timeoutPromise'\nimport HttpError from './HttpError'\nimport FetcherResponse from './FetcherResponse'\n\nexport default class Fetcher implements IFetcher {\n    state: IState | void\n    _collector: IStateCollector | void\n\n    _init: $Shape<IRequestOptions> | void\n    _baseUrl: [RegExp, string][]\n    _timeout: number\n\n    static HttpError: Class<HttpError> = HttpError\n\n    constructor(opts?: {\n        timeout?: ?number;\n        baseUrl?: string | [string, string][];\n        state?: IState;\n        init?: $Shape<IRequestOptions>;\n        collector?: IStateCollector;\n    } = {}) {\n        const baseUrl = opts.baseUrl\n        this._baseUrl = baseUrl instanceof Array\n            ? baseUrl.map((rec) => ([new RegExp(rec[0]), rec[1]]))\n            : [[new RegExp('.*'), baseUrl || '']]\n\n        this.state = opts.state\n        this._init = opts.init\n        this._timeout = opts.timeout || 120000\n        this._collector = opts.collector\n    }\n\n    normalizeResponse(response: Response, opts: IRequestOptions): Promise<string | HttpError> {\n        if (response.status >= 400) {\n            return response.text()\n                .then((data: string) => new this.constructor.HttpError({opts, parent: null, response, data}))\n        }\n\n        return response.status === 204\n            ? Promise.resolve('')\n            : response.text()\n    }\n\n    fetch(url: string, opts: RequestOptions): Promise<Response> {\n        return fetch(url, opts)\n    }\n\n    request(opts: IRequestOptions): Promise<*> {\n        const collector = this._collector\n        if (collector) collector.beginFetch(opts)\n        const {HttpError} = this.constructor\n        return timeoutPromise(this.fetch(opts.fullUrl, opts), this._timeout)\n            .then((response: Response) => this.normalizeResponse(response, opts)\n                .catch((err: Error) => new HttpError({opts, parent: err, response}))\n            )\n            .catch((err: Error) => new HttpError({opts, parent: err}))\n            .then((result) => {\n                if (collector) collector.endFetch(result, opts)\n                return result\n            })\n    }\n\n    getFullUrl(url: string): string {\n        const bu = this._baseUrl\n        let baseUrl = ''\n        for (let i = 0; i < bu.length; i++) {\n            const [mask, base] = bu[i]\n            if (mask.test(url)) {\n                baseUrl = base\n                break\n            }\n        }\n\n        return baseUrl + url\n    }\n\n    mergeOptions(init: IRequestOptions): IRequestOptions {\n        return {...this._init, ...(init: Object)}\n    }\n\n    _request([method, url]: [string, string]): FetcherApi {\n        throw new Error('implement')\n    }\n\n    post<V>(url: string): FetcherApi {\n        return this._request(['POST', url])\n    }\n\n    get(url: string): FetcherApi {\n        return this._request(['GET', url])\n    }\n\n    put(url: string): FetcherApi {\n        return this._request(['PUT', url])\n    }\n\n    delete(url: string): FetcherApi {\n        return this._request(['DELETE', url])\n    }\n\n    patch(url: string): FetcherApi {\n        return this._request(['PATCH', url])\n    }\n}\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\n\nimport FetcherResponse from '../FetcherResponse'\n\nexport default class FetcherResponseLom extends FetcherResponse {\n    static WaitError: Class<Error> = AtomWait\n    @mem text<V: string | Error | FormData>(next?: V): V {\n        return super.text(next)\n    }\n\n    _getRetry() {\n        return mem.getRetry(this.text())\n    }\n\n    _setData(data: string) {\n        mem.cache(this.text(data))\n    }\n}\n","// @flow\nimport {mem} from 'lom_atom'\n\nimport Fetcher from '../Fetcher'\nimport FetcherResponseLom from './FetcherResponseLom'\nimport type {FetcherApi} from '../interfaces'\n\nexport default class FetcherLom extends Fetcher {\n    @mem.key _request([method, url]: [string, string]): FetcherApi {\n        return new FetcherResponseLom(method, url, this.getFullUrl(url), this)\n    }\n}\n","// @flow\n\nimport {theme} from 'reactive-di'\n\nclass SpinnerTheme {\n    @theme get css() {\n        const spinner = {\n            position: 'relative',\n            zIndex: '1000',\n            backgroundSize: '28px 28px',\n            minWidth: '28px',\n            minHeight: '28px'\n        }\n\n        return {\n            '@keyframes rdi_spinner_wait_move': {\n                from: {\n                    backgroundPosition: '0 0'\n                },\n                to: {\n                    backgroundPosition: '-28px 0'\n                }\n            },\n            spinner: {\n                ...spinner,\n                '& *': {\n                    opacity: '0.8'\n                },\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(0,0,0, 0.05), rgba(0,0,0,0.05) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n                animation: 'rdi_spinner_wait_move .25s steps(6) infinite'\n            },\n            spinnerError: {\n                ...spinner,\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(255,0,0, 0.1), rgba(255,0,0,0.1) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n            }\n        }\n    }\n}\n\nexport default function SpinnerView(\n    {children, isError}: {children: any, isError?: boolean},\n    {theme: {css}}: {theme: SpinnerTheme}\n) {\n    return <div class={isError ? css.spinnerError : css.spinner}>{children}</div>\n}\n","// @flow\nimport {AtomWait} from 'lom_atom'\nimport {HttpError} from '../fetcher'\nimport SpinnerView from '../rdi/SpinnerView'\n\nconst stackId = Symbol('stack_id')\nexport default function ErrorableView({\n    error,\n    children\n}: {\n    children: any,\n    error: Error\n}) {\n    const errorWasShowed = (error: Object)[stackId]\n    ;(error: Object)[stackId] = true\n    const isWait = error instanceof AtomWait\n    return <SpinnerView id=\"errorable\" isError={!isWait}>\n        {isWait || errorWasShowed\n            ? <div id=\"content\" style={{pointerEvents: 'none'}}>{children}</div>\n            : <div id=\"error\" style={{padding: '0.1em 1em'}}>\n                <h3 id=\"error-title\">{error.message}</h3>\n                {error instanceof HttpError\n                    ? <div id=\"recover\" style={{paddingBottom: '1em'}}>\n                        <button id=\"recover-button\" onClick={error.retry}>Retry</button>\n                    </div>\n                    : null\n                }\n            </div>\n        }\n    </SpinnerView>\n}\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\nimport {cloneComponent} from 'reactive-di'\n\nclass FirstCounterService {\n    lang = {\n        add: 'Add',\n        error: 'Gen error'\n    }\n    @mem get value(): number {\n        setTimeout(() => {\n            mem.cache(this.value = 1)\n            // this.value = new Error('loading error')\n        }, 500)\n\n        throw new AtomWait()\n    }\n\n    @mem set value(v: number | Error) {\n        if (typeof v === 'string') {\n            throw new TypeError('Test error')\n        }\n    }\n}\n\nfunction CounterMessageView(\n    {value}: {\n        value: number\n}) {\n    return <div>\n        Count: {value}\n    </div>\n}\n\nfunction FirstCounterView(\n    _: {},\n    counter: FirstCounterService\n) {\n    return <div>\n        <CounterMessageView id=\"message\" value={counter.value}/>\n        <button id=\"add\" onClick={() => { counter.value++ }}>{counter.lang.add}</button>\n        <button id=\"error\" onClick={() => { counter.value = ('someStr': any) }}>{counter.lang.error}</button>\n    </div>\n}\n\nclass SecondCounterService extends FirstCounterService {\n    lang = {\n        add: 'cloned Add',\n        error: 'cloned Gen error'\n    }\n}\n\nfunction SecondCounterMessageView({value}: {value: number}) {\n    return <div>\n        SecondCounter Count: {value}\n    </div>\n}\n\nfunction SecondCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button id={id} onClick={onClick}>SecondCounterAddButton: {children}</button>\n}\n\nconst SecondCounterView = cloneComponent(FirstCounterView, [\n    [FirstCounterService, SecondCounterService],\n    [CounterMessageView, SecondCounterMessageView],\n    ['add', SecondCounterAddButtonView],\n    ['error', null]\n], 'SecondCounterView')\n\nfunction ThirdCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button id={id} onClick={onClick}>ThirdCounterAddButton: {children}</button>\n}\n\nconst ThirdCounterView = cloneComponent(SecondCounterView, [\n    ['add', ThirdCounterAddButtonView]\n], 'ThirdCounterView')\n\nexport function CounterView() {\n    return <ul>\n        <li id=\"list(first)\">FirstCounter: <FirstCounterView id=\"first\"/></li>\n        <li id=\"list(second)\">SecondCounter extends FirstCounter: <SecondCounterView id=\"second\"/></li>\n        <li id=\"list(third)\">ThirdCounter extends SecondCounter: <ThirdCounterView id=\"third\"/></li>\n    </ul>\n}\n","// @flow\n\nimport {mem, action} from 'lom_atom'\nimport {props} from 'reactive-di'\n\ninterface IHelloProps {\n    initialValue: string;\n}\n\nclass HelloContext {\n    @mem name: string\n    @props set props({initialValue}: IHelloProps) {\n        this.name = initialValue\n    }\n    @mem get greet() {\n        return 'Hello, ' + this.name\n    }\n}\n\nexport function HelloView(\n    _: IHelloProps,\n    {context}: {context: HelloContext}\n) {\n    return <div>\n        {context.greet}\n        <br id=\"br\"/><input id=\"input\" value={context.name} onInput={({target}) => {\n            context.name = (target: any).value\n        }} />\n    </div>\n}\n","// @flow\nimport {action, mem, AtomWait} from 'lom_atom'\nimport uuid from '../../../rdi/uuid'\n\nexport interface ITodoData {\n    id: string;\n    completed: boolean;\n    title: string;\n}\n\nexport interface ITodoRepository {\n    update(todo: Todo): void;\n    remove(todo: Todo): void;\n}\n\nexport default class Todo implements ITodoData {\n    completed: boolean\n    title: string\n    id: string\n\n    _store: ITodoRepository\n\n    constructor(todo?: $Shape<ITodoData> = {}, store: ITodoRepository) {\n        this.title = todo.title || ''\n        this.id = todo.id || uuid()\n        this.completed = todo.completed || false\n        this._store = store\n    }\n\n    copy(data?: ?$Shape<ITodoData>): Todo {\n        return data\n            ? new Todo({...this.toJSON(), ...data}, this._store)\n            : this\n    }\n\n    @action update(data?: $Shape<ITodoData>) {\n        this.saving = this.copy(data)\n    }\n\n    @mem get saving(): ?Todo {\n        return null\n    }\n\n    @mem set saving(next: Todo) {\n        this._store.update(next)\n        mem.cache(this.saving)\n    }\n\n    @mem get removing(): boolean {\n        return false\n    }\n\n    @mem set removing(next: boolean) {\n        this._store.remove(this)\n        mem.cache(this.removing)\n    }\n\n    @action remove() {\n        this.removing = true\n    }\n\n    @action toggle() {\n        this.update({completed: !this.completed})\n    }\n\n    toJSON(): ITodoData {\n        return {\n            completed: this.completed,\n            title: this.title,\n            id: this.id\n        }\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\n\nimport {Fetcher} from '../../../fetcher'\nimport AbstractLocationStore from '../../../rdi/AbstractLocationStore'\nimport Todo from './Todo'\nimport type {ITodoRepository, ITodoData} from './Todo'\n\ntype ITogglePatch = [string, $Shape<ITodoData>]\n\nexport const TODO_FILTER = {\n    ALL: 'all',\n    COMPLETE: 'complete',\n    ACTIVE: 'active'\n}\n\nexport type IFilter = $Values<typeof TODO_FILTER>\n\nexport default class TodoRepository implements ITodoRepository {\n    _fetcher: Fetcher\n    _location: AbstractLocationStore\n\n    constructor(fetcher: Fetcher, location: AbstractLocationStore) {\n        this._fetcher = fetcher\n        this._location = location\n    }\n\n    @mem get todos(): Todo[] {\n        return this._fetcher.get('/todos').json()\n            .map((data: ITodoData) => new Todo(data, this))\n    }\n    set todos(todos: Todo[]) {}\n\n    @mem get activeTodoCount(): number {\n        return this.todos.reduce(\n            (sum: number, todo: Todo) => sum + (todo.completed ? 0 : 1),\n            0\n        )\n    }\n\n    get completedCount(): number {\n        return this.todos.length - this.activeTodoCount\n    }\n\n    remove(todo: Todo) {\n        this._fetcher.delete(`/todo/${todo.id}`).json()\n        this.todos = this.todos.filter(t => t.id !== todo.id)\n    }\n\n    update(next: Todo) {\n        this._fetcher.post(`/todo/${next.id}`).json(next)\n        this.todos = this.todos.map(t => t.id === next.id ? next : t)\n    }\n\n    @mem get adding(): ?Todo {\n        return null\n    }\n\n    @mem set adding(next: Todo) {\n        this._fetcher.put('/todo').json(next)\n        this.todos = [...this.todos, next]\n        mem.cache(this.adding)\n    }\n\n    @action addTodo(title: string) {\n        this.adding = new Todo({title}, this)\n    }\n\n    @mem get patching(): ?ITogglePatch[] {\n        return null\n    }\n\n    @mem set patching(patches: ?ITogglePatch[]) {\n        this._fetcher.put(`/todos`).json(patches)\n        const patchMap = new Map(patches)\n        this.todos = this.todos.map(todo => todo.copy(patchMap.get(todo.id)))\n        mem.cache(this.patching)\n    }\n\n    @action toggleAll() {\n        const todos = this.todos\n        const completed = !!todos.find(todo => !todo.completed)\n        this.patching = todos.map(todo => ([todo.id, {completed}]))\n    }\n\n    @mem get clearing(): ?string[] {\n        return null\n    }\n\n    @mem set clearing(delIds: string[]) {\n        this._fetcher.delete(`/todos`).json(delIds)\n        const delSet = new Set(delIds)\n        this.todos = this.todos.filter(todo => !delSet.has(todo.id))\n        mem.cache(this.clearing)\n    }\n\n    @action clearCompleted() {\n        this.clearing = this.todos.filter(todo => todo.completed).map(todo => todo.id)\n    }\n\n    get filter(): IFilter {\n        return this._location.location('todo_filter') || TODO_FILTER.ALL\n    }\n\n    set filter(filter: IFilter) {\n        return this._location.location('todo_filter', filter)\n    }\n\n    @mem get filteredTodos(): Todo[] {\n        const todos = this.todos\n        switch (this.filter) {\n            case TODO_FILTER.ALL:\n                return todos\n            case TODO_FILTER.COMPLETE:\n                return todos.filter(todo => !!todo.completed)\n            case TODO_FILTER.ACTIVE:\n                return todos.filter(todo => !todo.completed)\n            default:\n                throw new Error(`Unknown filter value: ${this.filter}`)\n        }\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\n\nimport TodoRepository from './models/TodoRepository'\n\nclass TodoToAdd {\n    @mem title: string = ''\n    _todoRepository: TodoRepository\n\n    constructor(todoRepository: TodoRepository) {\n        this._todoRepository = todoRepository\n    }\n\n    get adding(): boolean {\n        return !!this._todoRepository.adding\n    }\n\n    @action.defer setRef(ref: ?HTMLInputElement) {\n        if (!ref) return\n        ref.focus()\n    }\n\n    @action onInput({target}: Event) {\n        this.title = (target: any).value\n    }\n\n    @action onKeyDown(e: Event) {\n        if (e.keyCode === 13 && this.title) {\n            this._todoRepository.addTodo(this.title)\n            this.title = ''\n        }\n    }\n}\n\nclass TodoHeaderTheme {\n    @theme get css() {\n        return {\n            newTodo: {\n                position: 'relative',\n                margin: '0',\n                width: '100%',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                border: '0',\n                color: 'inherit',\n                padding: '16px 16px 16px 60px',\n                border: 'none',\n                background: 'rgba(0, 0, 0, 0.003)',\n                boxShadow: 'inset 0 -2px 1px rgba(0,0,0,0.03)',\n                boxSizing: 'border-box',\n                '-webkit-font-smoothing': 'antialiased',\n                '-moz-osx-font-smoothing': 'grayscale'\n            }\n        }\n    }\n}\n\nexport default function TodoHeaderView(\n    _: {},\n    {todoToAdd, theme: {css}}: {\n        theme: TodoHeaderTheme;\n        todoToAdd: TodoToAdd;\n    }\n) {\n    return <header>\n        <input\n            id=\"input\"\n            class={css.newTodo}\n            placeholder=\"What needs to be done?\"\n            disabled={todoToAdd.adding}\n            onInput={todoToAdd.onInput}\n            ref={todoToAdd.setRef}\n            value={todoToAdd.title}\n            onKeyDown={todoToAdd.onKeyDown}\n        />\n    </header>\n}\n","// @flow\n\nimport {props, theme} from 'reactive-di'\nimport {action, mem, AtomWait} from 'lom_atom'\nimport Todo from './models/Todo'\n\nconst ESCAPE_KEY = 27\nconst ENTER_KEY = 13\n\ninterface ITodoProps {\n    +todo: Todo;\n}\n\nclass TodoItemEdit {\n    @mem todoBeingEditedId: ?string = null\n    @mem editText = ''\n\n    @props props: ITodoProps\n\n    @action beginEdit() {\n        const {todo} = this.props\n        this.todoBeingEditedId = todo.id\n        this.editText = todo.title\n    }\n\n    @action setText({target}: KeyboardEvent) {\n        this.editText = (target: any).value.trim()\n    }\n\n    @action.defer setEditInputRef(el: ?HTMLInputElement) {\n        if (!el) return\n        el.focus()\n    }\n\n    @action submit(event: Event) {\n        if (!this.todoBeingEditedId) return\n        const title = this.editText.trim()\n        const {todo} = this.props\n        if (title) {\n            if (todo.title !== title) {\n                todo.update({title})\n                this.editText = ''\n            }\n        } else {\n            this.remove()\n        }\n        this.todoBeingEditedId = null\n    }\n\n    @action keyDown(event: KeyboardEvent) {\n        switch (event.which) {\n            case ESCAPE_KEY:\n                this.editText = this.props.todo.title\n                this.todoBeingEditedId = null\n                break\n\n            case ENTER_KEY:\n                this.submit(event)\n                break\n\n            default: break\n        }\n    }\n\n    @action toggle() {\n        this.props.todo.toggle()\n        this.todoBeingEditedId = null\n    }\n\n    @action remove() {\n        this.props.todo.remove()\n        this.todoBeingEditedId = null\n    }\n}\n\nclass TodoItemTheme {\n    @theme get css() {\n        const itemBase = {\n            position: 'relative',\n            fontSize: '24px',\n            borderBottom: '1px solid #ededed',\n            '&:last-child': {\n                borderBottom: 'none'\n            },\n            '&:hover $destroy': {\n                display: 'block'\n            }\n        }\n\n        const viewLabelBase = {\n            wordBreak: 'break-all',\n            padding: '15px 15px 15px 60px',\n            display: 'block',\n            lineHeight: '1.2',\n            transition: 'color 0.4s'\n        }\n\n        return {\n            regular: {\n                ...itemBase\n            },\n            completed: {\n                ...itemBase\n            },\n\n            editing: {\n                borderBottom: 'none',\n                padding: 0,\n                '&:last-child': {\n                    marginBottom: '-1px'\n                }\n            },\n\n            edit: {\n                backgroundColor: '#F2FFAB',\n                display: 'block',\n                zIndex: '0',\n                border: 0,\n                position: 'relative',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                width: '406px',\n                padding: '12px 16px',\n                margin: '0 0 0 43px'\n            },\n\n            toggle: {\n                textAlign: 'center',\n                width: '40px',\n                /* auto, since non-WebKit browsers doesn't support input styling */\n                height: 'auto',\n                position: 'absolute',\n                top: 0,\n                bottom: 0,\n                margin: 'auto 0',\n                border: 'none', /* Mobile Safari */\n                '-webkit-appearance': 'none',\n                appearance: 'none',\n                opacity: 0,\n                '& + label': {\n                    /*\n                        Firefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n                        IE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n                    */\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E')`,\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center left'\n                },\n\n                '&:checked + label': {\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E')`\n                }\n            },\n\n            viewLabelRegular: {\n                ...viewLabelBase\n            },\n\n            viewLabelCompleted: {\n                ...viewLabelBase,\n                color: '#d9d9d9',\n                textDecoration: 'line-through'\n            },\n\n            destroy: {\n                padding: 0,\n                border: 0,\n                background: 'none',\n                verticalAlign: 'baseline',\n                display: 'none',\n                position: 'absolute',\n                right: '10px',\n                top: 0,\n                bottom: 0,\n                width: '40px',\n                height: '40px',\n                fontSize: '30px',\n                margin: 'auto 0',\n                color: '#cc9a9a',\n                marginBottom: '11px',\n                transition: 'color 0.2s ease-out',\n                '&:hover': {\n                    color: '#af5b5e'\n                },\n\n                '&:after': {\n                    content: '\\'\\''\n                }\n            }\n        }\n    }\n\n    label(isCompleted: boolean) {\n        const css = this.css\n        return isCompleted ? css.viewLabelCompleted : css.viewLabelRegular\n    }\n\n    editable(isCompleted: boolean) {\n        return isCompleted ? this.css.completed : this.css.regular\n    }\n}\n\nexport default function TodoItemView(\n    {todo}: ITodoProps,\n    {todoItemEdit, theme}: {\n        theme: TodoItemTheme;\n        todoItemEdit: TodoItemEdit;\n    }\n) {\n    const css = theme.css\n    if (todoItemEdit.todoBeingEditedId === todo.id) {\n        return <li class={css.editing}>\n            <input\n                id=\"editing\"\n                ref={todoItemEdit.setEditInputRef}\n                class={css.edit}\n                disabled={todo.saving}\n                value={todoItemEdit.editText}\n                onBlur={todoItemEdit.submit}\n                onInput={todoItemEdit.setText}\n                onKeyDown={todoItemEdit.keyDown}\n            />\n        </li>\n    }\n\n    return <li class={theme.editable(todo.completed)}>\n        <input\n            id=\"toggle\"\n            class={css.toggle}\n            type=\"checkbox\"\n            disabled={todo.saving}\n            checked={todo.completed}\n            onChange={todoItemEdit.toggle}\n        />\n        <label\n            id=\"beginEdit\"\n            class={theme.label(todo.completed)}\n            disabled={todo.saving}\n            onDblClick={todoItemEdit.beginEdit}\n        >\n            {todo.title}\n        </label>\n        <button\n            id=\"destroy\"\n            class={css.destroy}\n            disabled={todo.removing}\n            onClick={todoItemEdit.remove}\n        />\n    </li>\n}\n","// @flow\nimport {theme} from 'reactive-di'\nimport Todo from './models/Todo'\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoItemView from './TodoItemView'\n\nclass TodoMainTheme {\n    @theme get css() {\n        const toggleAll = {\n            outline: 'none',\n            position: 'absolute',\n            top: '-55px',\n            left: '-12px',\n            width: '60px',\n            height: '34px',\n            textAlign: 'center',\n            border: 'none', /* Mobile Safari */\n\n            '&:before': {\n                content: '\\'\\'',\n                fontSize: '22px',\n                color: '#e6e6e6',\n                padding: '10px 27px 10px 27px'\n            },\n            '&:checked:before': {\n                color: '#737373'\n            }\n        }\n\n        return {\n            main: {\n                position: 'relative',\n                zIndex: 2,\n                borderTop: '1px solid #e6e6e6'\n            },\n            toggleAll: {\n                ...toggleAll\n            },\n            todoList: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none'\n            },\n\n            /*\n            Hack to remove background from Mobile Safari.\n            Can't use it globally since it destroys checkboxes in Firefox\n            */\n            '@media screen and (-webkit-min-device-pixel-ratio:0)': {\n                toggleAll: {\n                    ...toggleAll,\n                    transform: 'rotate(90deg)',\n                    appearance: 'none',\n                    '-webkit-appearance': 'none',\n                }\n            }\n        }\n    }\n}\n\nexport default function TodoMainView(\n    _: {},\n    {\n        todoRepository: {toggleAll, activeTodoCount, patching, clearing, filteredTodos},\n        theme: {css}\n    }: {\n        todoRepository: TodoRepository;\n        theme: TodoMainTheme;\n    }\n) {\n    if (!filteredTodos.length) return null\n    return <section class={css.main}>\n        <input\n            id=\"input\"\n            class={css.toggleAll}\n            disabled={patching || clearing}\n            type=\"checkbox\"\n            onChange={toggleAll}\n            checked={activeTodoCount === 0}\n        />\n        <ul class={css.todoList} id=\"items\">\n            {filteredTodos.map(todo => <TodoItemView\n                id={`todo(${todo.id})`}\n                key={todo.id}\n                todo={todo}\n            />)}\n        </ul>\n    </section>\n}\n","// @flow\nimport {action} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport TodoRepository, {TODO_FILTER} from './models/TodoRepository'\n\nclass TodoFooterService {\n    _repository: TodoRepository\n    links = [\n        {\n            id: TODO_FILTER.ALL,\n            title: 'All'\n        },\n        {\n            id: TODO_FILTER.ACTIVE,\n            title: 'Active'\n        },\n        {\n            id: TODO_FILTER.COMPLETE,\n            title: 'Completed'\n        }\n    ]\n\n    constructor(repository: TodoRepository) {\n        this._repository = repository\n    }\n\n    @action clickLink(e: Event) {\n        e.preventDefault()\n        this._repository.filter = (e.target: any).dataset.linkid\n    }\n}\n\nclass TodoFooterTheme {\n    @theme get css() {\n        const linkBase = {\n            color: 'inherit',\n            margin: '3px',\n            padding: '3px 7px',\n            textDecoration: 'none',\n            border: '1px solid transparent',\n            borderRadius: '3px',\n            '& :hover': {\n                borderColor: 'rgba(175, 47, 47, 0.1)'\n            }\n        }\n\n        return {\n            footer: {\n                color: '#777',\n                padding: '10px 15px',\n                height: '20px',\n                textAlign: 'center',\n                borderTop: '1px solid #e6e6e6',\n                '&:before': {\n                    content: '\\'\\'',\n                    position: 'absolute',\n                    right: '0',\n                    bottom: '0',\n                    left: '0',\n                    height: '50px',\n                    overflow: 'hidden',\n                    boxShadow: `0 1px 1px rgba(0, 0, 0, 0.2),\n                        0 8px 0 -3px #f6f6f6,\n                        0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                        0 16px 0 -6px #f6f6f6,\n                        0 17px 2px -6px rgba(0, 0, 0, 0.2)`,\n                }\n            },\n\n            todoCount: {\n                float: 'left',\n                textAlign: 'left'\n            },\n\n            filters: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none',\n                position: 'absolute',\n                right: 0,\n                left: 0\n            },\n\n            filterItem: {\n                display: 'inline'\n            },\n\n            linkRegular: {\n                ...linkBase\n            },\n\n            linkSelected: {\n                ...linkBase,\n                borderColor: 'rgba(175, 47, 47, 0.2)'\n            },\n\n            clearCompleted: {\n                margin: 0,\n                padding: 0,\n                border: 0,\n                background: 'none',\n                fontSize: '100%',\n                verticalAlign: 'baseline',\n                appearance: 'none',\n\n                float: 'right',\n                position: 'relative',\n                lineHeight: '20px',\n                textDecoration: 'none',\n                cursor: 'pointer',\n\n                '&:hover': {\n                    textDecoration: 'underline'\n                }\n            }\n        }\n    }\n\n    link(isSelected: boolean) {\n        return isSelected ? this.css.linkSelected : this.css.linkRegular\n    }\n}\n\nexport default function TodoFooterView(\n    _: {},\n    {\n        todoRepository: {completedCount, activeTodoCount, filter, clearing, clearCompleted},\n        todoFooterService: {links, clickLink},\n        theme\n    }: {\n        todoRepository: TodoRepository;\n        todoFooterService: TodoFooterService;\n        theme: TodoFooterTheme;\n    }\n) {\n    const css = theme.css\n    if (activeTodoCount === 0 && completedCount === 0) {\n        return null\n    }\n\n    return <footer class={css.footer}>\n        <span class={css.todoCount} id=\"count\">\n            <strong id=\"number\">{activeTodoCount}</strong> item(s) left\n        </span>\n        <ul class={css.filters} id=\"filters\">\n            {links.map(link => <li\n                    key={link.id}\n                    class={css.filterItem}\n                    id={`link(${link.id})`}\n                ><a\n                    id={`link(${link.id}).a`}\n                    class={theme.link(filter === link.id)}\n                    href={`?todo_filter=${link.id}`}\n                    data-linkid={link.id}\n                    onClick={clickLink}\n                >{link.title}</a>\n            </li>)}\n        </ul>\n        {completedCount === 0\n            ? null\n            : <button\n                id=\"clear\"\n                class={css.clearCompleted}\n                disabled={clearing}\n                onClick={clearCompleted}>\n                Clear completed\n            </button>\n        }\n    </footer>\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\n\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoHeaderView from './TodoHeaderView'\nimport TodoMainView from './TodoMainView'\nimport TodoFooterView from './TodoFooterView'\n\nclass TodoAppTheme {\n    @theme get css() {\n        return {\n            todoapp: {\n                background: '#fff',\n                position: 'relative',\n                border: '1px solid #ededed',\n                boxShadow: '0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)'\n            }\n        }\n    }\n}\n\nexport default function TodoAppView(\n    _: {},\n    {\n        theme: {css}\n    }: {\n        // One instance per TodoHeaderView, TodoMainView, TodoFooterView\n        // Without it, all views receives separate instance of TodoRepository\n        repository: TodoRepository;\n        theme: TodoAppTheme;\n    }\n) {\n    return <div class={css.todoapp}>\n        <TodoHeaderView id=\"header\" />\n        <TodoMainView id=\"main\" />\n        <TodoFooterView id=\"footer\" />\n    </div>\n}\n","// @flow\n\nimport {mem, AtomWait, action} from 'lom_atom'\nimport {props} from 'reactive-di'\nimport {Fetcher} from '../../fetcher'\n\ninterface IAutocompleteProps {\n    initialValue: string;\n    id: string;\n}\n\nclass DebouncedValue {\n    _handler: ?number = null\n    _timeout: number\n\n    constructor(timeout: number) {\n        this._timeout = timeout\n    }\n\n    @mem value<V>(next?: V): V {\n        clearTimeout(this._handler)\n        this._handler = setTimeout(\n            () => mem.cache(this.value(next)),\n            this._timeout\n        )\n        throw new AtomWait()\n    }\n\n    destructor() {\n        clearTimeout(this._handler)\n    }\n}\n\nclass AutocompleteService {\n    @mem nameToSearch: string = ''\n\n    @props set props({initialValue}: IAutocompleteProps) {\n        this.nameToSearch = initialValue\n    }\n\n    _fetcher: Fetcher\n\n    _debounced = new DebouncedValue(500)\n\n    constructor(fetcher: Fetcher) {\n        this._fetcher = fetcher\n    }\n\n    @mem get searchResults(): string[] {\n        const url = `/autocomplete?q=${this._debounced.value(this.nameToSearch)}`\n        return this._fetcher.get(url).json()\n    }\n\n    @action setValue({target}: Event) {\n        this.nameToSearch = (target: Object).value\n    }\n}\n\nfunction AutocompleteResultsView(\n    _: {},\n    {searchResults}: AutocompleteService\n) {\n    return <ul>\n        {searchResults.map((result: string, i: number) =>\n            <li key={i} id={`list(${i})`}>\n                {result}\n            </li>\n        )}\n    </ul>\n}\n\nexport function AutocompleteView(\n    _: IAutocompleteProps,\n    {nameToSearch, setValue}: AutocompleteService\n) {\n    return <div>\n        <div id=\"filter\">\n            Filter: <input value={nameToSearch} id=\"value\" onInput={setValue}/>\n        </div>\n        Values: <AutocompleteResultsView id=\"results\" />\n    </div>\n}\n","// @flow\n\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\nclass Store {\n    @mem red = 140\n}\n\nclass CssChangeTheme {\n    _store: Store\n\n    constructor(store: Store) {\n        this._store = store\n    }\n\n    @mem @theme.self get css() {\n        const store = this._store\n        return {\n            wrapper: {\n                background: `rgb(${store.red}, 0, 0)`\n            }\n        }\n    }\n}\n\nexport function CssChangeView(\n    _: {},\n    {store, theme: {css}}: { theme: CssChangeTheme, store: Store}\n) {\n    return <div className={css.wrapper}>\n        color via css {store.red}: <input\n            id=\"range\"\n            type=\"range\"\n            min=\"0\"\n            max=\"255\"\n            value={store.red}\n            onInput={({target}) => { store.red = Number(target.value) }}\n        />\n    </div>\n}\n","// @flow\nimport {theme} from 'reactive-di'\n\nclass KeyValueTheme {\n    @theme get css() {\n        return {\n            item: {\n                display: 'flex'\n            },\n            key: {\n                width: '20%'\n            },\n            value: {\n                width: '80%'\n            }\n        }\n    }\n}\n\nfunction KeyView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.key}>{children}</div>\n}\n\nfunction ValueView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.value}>{children}</div>\n}\n\nexport default function ItemView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div class={css.item}>{children}</div>\n}\nItemView.Key = KeyView\nItemView.Value = ValueView\n","// @flow\n\nexport type Page<Component, Id> = {\n    component: Component;\n    id: Id;\n    slug: string;\n}\n\nexport default class PageMap<Component, Extra, Pages: {[id: string]: Component}> {\n    _pages: (Page<Component, $Keys<Pages>> & Extra)[]\n\n    constructor(\n        pages: Pages,\n        extra?: {[$Keys<Pages>]: Extra} = {},\n        suffix?: ?string = 'View'\n    ) {\n        const keys = Object.keys(pages)\n        const result = this._pages = []\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i]\n            const id = key\n            const suffixPos = suffix ? key.length - suffix.length : 0\n            const slug = suffix && key.indexOf(suffix) === suffixPos\n                ? key.substring(0, suffixPos).toLowerCase()\n                : key.toLowerCase()\n\n            const page = {id, slug, component: pages[id], ...extra[id]}\n            result.push(page)\n        }\n    }\n\n    map<V>(cb: (item: Page<Component, $Keys<Pages>> & Extra) => V): V[] {\n        return this._pages.map(cb)\n    }\n\n    get(slugOrId?: ?string): Page<Component, $Keys<Pages>> & Extra {\n        const page = slugOrId\n            ? this._pages.find(page => page.slug === slugOrId || page.id === slugOrId)\n            : this._pages[0]\n        if (!page) throw new Error(`Page ${String(slugOrId)} not found`)\n\n        return page\n    }\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport {CounterView} from './counter'\nimport {HelloView} from './hello'\nimport {TodoAppView} from './todomvc'\nimport {AutocompleteView} from './autocomplete'\nimport {CssChangeView} from './cssChange'\n\nimport ItemView from './ItemView'\nimport AbstractLocationStore from '../rdi/AbstractLocationStore'\nimport PageMap from '../rdi/PageMap'\n\nclass Store {\n    static deps = [AbstractLocationStore]\n    _locationStore: AbstractLocationStore\n\n    pages = new PageMap({\n        HelloView,\n        CounterView,\n        AutocompleteView,\n        TodoAppView,\n        CssChangeView\n    })\n\n    constructor(locationStore: AbstractLocationStore) {\n        this._locationStore = locationStore\n    }\n\n    @theme get css() {\n        return {\n            main: {\n                display: 'flex',\n                padding: '1em'\n            },\n            '@global': {\n                ':focus': {\n                    outline: 0\n                },\n                html: {\n                    margin: 0,\n                    padding: 0\n                },\n                body: {\n                    font: '14px \"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                    lineHeight: '1.4em',\n                    background: '#f5f5f5',\n                    color: '#4d4d4d',\n                    margin: '0 auto',\n                    padding: 0,\n                    '-webkit-font-smoothing': 'antialiased',\n                    '-moz-osx-font-smoothing': 'grayscale',\n                    fontWeight: '300'\n                }\n            }\n        }\n    }\n\n    get page() {\n        return this.pages.get(this._locationStore.location('page'))\n    }\n\n    set page(page: string) {\n        return this._locationStore.location('page', page)\n    }\n\n    @mem name = 'John'\n}\n\nexport default function AppView(\n    {lang}: {\n        lang: string;\n    },\n    {store}: {\n        store: Store;\n    }\n) {\n    const css = store.css\n    const page = store.page\n    return <div class={css.main}>\n        <ul id=\"menu\">\n            {store.pages.map(item =>\n                <li\n                    id={`item(${item.id})`}\n                    key={item.id}\n                    style={{marginBottom: '0.3em', display: 'block'}}\n                ><button\n                    id={`button(${item.id})`}\n                    style={{\n                        width: '150px',\n                        background: 'none'\n                    }}\n                    onClick={() => store.page = item.slug }\n                >{item.id}</button></li>\n            )}\n        </ul>\n        <div id=\"apps\">\n            <div id=\"layout\" style={{\n                border: '1px solid gray',\n                padding: '1em',\n                margin: '0 0 1em 1em'\n            }}>\n                <h1 id=\"title\">{page.id}</h1>\n                <page.component id={page.id} initialValue={store.name} />\n            </div>\n\n            <ItemView id=\"inital\">\n                <ItemView.Key id=\"key\">Some value:</ItemView.Key>\n                <ItemView.Value id=\"value\">\n                    <input\n                        id=\"value-input\"\n                        value={store.name}\n                        onInput={({target}: Event) => { store.name = (target: any).value }}\n                    />\n                </ItemView.Value>\n            </ItemView>\n            <div id=\"emulate-message\">\n                Type <strong id=\"code-1\">rdi_fetch_error_rate = 0</strong> in console\n                for disabling server error emulation. <strong id=\"code-2\">rdi_fetch_error_rate = 100</strong> for 100% errors.\n            </div>\n        </div>\n    </div>\n}\n","// @flow\n\nimport './mocks'\n\nimport {mem, AtomWait, detached, ConsoleLogger, defaultContext} from 'lom_atom'\nimport {createReactWrapper, createCreateElement, Injector} from 'reactive-di'\n\nimport {render, h, Component} from 'preact'\nimport 'preact/devtools'\n\nimport {create as createJss} from 'jss'\nimport jssCamel from 'jss-camel-case'\nimport jssGlobal from 'jss-global'\nimport jssNested from 'jss-nested'\n\nimport BrowserLocationStore from '../rdi/BrowserLocationStore'\nimport AbstractLocationStore from '../rdi/AbstractLocationStore'\n\nimport {Fetcher, HttpError} from '../fetcher'\nimport {FetcherLom} from '../fetcher/lom'\nimport ErrorableView from './ErrorableView'\nimport AppView from './AppView'\n\ndefaultContext.setLogger(new ConsoleLogger())\n\nconst jss = createJss({\n    plugins: [\n        jssNested(),\n        jssCamel(),\n        jssGlobal()\n    ]\n})\n\nconst injector = new Injector(\n    [\n        [Fetcher, new FetcherLom({baseUrl: '/api'})],\n        [AbstractLocationStore, new BrowserLocationStore(location, history, 'rdi_demos')]\n    ],\n    (jss: any)\n)\n\nconst lomCreateElement = createCreateElement(\n    createReactWrapper(\n        Component,\n        ErrorableView,\n        detached,\n        injector\n    ),\n    (h: React$CreateElement),\n    true\n)\nglobal['lom_h'] = lomCreateElement\n\nconst el = document.getElementById('app')\nif (!el) throw new Error('Document has no #app container')\n\nrender(<AppView id=\"demos\" lang=\"ru\" />, el)\n"],"names":["global","self","window","undefined","delayed","mock","delay","errorRate","fakeError","resp","url","params","Promise","resolve","reject","globalRate","rate","Math","floor","random","response","match","matcher","slice","RegExp","Error","apiMocker","fetchMock","mocks","storage","localStorage","forEach","data","Storage","glob","opts","TypeError","str","String","reStr","extended","globstar","inGroup","flags","c","i","len","length","prevChar","starCount","nextChar","isGlobstar","indexOf","Array","isArray","arr","Object","prototype","toString","call","pathToRegexp","parse","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","join","options","tokens","key","index","path","defaultDelimiter","delimiter","res","exec","m","escaped","offset","next","prefix","name","capture","group","modifier","asterisk","push","partial","repeat","optional","pattern","escapeGroup","escapeString","substr","encodeURIComponentPretty","encodeURI","replace","charCodeAt","toUpperCase","encodeAsterisk","matches","obj","encode","pretty","encodeURIComponent","token","value","segment","isarray","JSON","stringify","j","test","attachKeys","re","keys","sensitive","regexpToRegexp","groups","source","arrayToRegexp","parts","regexp","stringToRegexp","strict","end","route","endsWithDelimiter","_extends","assign","target","arguments","hasOwnProperty","stringMatchers","begin","targetString","urlRX","_glob","express","_express","getHeaderMatcher","expectedHeaders","HeadersConstructor","expectation","map","k","toLowerCase","headers","raw","lowerCaseHeaders","reduce","every","header","areHeadersEqual","currentHeader","expectedHeader","val","currentHeaderValue","expectedHeaderValue","normalizeRequest","Request","isPrototypeOf","method","__unnamed","matchUrl","expectedMethod","matchMethod","matchHeaders","some","warn","expectedUrl","req","times","timesLeft","reset","_typeof","Symbol","iterator","constructor","FetchMock","routes","_calls","_matchedCalls","_unmatchedCalls","_holdingPromises","bindMethods","bind","restore","addRoute","_mock","once","isSandbox","realFetch","fetch","_unMock","fallbackResponse","catch","spy","_this","resolveHoldingPromise","holdingPromise","router","then","responsePromise","mockResponse","il","compileRoute","Headers","responseConfig","fetchOpts","Response","respond","throws","body","status","__redirectUrl","parseInt","statusText","statusTextMap","sendAsJson","config","includeContentLength","has","set","stream","s","Readable","create","text","json","flush","all","calls","lastCall","matched","lastUrl","lastOptions","called","done","_this2","names","r","expectedTimes","filter","actualTimes","bool","configure","setImplementations","implementations","sandbox","instance","boundMock","proxy","apply","functionInstance","theGlobal","autocompleteMocks","rawStorage","fixture","userName","BrowserLocalStorage","_storage","_key","get","getItem","setItem","clear","removeItem","clearAll","uuid","getBody","sortByDate","el1","el2","created","Date","todoMocks","infos","defaultTodos","newTodos","sort","id","find","inf","description","todos","updates","Map","todo","ids","newTodo","concat","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","subClass","superClass","__proto__","ATOM_STATUS_DESTROYED","ATOM_STATUS_OBSOLETE","ATOM_STATUS_CHECKING","ATOM_STATUS_PULLING","ATOM_STATUS_ACTUAL","ATOM_STATUS_DEEP_RESET","ATOM_FORCE_NONE","ATOM_FORCE_CACHE","ATOM_FORCE_ASYNC","ATOM_FORCE_RETRY","catchedId","AtomWait","message","new","getId","t","hk","displayName","setFunctionName","fn","scheduleNative","requestAnimationFrame","handler","setTimeout","origId","throwOnAccess","valueOf","proxify","v","Proxy","handlers","arrayHandler","stack","equal","conformed","conform","objectHandler","count","dateHandler","getTime","processed","WeakMap","isComponent","conformHandler","pop","checkSlave","slave","check","obsoleteSlave","obsolete","deleteSlave","master","dislead","actualizeMaster","actualize","Atom","field","owner","context","hostAtoms","manualReset","keyHash","_masters","_slaves","_keyHash","_context","current","_next","_suggested","_hostAtoms","parent","toJSON","destructor","_checkSlaves","delete","destroyHost","_retry","forceCache","_push","slaves","Set","unreap","add","addMaster","normalized","deepReset","refresh","nextRaw","prev","newValue","masters","f","error","size","proposeToReap","proposeToPull","getRetry","fastCallMethod","host","methodName","args","e","action","descr","defer","definingProperty","actionId","actionFn","actionDefer","reap","atom","reaping","Context","_logger","_updating","_reaping","_scheduled","_namespace","_owners","__run","_run","_start","_pendCount","_destroyValue","from","onDestruct","setLogger","logger","to","_schedule","updating","start","beginTransaction","namespace","result","endTransaction","defaultContext","detached","proto","force","createGetSetHandler","getSetHandler","createValueHandler","initializer","valueHandler","mem","handlerKey","longName","memManual","getKeyFromObj","getKey","memkey","rawKey","atomMap","memkeyManual","manual","cache","getRetryResult","defineProperties","stringToColor","hash","color","abs","substring","ConsoleLogger","_useColors","useColors","_filter","beginGroup","endGroup","groupEnd","debug","err","rdiRendered","rdiInst","rdiProp","DisposableSheet","sheet","remover","__lom_key","__lom_sheet","__lom_remover","classes","remove","badClassSymbols","SheetManager","sheetProcessor","_cache","_sheetProcessor","css","memoized","createStyleSheet","attach","removeStyleSheet","fakeSheet","themeProp","isInstance","className","getSheet","sm","theme","sheetManager","di","themeSelf","depId","rdiId","Alias","dest","Injector","items","state","rendered","_resolved","_listeners","_state","parentContext","item","src","invoke","depName","prop","isFn","deps","_r","a","alias","rawId","newKey","invokeWithProps","propsChanged","listeners","listener","copy","argDeps","resolved","l","argDep","dep","createReactWrapper","BaseComponent","ErrorComponent","rootInjector","isFullEqual","AtomizedComponent","reactContext","_propsChanged","_el","_lastData","injector","_keys","cns","__lom_ctx","_render","render","_injector","aliases","shouldComponentUpdate","oldProps","componentWillUnmount","prevContext","onError","forceUpdate","reactWrapper","WrappedComponent","createCreateElement","atomize","createElement","compositeId","lomCreateElement","attrs","el","newEl","isAtomic","_id","__lom","newArgs","dn","cons","provideMap","cloneComponent","cloned","VNode","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","p","vnode","extend","cloneElement","ASYNC_RENDER","enqueueRender","hydrating","_componentConstructor","createNode","node","cssText","old","isSvg","eventProxy","setProperty","mounts","document","dom","originalChildren","keyed","keyedLen","childrenLen","_child","vlen","_component","components","Ctor","splice","component","ref","previousProps","previousState","nextBase","skip","getNodeProps","originalComponent","createComponent","base","inner","ATTR_KEY","createReactElement","createReactDOMComponent","childNodes","nodeType","Node","ELEMENT_NODE","isText","TEXT_NODE","textContent","updateReactComponent","typeName","element","type","createReactCompositeComponent","_currentElement","setState","_instance","_renderedComponent","instanceMap","componentOrNode","newInstance","inst","nextRootKey","roots","findRoots","createDevToolsBridge","ComponentTree","parentNode","Mount","Reconciler","componentAdded","isRootComponent","_rootID","_renderNewRootComponent","_inDevTools","mountComponent","childInst","componentUpdated","prevRenderedChildren","receiveComponent","contains","unmountComponent","componentRemoved","_parentComponent","__u","parentElement","visitNonCompositeChildren","visitor","_renderedChildren","initDevTools","__REACT_DEVTOOLS_GLOBAL_HOOK__","bridge","nextAfterMount","afterMount","nextAfterUpdate","afterUpdate","nextBeforeUnmount","beforeUnmount","inject","exports","styles","extract","extracted","_classCallCheck","SheetsRegistry","registry","attached","warning","condition","format","argIndex","console","x","_warning2","_interopRequireDefault","_warning","__esModule","SheetsManager","sheets","refs","manage","unmanage","detach","toCssValue","by","ignoreImportant","cssValue","toCss","_toCssValue2","_toCssValue","indentStr","indent","selector","style","_options$indent","fallbacks","fallback","_prop","_value","_prop2","_value2","allowEmpty","_toCss2","_toCss","StyleRule","isProcessed","Renderer","selectorText","renderer","nextValue","jss","plugins","onChangeValue","renderable","setStyle","applyTo","link","hasChanged","setSelector","replaceRule","symbolObservablePonyfill","root","_Symbol","observable","_ponyfill2","_ponyfill","module","require$$0","_symbolObservable2","_symbolObservable","cloneStyle","_isObservable2","_isObservable","typeOfStyle","newStyle","createRule","_StyleRule2","_StyleRule","_cloneStyle2","_cloneStyle","decl","declCopy","rule","onCreateRule","linkRule","cssRule","rules","cssRules","CSS","env","escapeRegex","escape","_createRule2","_createRule","_linkRule2","_linkRule","_escape2","_escape","RuleList","_options","generateClassName","register","unregister","process","onProcessRule","update","_options2","onUpdate","getUnescapedKeysMap","_SheetsRegistry2","_SheetsRegistry","_RuleList2","_RuleList","StyleSheet","deployed","linked","deploy","addRule","queue","insertRule","addRules","added","getRule","deleteRule","getRules","ns","_StyleSheet2","_StyleSheet","_moduleId2","_moduleId","maxRules","ruleCounter","defaultPrefix","jssId","classNamePrefix","isBrowser","PluginsRegistry","hooks","onProcessStyle","nextStyle","onProcessSheet","processedValue","use","plugin","SimpleRule","KeyframesRule","frames","ConditionalRule","FontFaceRule","ViewportRule","_SimpleRule2","_SimpleRule","_KeyframesRule2","_KeyframesRule","_ConditionalRule2","_ConditionalRule","_FontFaceRule2","_FontFaceRule","_ViewportRule2","_ViewportRule","style$","subscribe","styleRule","_loop","_ret","regExp","_kebabCase2","_kebabCase","now","fnValuesNs","fnStyleNs","fnStyle","_sheets2","_sheets","getStyle","getPropertyValue","CSSRuleTypes","extractKey","STYLE_RULE","KEYFRAMES_RULE","getHead","head","getElementsByTagName","isAttached","appendChild","_style","removeChild","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","nodeValue","trim","findPrevNode","nextElementSibling","comment","nextSibling","insertStyle","prevNode","insertBefore","insertionPointElement","_parentNode","DomRenderer","hasInsertedRules","_ref","media","meta","setAttribute","nonce","__webpack_nonce__","_index","newCssRule","VirtualRenderer","_isInBrowser2","_isInBrowser","_PluginsRegistry2","_PluginsRegistry","_rules2","_rules","_observables2","_observables","_functions2","_functions","_createGenerateClassName2","_createGenerateClassName","_createRule3","_DomRenderer2","_DomRenderer","_VirtualRenderer2","_VirtualRenderer","defaultPlugins","instanceCounter","Jss","version","setup","createGenerateClassName","virtual","ruleOptions","_len","_getDynamicStyles","_SheetsManager","_Jss2","_Jss","camelCase","convertCase","converted","jssGlobal","propKey","prefixKey","GlobalContainerRule","_jss","GlobalPrefixedRule","separatorRegExp","addScope","scope","split","scoped","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","jssNested","parentRegExp","refRegExp","getReplaceRef","container","default","hasAnd","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","nested","getOptions","nestingLevel","replaceRef","isNested","isNestedConditional","AbstractLocationStore","location","BrowserLocationStore","history","_ns","_location","_history","_params","URLSearchParams","search","pushState","Location","History","TimeoutError","timeout","statusCode","timeoutPromise","promise","tm","race","safeToJson","HttpError","uid","_opts","retry","requestId","fullUrl","FetcherResponse","fetcher","_disposed","_getRetry","_fetcher","_getState","apiData","mergeOptions","request","_setData","WaitError","Fetcher","baseUrl","_baseUrl","rec","_init","init","_timeout","_collector","collector","normalizeResponse","beginFetch","endFetch","getFullUrl","bu","mask","_request","post","put","patch","FetcherResponseLom","FetcherLom","SpinnerTheme","spinner","SpinnerView","isError","spinnerError","stackId","ErrorableView","errorWasShowed","isWait","FirstCounterService","lang","CounterMessageView","FirstCounterView","_","counter","SecondCounterService","SecondCounterMessageView","SecondCounterAddButtonView","onClick","SecondCounterView","ThirdCounterAddButtonView","ThirdCounterView","CounterView","HelloContext","initialValue","HelloView","greet","Todo","store","title","completed","_store","saving","removing","toggle","TODO_FILTER","TodoRepository","addTodo","adding","toggleAll","patching","clearCompleted","clearing","sum","activeTodoCount","patches","patchMap","delIds","delSet","ALL","COMPLETE","ACTIVE","TodoToAdd","todoRepository","_todoRepository","setRef","focus","onInput","onKeyDown","keyCode","TodoHeaderTheme","background","boxShadow","boxSizing","TodoHeaderView","todoToAdd","ESCAPE_KEY","ENTER_KEY","TodoItemEdit","beginEdit","todoBeingEditedId","editText","setText","setEditInputRef","submit","event","keyDown","which","TodoItemTheme","label","isCompleted","viewLabelCompleted","viewLabelRegular","editable","regular","itemBase","viewLabelBase","TodoItemView","todoItemEdit","editing","edit","destroy","TodoMainTheme","TodoMainView","filteredTodos","main","todoList","TodoFooterService","repository","links","_repository","clickLink","preventDefault","dataset","linkid","TodoFooterTheme","isSelected","linkSelected","linkRegular","linkBase","TodoFooterView","completedCount","todoFooterService","footer","todoCount","filters","filterItem","TodoAppTheme","TodoAppView","todoapp","DebouncedValue","_handler","AutocompleteService","nameToSearch","_debounced","setValue","AutocompleteResultsView","searchResults","AutocompleteView","Store","CssChangeTheme","red","CssChangeView","wrapper","Number","KeyValueTheme","KeyView","ValueView","ItemView","Key","Value","PageMap","pages","extra","suffix","_pages","suffixPos","slug","page","cb","slugOrId","locationStore","_locationStore","AppView","createJss","jssCamel","Component","getElementById"],"mappings":"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"}