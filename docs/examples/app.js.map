{"version":3,"file":"app.js","sources":["../../rollupPluginBabelHelpers","../../node_modules/rollup-plugin-node-globals/src/global.js","../../src/fetcher/apiMocker.js","../../node_modules/glob-to-regexp/index.js","../../node_modules/path-to-regexp/node_modules/isarray/index.js","../../node_modules/path-to-regexp/index.js","../../node_modules/fetch-mock/es5/compile-route.js","../../node_modules/fetch-mock/es5/fetch-mock.js","../../node_modules/fetch-mock/es5/status-text.js","../../node_modules/fetch-mock/es5/client.js","../../src/examples/autocomplete/autocompleteMocks.js","../../src/rdi/BrowserLocalStorage.js","../../src/rdi/uuid.js","../../src/examples/todomvc/todoMocks.js","../../src/examples/mocks.js","../../node_modules/lom_atom/src/interfaces.js","../../node_modules/lom_atom/src/defer.js","../../node_modules/lom_atom/src/Context.js","../../node_modules/lom_atom/src/utils.js","../../node_modules/lom_atom/src/conform.js","../../node_modules/lom_atom/src/Atom.js","../../node_modules/lom_atom/rollupPluginBabelHelpers","../../node_modules/lom_atom/src/ReactAtom.js","../../node_modules/lom_atom/src/decorators/action.js","../../node_modules/lom_atom/src/decorators/mem.js","../../node_modules/lom_atom/src/ConsoleLogger.js","../../node_modules/reactive-di/rollupPluginBabelHelpers","../../node_modules/reactive-di/src/interfaces.js","../../node_modules/reactive-di/src/Injector.js","../../node_modules/reactive-di/src/createReactWrapper.js","../../node_modules/reactive-di/src/createCreateElement.js","../../node_modules/reactive-di/src/cloneComponent.js","../../node_modules/reactive-di/src/props.js","../../node_modules/reactive-di/src/theming/JssSheetManager.js","../../node_modules/reactive-di/src/theming/theme.js","../../node_modules/preact/src/vnode.js","../../node_modules/preact/src/options.js","../../node_modules/preact/src/h.js","../../node_modules/preact/src/util.js","../../node_modules/preact/src/clone-element.js","../../node_modules/preact/src/constants.js","../../node_modules/preact/src/render-queue.js","../../node_modules/preact/src/vdom/index.js","../../node_modules/preact/src/dom/index.js","../../node_modules/preact/src/vdom/diff.js","../../node_modules/preact/src/vdom/component-recycler.js","../../node_modules/preact/src/vdom/component.js","../../node_modules/preact/src/component.js","../../node_modules/preact/src/render.js","../../node_modules/preact/devtools/devtools.js","../../node_modules/jss/lib/utils/getDynamicStyles.js","../../node_modules/jss/lib/utils/toCssValue.js","../../node_modules/jss/lib/SheetsRegistry.js","../../node_modules/warning/browser.js","../../node_modules/jss/lib/SheetsManager.js","../../node_modules/jss/lib/utils/toCss.js","../../node_modules/jss/lib/rules/StyleRule.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/jss/lib/utils/isObservable.js","../../node_modules/jss/lib/utils/cloneStyle.js","../../node_modules/jss/lib/utils/createRule.js","../../node_modules/jss/lib/utils/linkRule.js","../../node_modules/jss/lib/utils/escape.js","../../node_modules/jss/lib/RuleList.js","../../node_modules/jss/lib/sheets.js","../../node_modules/jss/lib/StyleSheet.js","../../node_modules/jss/lib/utils/moduleId.js","../../node_modules/jss/lib/utils/createGenerateClassName.js","../../node_modules/is-in-browser/dist/module.js","../../node_modules/jss/lib/PluginsRegistry.js","../../node_modules/jss/lib/rules/SimpleRule.js","../../node_modules/jss/lib/rules/KeyframesRule.js","../../node_modules/jss/lib/rules/ConditionalRule.js","../../node_modules/jss/lib/rules/FontFaceRule.js","../../node_modules/jss/lib/rules/ViewportRule.js","../../node_modules/jss/lib/plugins/rules.js","../../node_modules/jss/lib/plugins/observables.js","../../node_modules/jss/lib/plugins/functions.js","../../node_modules/jss/lib/renderers/DomRenderer.js","../../node_modules/jss/lib/renderers/VirtualRenderer.js","../../node_modules/jss/lib/Jss.js","../../node_modules/jss/lib/index.js","../../node_modules/hyphenate-style-name/index.js","../../node_modules/jss-camel-case/lib/index.js","../../node_modules/jss-global/lib/index.js","../../node_modules/jss-nested/lib/index.js","../../src/rdi/AbstractLocationStore.js","../../src/rdi/BrowserLocationStore.js","../../src/fetcher/timeoutPromise.js","../../src/fetcher/HttpError.js","../../src/fetcher/FetcherResponse.js","../../src/fetcher/Fetcher.js","../../src/fetcher/lom/FetcherResponseLom.js","../../src/fetcher/lom/FetcherLom.js","../../src/rdi/SpinnerView.js","../../src/examples/ErrorableView.js","../../src/examples/setup.js","../../src/examples/counter/counter.js","../../src/examples/hello/hello.js","../../src/examples/hello/helloAsync.js","../../src/examples/todomvc/models/Todo.js","../../src/examples/todomvc/models/TodoRepository.js","../../src/examples/todomvc/TodoHeaderView.js","../../src/examples/todomvc/TodoItemView.js","../../src/examples/todomvc/TodoMainView.js","../../src/examples/todomvc/TodoFooterView.js","../../src/examples/todomvc/TodoAppView.js","../../src/examples/autocomplete/autocomplete.js","../../src/examples/cssChange/cssChange.js","../../src/examples/ItemView.js","../../src/rdi/PageMap.js","../../src/examples/AppView.js","../../src/examples/index.js"],"sourcesContent":["export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar _gPO = Object.getPrototypeOf || function _gPO(o) {\n  return o.__proto__;\n};\n\nvar _sPO = Object.setPrototypeOf || function _sPO(o, p) {\n  o.__proto__ = p;\n  return o;\n};\n\nvar _construct = typeof Reflect === \"object\" && Reflect.construct || function _construct(Parent, args, Class) {\n  var Constructor,\n      a = [null];\n  a.push.apply(a, args);\n  Constructor = Parent.bind.apply(Parent, a);\n  return _sPO(new Constructor(), Class.prototype);\n};\n\nvar _cache = typeof Map === \"function\" && new Map();\n\nfunction _wrapNativeSuper(Class) {\n  if (typeof Class !== \"function\") {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  if (typeof _cache !== \"undefined\") {\n    if (_cache.has(Class)) return _cache.get(Class);\n\n    _cache.set(Class, Wrapper);\n  }\n\n  function Wrapper() {}\n\n  Wrapper.prototype = Object.create(Class.prototype, {\n    constructor: {\n      value: Wrapper,\n      enumerable: false,\n      writeable: true,\n      configurable: true\n    }\n  });\n  return _sPO(Wrapper, _sPO(function Super() {\n    return _construct(Class, arguments, _gPO(this).constructor);\n  }, Class));\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","// @flow\n\ninterface FetchMock {\n    mock(mock: Mock): void;\n}\ntype MockResponse = (url: string, params: RequestOptions, ...args: string[]) => Object | Array<*>\ntype Mock = {\n    method: string;\n    matcher: RegExp;\n    response: MockResponse;\n}\ntype MockCreator = (storage: Storage) => Mock[]\n\nglobal['rdi_fetch_error_rate'] = undefined\n\nfunction delayed(\n    mock: Mock,\n    delay: number,\n    errorRate: number,\n    fakeErrorText: string\n): (url: string, params: RequestOptions) => Promise<MockResponse> {\n    return function resp(url: string, params: RequestOptions) {\n        return new Promise((resolve: (v: MockResponse) => void, reject: (e: Error) => void) => {\n            setTimeout(() => {\n                const globalRate: number | void = global['rdi_fetch_error_rate']\n                const rate = 100 - (globalRate == undefined ? errorRate : globalRate)\n                if (Math.floor(Math.random() * 100) > rate) {\n                    reject(new Error(fakeErrorText))\n                } else {\n                    resolve((url: string, params: RequestOptions) =>\n                        mock.response(\n                            url,\n                            params,\n                            ...(url.match(mock.matcher) || []).slice(1)\n                        )\n                    )\n                }\n            }, delay)\n        })\n    }\n}\n\nexport default function apiMocker(\n    {\n        fetchMock,\n        mocks,\n        storage = localStorage,\n        delay = 500,\n        errorRate = 30,\n        fakeErrorText = '500 Fake HTTP Error'\n    }: {\n        fetchMock: FetchMock;\n        mocks: MockCreator[];\n        storage?: Storage;\n        delay?: number;\n        errorRate?: number;\n        fakeErrorText?: string;\n    }\n): void {\n    mocks.forEach(createMock => {\n        createMock(storage).forEach(data => {\n            fetchMock.mock({\n                ...data,\n                response: delayed(data, delay, errorRate, fakeErrorText)\n            })\n        })\n    })\n}\n","module.exports = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"\\\\\":\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined)   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"(?:[^/]*(?:\\/|$))*\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"[^/]*\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _glob = require('glob-to-regexp');\nvar _express = require('path-to-regexp');\n\nvar stringMatchers = {\n\tbegin: function begin(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.indexOf(targetString) === 0;\n\t\t};\n\t},\n\tend: function end(targetString) {\n\t\treturn function (url) {\n\t\t\treturn url.substr(-targetString.length) === targetString;\n\t\t};\n\t},\n\tglob: function glob(targetString) {\n\t\tvar urlRX = _glob(targetString.replace(/^glob:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t},\n\texpress: function express(targetString) {\n\t\tvar urlRX = _express(targetString.replace(/^express:/, ''));\n\t\treturn function (url) {\n\t\t\treturn urlRX.test(url);\n\t\t};\n\t}\n};\n\nfunction getHeaderMatcher(expectedHeaders, HeadersConstructor) {\n\tvar expectation = Object.keys(expectedHeaders).map(function (k) {\n\t\treturn { key: k.toLowerCase(), val: expectedHeaders[k] };\n\t});\n\treturn function (headers) {\n\t\tif (!headers) {\n\t\t\theaders = {};\n\t\t}\n\n\t\tif (headers instanceof HeadersConstructor) {\n\t\t\theaders = headers.raw();\n\t\t}\n\n\t\tvar lowerCaseHeaders = Object.keys(headers).reduce(function (obj, k) {\n\t\t\tobj[k.toLowerCase()] = headers[k];\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn expectation.every(function (header) {\n\t\t\treturn areHeadersEqual(lowerCaseHeaders, header);\n\t\t});\n\t};\n}\n\nfunction areHeadersEqual(currentHeader, expectedHeader) {\n\tvar key = expectedHeader.key;\n\tvar val = expectedHeader.val;\n\tvar currentHeaderValue = Array.isArray(currentHeader[key]) ? currentHeader[key] : [currentHeader[key]];\n\tvar expectedHeaderValue = Array.isArray(val) ? val : [val];\n\n\tif (currentHeaderValue.length !== expectedHeaderValue.length) {\n\t\treturn false;\n\t}\n\n\tfor (var i = 0; i < currentHeaderValue.length; ++i) {\n\t\tif (currentHeaderValue[i] !== expectedHeaderValue[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction normalizeRequest(url, options, Request) {\n\tif (Request.prototype.isPrototypeOf(url)) {\n\t\treturn {\n\t\t\turl: url.url,\n\t\t\tmethod: url.method,\n\t\t\theaders: function () {\n\t\t\t\tvar headers = {};\n\t\t\t\turl.headers.forEach(function (name) {\n\t\t\t\t\treturn headers[name] = url.headers.name;\n\t\t\t\t});\n\t\t\t\treturn headers;\n\t\t\t}()\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\turl: url,\n\t\t\tmethod: options && options.method || 'GET',\n\t\t\theaders: options && options.headers\n\t\t};\n\t}\n}\n\nmodule.exports = function (route, Request, HeadersConstructor) {\n\troute = _extends({}, route);\n\n\tif (typeof route.response === 'undefined') {\n\t\tthrow new Error('Each route must define a response');\n\t}\n\n\tif (!route.matcher) {\n\t\tthrow new Error('each route must specify a string, regex or function to match calls to fetch');\n\t}\n\n\tif (!route.name) {\n\t\troute.name = route.matcher.toString();\n\t\troute.__unnamed = true;\n\t}\n\n\tvar matchUrl = void 0;\n\n\tvar expectedMethod = route.method && route.method.toLowerCase();\n\n\tfunction matchMethod(method) {\n\t\treturn !expectedMethod || expectedMethod === (method ? method.toLowerCase() : 'get');\n\t};\n\n\tvar matchHeaders = route.headers ? getHeaderMatcher(route.headers, HeadersConstructor) : function () {\n\t\treturn true;\n\t};\n\n\tif (typeof route.matcher === 'function') {\n\t\tmatchUrl = route.matcher;\n\t} else if (typeof route.matcher === 'string') {\n\n\t\tObject.keys(stringMatchers).some(function (name) {\n\t\t\tif (route.matcher.indexOf(name + ':') === 0) {\n\t\t\t\tvar url = route.matcher.replace(new RegExp('^' + name + ':'), '');\n\t\t\t\tmatchUrl = stringMatchers[name](url);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\tif (!matchUrl) {\n\t\t\tif (route.matcher === '*') {\n\t\t\t\tmatchUrl = function matchUrl() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t} else if (route.matcher.indexOf('^') === 0) {\n\t\t\t\t(function () {\n\t\t\t\t\tconsole.warn('Using \\'^\\' to denote the start of a url is deprecated. Use \\'begin:\\' instead');\n\t\t\t\t\tvar expectedUrl = route.matcher.substr(1);\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url.indexOf(expectedUrl) === 0;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\t(function () {\n\t\t\t\t\tvar expectedUrl = route.matcher;\n\t\t\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\t\t\treturn url === expectedUrl;\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t} else if (route.matcher instanceof RegExp) {\n\t\t(function () {\n\t\t\tvar urlRX = route.matcher;\n\t\t\tmatchUrl = function matchUrl(url) {\n\t\t\t\treturn urlRX.test(url);\n\t\t\t};\n\t\t})();\n\t}\n\n\tvar matcher = function matcher(url, options) {\n\t\tvar req = normalizeRequest(url, options, Request);\n\t\treturn matchHeaders(req.headers) && matchMethod(req.method) && matchUrl(req.url, options);\n\t};\n\n\tif (route.times) {\n\t\t(function () {\n\t\t\tvar timesLeft = route.times;\n\t\t\troute.matcher = function (url, options) {\n\t\t\t\tvar match = timesLeft && matcher(url, options);\n\t\t\t\tif (match) {\n\t\t\t\t\ttimesLeft--;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\t\t\troute.reset = function () {\n\t\t\t\treturn timesLeft = route.times;\n\t\t\t};\n\t\t})();\n\t} else {\n\t\troute.matcher = matcher;\n\t}\n\n\treturn route;\n};","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar compileRoute = require('./compile-route');\n\nvar FetchMock = function FetchMock() {\n\n\tthis.routes = [];\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.bindMethods();\n};\n\nFetchMock.prototype.bindMethods = function () {\n\tthis.fetchMock = FetchMock.prototype.fetchMock.bind(this);\n\tthis.restore = FetchMock.prototype.restore.bind(this);\n\tthis.reset = FetchMock.prototype.reset.bind(this);\n};\n\nFetchMock.prototype.mock = function (matcher, response, options) {\n\n\tvar route = void 0;\n\n\t// Handle the variety of parameters accepted by mock (see README)\n\tif (matcher && response && options) {\n\t\troute = _extends({\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t}, options);\n\t} else if (matcher && response) {\n\t\troute = {\n\t\t\tmatcher: matcher,\n\t\t\tresponse: response\n\t\t};\n\t} else if (matcher && matcher.matcher) {\n\t\troute = matcher;\n\t} else {\n\t\tthrow new Error('Invalid parameters passed to fetch-mock');\n\t}\n\n\tthis.addRoute(route);\n\n\treturn this._mock();\n};\n\nFetchMock.prototype.once = function (matcher, response, options) {\n\treturn this.mock(matcher, response, _extends({}, options, { times: 1 }));\n};\n\nFetchMock.prototype._mock = function () {\n\tif (!this.isSandbox) {\n\t\t// Do this here rather than in the constructor to ensure it's scoped to the test\n\t\tthis.realFetch = this.realFetch || FetchMock.global.fetch;\n\t\tFetchMock.global.fetch = this.fetchMock;\n\t}\n\treturn this;\n};\n\nFetchMock.prototype._unMock = function () {\n\tif (this.realFetch) {\n\t\tFetchMock.global.fetch = this.realFetch;\n\t\tthis.realFetch = null;\n\t}\n\tthis.fallbackResponse = null;\n\treturn this;\n};\n\nFetchMock.prototype.catch = function (response) {\n\tif (this.fallbackResponse) {\n\t\tconsole.warn('calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response');\n\t}\n\tthis.fallbackResponse = response || 'ok';\n\treturn this._mock();\n};\n\nFetchMock.prototype.spy = function () {\n\tthis._mock();\n\treturn this.catch(this.realFetch);\n};\n\nFetchMock.prototype.fetchMock = function (url, opts) {\n\tvar _this = this;\n\n\tvar Promise = this.Promise || FetchMock.Promise;\n\tvar resolveHoldingPromise = void 0;\n\tvar holdingPromise = new Promise(function (res) {\n\t\treturn resolveHoldingPromise = res;\n\t});\n\tthis._holdingPromises.push(holdingPromise);\n\tvar response = this.router(url, opts);\n\n\tif (!response) {\n\t\tconsole.warn('Unmatched ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\tthis.push(null, [url, opts]);\n\n\t\tif (this.fallbackResponse) {\n\t\t\tresponse = this.fallbackResponse;\n\t\t} else {\n\t\t\tthrow new Error('No fallback response defined for ' + (opts && opts.method || 'GET') + ' to ' + url);\n\t\t}\n\t}\n\n\tif (typeof response === 'function') {\n\t\tresponse = response(url, opts);\n\t}\n\n\tif (typeof response.then === 'function') {\n\t\tvar responsePromise = response.then(function (response) {\n\t\t\treturn _this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t\t});\n\t\treturn Promise.resolve(responsePromise); // Ensure Promise is always our implementation.\n\t} else {\n\t\treturn this.mockResponse(url, response, opts, resolveHoldingPromise);\n\t}\n};\n\nFetchMock.prototype.router = function (url, opts) {\n\tvar route = void 0;\n\tfor (var i = 0, il = this.routes.length; i < il; i++) {\n\t\troute = this.routes[i];\n\t\tif (route.matcher(url, opts)) {\n\t\t\tthis.push(route.name, [url, opts]);\n\t\t\treturn route.response;\n\t\t}\n\t}\n};\n\nFetchMock.prototype.addRoute = function (route) {\n\n\tif (!route) {\n\t\tthrow new Error('.mock() must be passed configuration for a route');\n\t}\n\n\t// Allows selective application of some of the preregistered routes\n\tthis.routes.push(compileRoute(route, FetchMock.Request, FetchMock.Headers));\n};\n\nFetchMock.prototype.mockResponse = function (url, responseConfig, fetchOpts, resolveHoldingPromise) {\n\tvar Promise = this.Promise || FetchMock.Promise;\n\n\t// It seems odd to call this in here even though it's already called within fetchMock\n\t// It's to handle the fact that because we want to support making it very easy to add a\n\t// delay to any sort of response (including responses which are defined with a function)\n\t// while also allowing function responses to return a Promise for a response config.\n\tif (typeof responseConfig === 'function') {\n\t\tresponseConfig = responseConfig(url, fetchOpts);\n\t}\n\n\t// If the response is a pre-made Response, respond with it\n\tif (FetchMock.Response.prototype.isPrototypeOf(responseConfig)) {\n\t\treturn this.respond(Promise.resolve(responseConfig), resolveHoldingPromise);\n\t}\n\n\t// If the response says to throw an error, throw it\n\tif (responseConfig.throws) {\n\t\treturn this.respond(Promise.reject(responseConfig.throws), resolveHoldingPromise);\n\t}\n\n\t// If the response config looks like a status, start to generate a simple response\n\tif (typeof responseConfig === 'number') {\n\t\tresponseConfig = {\n\t\t\tstatus: responseConfig\n\t\t};\n\t\t// If the response config is not an object, or is an object that doesn't use\n\t\t// any reserved properties, assume it is meant to be the body of the response\n\t} else if (typeof responseConfig === 'string' || !(responseConfig.body || responseConfig.headers || responseConfig.throws || responseConfig.status || responseConfig.__redirectUrl)) {\n\t\tresponseConfig = {\n\t\t\tbody: responseConfig\n\t\t};\n\t}\n\n\t// Now we are sure we're dealing with a response config object, so start to\n\t// construct a real response from it\n\tvar opts = responseConfig.opts || {};\n\n\t// set the response url\n\topts.url = responseConfig.__redirectUrl || url;\n\n\t// Handle a reasonably common misuse of the library - returning an object\n\t// with the property 'status'\n\tif (responseConfig.status && (typeof responseConfig.status !== 'number' || parseInt(responseConfig.status, 10) !== responseConfig.status || responseConfig.status < 200 || responseConfig.status > 599)) {\n\t\tthrow new TypeError('Invalid status ' + responseConfig.status + ' passed on response object.\\nTo respond with a JSON object that has status as a property assign the object to body\\ne.g. {\"body\": {\"status: \"registered\"}}');\n\t}\n\n\t// set up the response status\n\topts.status = responseConfig.status || 200;\n\topts.statusText = FetchMock.statusTextMap['' + opts.status];\n\n\t// Set up response headers. The ternary operator is to cope with\n\t// new Headers(undefined) throwing in Chrome\n\t// https://code.google.com/p/chromium/issues/detail?id=335871\n\topts.headers = responseConfig.headers ? new FetchMock.Headers(responseConfig.headers) : new FetchMock.Headers();\n\n\t// start to construct the body\n\tvar body = responseConfig.body;\n\n\t// convert to json if we need to\n\topts.sendAsJson = responseConfig.sendAsJson === undefined ? FetchMock.config.sendAsJson : responseConfig.sendAsJson;\n\tif (opts.sendAsJson && responseConfig.body != null && (typeof body === 'undefined' ? 'undefined' : _typeof(body)) === 'object') {\n\t\t//eslint-disable-line\n\t\tbody = JSON.stringify(body);\n\t}\n\n\t// add a Content-Length header if we need to\n\topts.includeContentLength = responseConfig.includeContentLength === undefined ? FetchMock.config.includeContentLength : responseConfig.includeContentLength;\n\tif (opts.includeContentLength && typeof body === 'string' && !opts.headers.has('Content-Length')) {\n\t\topts.headers.set('Content-Length', body.length.toString());\n\t}\n\n\t// On the server we need to manually construct the readable stream for the\n\t// Response object (on the client this is done automatically)\n\tif (FetchMock.stream) {\n\t\tvar s = new FetchMock.stream.Readable();\n\t\tif (body != null) {\n\t\t\t//eslint-disable-line\n\t\t\ts.push(body, 'utf-8');\n\t\t}\n\t\ts.push(null);\n\t\tbody = s;\n\t}\n\tvar response = new FetchMock.Response(body, opts);\n\n\t// When mocking a followed redirect we must wrap the response in an object\n\t// which sets the redirected flag (not a writable property on the actual response)\n\tif (responseConfig.__redirectUrl) {\n\t\tresponse = Object.create(response, {\n\t\t\tredirected: {\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\turl: {\n\t\t\t\tvalue: responseConfig.__redirectUrl\n\t\t\t},\n\t\t\t// TODO extend to all other methods as requested by users\n\t\t\t// Such a nasty hack\n\t\t\ttext: {\n\t\t\t\tvalue: response.text.bind(response)\n\t\t\t},\n\t\t\tjson: {\n\t\t\t\tvalue: response.json.bind(response)\n\t\t\t}\n\t\t});\n\t}\n\n\treturn this.respond(Promise.resolve(response), resolveHoldingPromise);\n};\n\nFetchMock.prototype.respond = function (response, resolveHoldingPromise) {\n\tresponse.then(resolveHoldingPromise, resolveHoldingPromise);\n\n\treturn response;\n};\n\nFetchMock.prototype.flush = function () {\n\treturn Promise.all(this._holdingPromises);\n};\n\nFetchMock.prototype.push = function (name, call) {\n\tif (name) {\n\t\tthis._calls[name] = this._calls[name] || [];\n\t\tthis._calls[name].push(call);\n\t\tthis._matchedCalls.push(call);\n\t} else {\n\t\tthis._unmatchedCalls.push(call);\n\t}\n};\n\nFetchMock.prototype.restore = function () {\n\tthis._unMock();\n\tthis.reset();\n\tthis.routes = [];\n\treturn this;\n};\n\nFetchMock.prototype.reset = function () {\n\tthis._calls = {};\n\tthis._matchedCalls = [];\n\tthis._unmatchedCalls = [];\n\tthis._holdingPromises = [];\n\tthis.routes.forEach(function (route) {\n\t\treturn route.reset && route.reset();\n\t});\n\treturn this;\n};\n\nFetchMock.prototype.calls = function (name) {\n\treturn name ? this._calls[name] || [] : {\n\t\tmatched: this._matchedCalls,\n\t\tunmatched: this._unmatchedCalls\n\t};\n};\n\nFetchMock.prototype.lastCall = function (name) {\n\tvar calls = name ? this.calls(name) : this.calls().matched;\n\tif (calls && calls.length) {\n\t\treturn calls[calls.length - 1];\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\nFetchMock.prototype.lastUrl = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[0];\n};\n\nFetchMock.prototype.lastOptions = function (name) {\n\tvar call = this.lastCall(name);\n\treturn call && call[1];\n};\n\nFetchMock.prototype.called = function (name) {\n\tif (!name) {\n\t\treturn !!(this._matchedCalls.length || this._unmatchedCalls.length);\n\t}\n\treturn !!(this._calls[name] && this._calls[name].length);\n};\n\nFetchMock.prototype.done = function (name) {\n\tvar _this2 = this;\n\n\tvar names = name ? [name] : this.routes.map(function (r) {\n\t\treturn r.name;\n\t});\n\t// Can't use array.every because\n\t// a) not widely supported\n\t// b) would exit after first failure, which would break the logging\n\treturn names.map(function (name) {\n\t\tif (!_this2.called(name)) {\n\t\t\tconsole.warn('Warning: ' + name + ' not called');\n\t\t\treturn false;\n\t\t}\n\t\t// would use array.find... but again not so widely supported\n\t\tvar expectedTimes = (_this2.routes.filter(function (r) {\n\t\t\treturn r.name === name;\n\t\t}) || [{}])[0].times;\n\n\t\tif (!expectedTimes) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar actualTimes = _this2.calls(name).length;\n\t\tif (expectedTimes > actualTimes) {\n\t\t\tconsole.warn('Warning: ' + name + ' only called ' + actualTimes + ' times, but ' + expectedTimes + ' expected');\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}).filter(function (bool) {\n\t\treturn !bool;\n\t}).length === 0;\n};\n\nFetchMock.config = {\n\tincludeContentLength: false,\n\tsendAsJson: true\n};\n\nFetchMock.prototype.configure = function (opts) {\n\t_extends(FetchMock.config, opts);\n};\n\nFetchMock.setImplementations = FetchMock.prototype.setImplementations = function (implementations) {\n\tFetchMock.Headers = implementations.Headers || FetchMock.Headers;\n\tFetchMock.Request = implementations.Request || FetchMock.Request;\n\tFetchMock.Response = implementations.Response || FetchMock.Response;\n\tFetchMock.Promise = implementations.Promise || FetchMock.Promise;\n};\n\nFetchMock.prototype.sandbox = function (Promise) {\n\tif (this.routes.length || this.fallbackResponse) {\n\t\tthrow new Error('.sandbox() can only be called on fetch-mock instances that don\\'t have routes configured already');\n\t}\n\tvar instance = new FetchMock();\n\n\t// this construct allows us to create a fetch-mock instance which is also\n\t// a callable function, while circumventing circularity when defining the\n\t// object that this function should be bound to\n\tvar boundMock = void 0;\n\tvar proxy = function proxy() {\n\t\treturn boundMock.apply(null, arguments);\n\t};\n\n\tvar functionInstance = _extends(proxy, // Ensures that the entire returned object is a callable function\n\tFetchMock.prototype, // all prototype methods\n\tinstance // instance data\n\t);\n\tfunctionInstance.bindMethods();\n\tboundMock = functionInstance.fetchMock;\n\tfunctionInstance.isSandbox = true;\n\tif (Promise) {\n\t\tfunctionInstance.Promise = Promise;\n\t}\n\n\treturn functionInstance;\n};\n\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(function (method) {\n\tFetchMock.prototype[method] = function (matcher, response, options) {\n\t\treturn this.mock(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n\tFetchMock.prototype[method + 'Once'] = function (matcher, response, options) {\n\t\treturn this.once(matcher, response, _extends({}, options, { method: method.toUpperCase() }));\n\t};\n});\n\nmodule.exports = FetchMock;","'use strict';\n\nvar statusTextMap = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': 'I\\'m a teapot',\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Unordered Collection',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '509': 'Bandwidth Limit Exceeded',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required'\n};\n\nmodule.exports = statusTextMap;","'use strict';\n\nvar FetchMock = require('./fetch-mock');\nvar statusTextMap = require('./status-text');\nvar theGlobal = typeof window !== 'undefined' ? window : self;\n\nFetchMock.global = theGlobal;\nFetchMock.statusTextMap = statusTextMap;\n\nFetchMock.setImplementations({\n\tPromise: theGlobal.Promise,\n\tRequest: theGlobal.Request,\n\tResponse: theGlobal.Response,\n\tHeaders: theGlobal.Headers\n});\n\nmodule.exports = new FetchMock();","// @flow\n\nexport default function autocompleteMocks(\n    rawStorage: Storage\n) {\n    const fixture = [\n        'John Doe',\n        'Vasia Pupkin'\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/autocomplete\\\\?q=(.+)?'),\n            response(url: string, params: RequestOptions, name: string) { // eslint-disable-line\n                return name\n                    ? fixture.filter((userName: string) => userName.indexOf(name) === 0)\n                    : fixture\n            }\n        }\n    ]\n}\n","// @flow\n\nexport default class BrowserLocalStorage {\n    _storage: Storage\n    _key: string\n\n    constructor(storage: Storage, key: string) {\n        this._storage = storage\n        this._key = key\n    }\n\n    get<V>(): ?V {\n        const value: ?string = this._storage.getItem(this._key)\n        return !value ? null : JSON.parse(value || '')\n    }\n\n    set<V>(value: V): void {\n        this._storage.setItem(this._key, JSON.stringify(value))\n    }\n\n    clear(): void {\n        this._storage.removeItem(this._key)\n    }\n\n    clearAll(): void {\n        this._storage.clear()\n    }\n}\n","// @flow\n\nexport default function uuid(): string {\n    let uuid = ''\n\n    for (let i = 0; i < 32; i++) {\n        let random = Math.random() * 16 | 0\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            uuid += '-'\n        }\n        uuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16)\n    }\n\n    return uuid\n}\n","// @flow\n\nimport BrowserLocalStorage from '../../rdi/BrowserLocalStorage'\nimport uuid from '../../rdi/uuid'\n\ninterface ITodo {\n    id: string;\n    title: string;\n    completed: boolean;\n    created: Date;\n}\n\nfunction getBody(body?: ?(string | Object)): any {\n    return typeof body === 'string'\n        ? JSON.parse(body)\n        : ((body || {}): any)\n}\n\nfunction sortByDate(el1: ITodo, el2: ITodo): number {\n    if (!el2.created || el1.created) {\n        return 0\n    }\n\n    if (String(el1.created) > String(el2.created)) {\n        return 1\n    }\n    if (String(el1.created) < String(el2.created)) {\n        return -1\n    }\n    return 0\n}\n\nexport default function todoMocks(rawStorage: Storage) {\n    const storage = new BrowserLocalStorage(rawStorage, 'lom_todomvc')\n    const infos = new BrowserLocalStorage(rawStorage, 'lom_todomvc_info')\n    const defaultTodos: ITodo[] = [\n        {\n            id: 't1',\n            title: 'test todo #1',\n            completed: false,\n            created: new Date()\n        },\n        {\n            id: 't2',\n            title: 'test todo #2',\n            completed: true,\n            created: new Date()\n        }\n    ]\n\n    return [\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                let newTodos = storage.get()\n                if (!newTodos) {\n                    newTodos = defaultTodos\n                    storage.set(newTodos)\n                }\n                return newTodos.sort(sortByDate)\n            }\n        },\n        {\n            method: 'GET',\n            matcher: new RegExp('/api/todo/(.*)/info'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data = infos.get() || []\n                const i = data.find((inf) => inf.id === id)\n                return {id, description: i ? i.description : 'desc'}\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || defaultTodos\n                const updates: Map<string, $Shape<ITodo>> = new Map(getBody(params.body))\n\n                const newTodos = todos\n                    .map(todo => {\n                        return {...todo, ...updates.get(todo.id)}\n                    })\n                    .sort(sortByDate)\n                storage.set(newTodos)\n\n                return newTodos\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todos'),\n            response(url: string, params: RequestOptions) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || defaultTodos\n                const ids: string[] = getBody(params.body)\n                const newTodos = todos.filter(todo =>\n                    ids.indexOf(todo.id) === -1\n                )\n                storage.set(newTodos)\n\n                return newTodos.map(({id}) => id)\n            }\n        },\n        {\n            method: 'DELETE',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data: ?ITodo[] = storage.get()\n                const todos = data || []\n                const newTodos = todos.filter(todo => todo.id !== id)\n                storage.set(newTodos.sort(sortByDate))\n\n                return {id}\n            }\n        },\n        {\n            method: 'POST',\n            matcher: new RegExp('/api/todo/(.*)'),\n            response(url: string, params: RequestOptions, id: string) {\n                const data: ?ITodo[] = storage.get()\n                const newTodo = getBody(params.body)\n                const newTodos = (data || []).map(todo => (todo.id === id ? newTodo : todo))\n                storage.set(newTodos)\n\n                return newTodo\n            }\n        },\n        {\n            method: 'PUT',\n            matcher: new RegExp('/api/todo'),\n            response(url: string, params: RequestOptions) {\n                const todos = storage.get() || []\n                const body = getBody(params.body)\n                const id = uuid()\n\n                const newTodo = {\n                    ...body,\n                    id\n                }\n                todos.push(newTodo)\n                storage.set(todos)\n                infos.set((infos.get() || []).concat([{id, description: 'desc#' + id}]))\n                return newTodo\n            }\n        }\n    ]\n}\n","// @flow\nimport apiMocker from '../fetcher/apiMocker'\nimport fetchMock from 'fetch-mock/es5/client'\n\nimport autocompleteMocks from './autocomplete/autocompleteMocks'\nimport todoMocks from './todomvc/todoMocks'\n\napiMocker({\n    fetchMock,\n    mocks: [\n        todoMocks,\n        autocompleteMocks\n    ]\n})\n","// @flow\nimport type Collection from './Collection'\nexport type ILoggerStatus = 'waiting' | 'proposeToReap' | 'proposeToPull'\nexport const actionId = Symbol('lom_action')\nexport interface ILogger {\n    beginGroup(name: string): void;\n    endGroup(): void;\n\n    /**\n     * After atom destructor\n     */\n    onDestruct<V>(atom: IAtom<V>): void;\n\n    /**\n     * Error while actualizing atom\n     */\n    error<V>(atom: IAtom<V>, err: Error): void;\n\n    /**\n     * Atom value changed\n     */\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void;\n}\n\nexport const ATOM_STATUS_DESTROYED: 0 = 0\nexport const ATOM_STATUS_OBSOLETE: 1 = 1\nexport const ATOM_STATUS_CHECKING: 2 = 2\nexport const ATOM_STATUS_PULLING: 3 = 3\nexport const ATOM_STATUS_ACTUAL: 4 = 4\nexport const ATOM_STATUS_DEEP_RESET: 5 = 5\n\nexport type IAtomStatus = typeof ATOM_STATUS_OBSOLETE\n    | typeof ATOM_STATUS_CHECKING | typeof ATOM_STATUS_PULLING | typeof ATOM_STATUS_ACTUAL\n    | typeof ATOM_STATUS_DEEP_RESET | typeof ATOM_STATUS_DESTROYED\n\nexport const ATOM_FORCE_NONE: 0 = 0\nexport const ATOM_FORCE_CACHE: 1 = 1\nexport const ATOM_FORCE_ASYNC: 2 = 2\nexport const ATOM_FORCE_RETRY: 3 = 3\n\nexport type IAtomForce = typeof ATOM_FORCE_NONE | typeof ATOM_FORCE_CACHE | typeof ATOM_FORCE_ASYNC | typeof ATOM_FORCE_RETRY\n\nexport interface IAtom<V> {\n    status: IAtomStatus;\n    current: V;\n    +displayName: string;\n    value(v?: V | Error, forceCache?: IAtomForce): V;\n    refresh(): void;\n    destructor(): void;\n    getRetry(): () => void;\n}\n\nexport interface IAtomInt extends IAtom<*> {\n    manualReset: boolean;\n    actualize(): void;\n    check(): void;\n    obsolete(): void;\n    dislead(slave: IAtomInt): void;\n    addMaster(master: IAtomInt): void;\n}\n\nexport type IAtomHandler<V, K> = (key: K, next?: V | Error) => V\n    | (next?: V | Error) => V\n\nexport interface IAtomOwner {\n    displayName?: string;\n    [key: string]: IAtomHandler<*, *>;\n}\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n\nexport interface IReactHost<V> {\n    value(propsChanged: boolean): V;\n    forceUpdate(): void;\n}\n","// @flow\n\nconst scheduleNative: (handler: () => void) => mixed = typeof requestAnimationFrame === 'function'\n    ? (handler: () => void) => requestAnimationFrame(handler)\n    : (handler: () => void) => setTimeout(handler, 16)\n\nclass Defer {\n    static schedule = scheduleNative\n    _queue: (() => void)[] = []\n    add = (handler: () => void) => {\n        if (this._queue.length === 0) this.constructor.schedule(this.rewind)\n        this._queue.push(handler)\n    }\n\n    rewind = () => {\n        const queue = this._queue\n        for (let i = 0; i < queue.length; i++) {\n            queue[i]()\n        }\n        this._queue = []\n    }\n}\n\nconst defer = new Defer()\n\nexport default defer\n","// @flow\n\nimport type {\n    IAtomInt,\n    IAtom,\n    ILogger,\n} from './interfaces'\nimport {ATOM_STATUS_DESTROYED} from './interfaces'\nimport defer from './defer'\n\nfunction reap(atom: IAtomInt, key: IAtomInt, reaping: Set<IAtomInt>) {\n    reaping.delete(atom)\n    if (!atom.slaves) {\n        atom.destructor()\n    }\n}\n\nexport default class Context {\n    current: ?IAtomInt = null\n\n    _logger: ILogger | void = undefined\n    _updating: IAtomInt[] = []\n    _reaping: Set<IAtomInt> = new Set()\n    _scheduled = false\n    _owners: WeakMap<?Object, Object> = new WeakMap()\n\n    _destroyValue<V>(atom: IAtom<V>, from: any) {\n        if (this._owners.get(from) === atom) {\n            try {\n                from.destructor()\n            } catch(e) {\n                console.error(e)\n                if (this._logger) this._logger.error(atom, e)\n            }\n            this._owners.delete(from)\n        }\n    }\n\n    destroyHost(atom: IAtomInt) {\n        this._destroyValue(atom, atom.current)\n        if (this._logger !== undefined) {\n            this._logger.onDestruct(atom)\n        }\n    }\n\n    setLogger(logger: ILogger) {\n        this._logger = logger\n    }\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error) {\n        this._destroyValue(atom, from)\n        if (\n            to\n            && typeof to === 'object'\n            && !(to instanceof Error)\n            && typeof to.destructor === 'function'\n        ) {\n            this._owners.set(to, atom)\n        }\n        const logger = this._logger\n        if (logger !== undefined) {\n            try {\n                logger.newValue(atom, from, to)\n            } catch (error) {\n                console.error(error)\n                logger.error(atom, error)\n            }\n        }\n    }\n\n    proposeToPull(atom: IAtomInt) {\n        this._updating.push(atom)\n        this._schedule()\n    }\n\n    proposeToReap(atom: IAtomInt) {\n        this._reaping.add(atom)\n        this._schedule()\n    }\n\n    unreap(atom: IAtomInt) {\n        this._reaping.delete(atom)\n    }\n\n    _schedule() {\n        if (!this._scheduled) {\n            defer.add(this._run)\n            this._scheduled = true\n        }\n    }\n\n    _run = () => {\n        if (this._scheduled) {\n            this._scheduled = false\n            this.sync()\n        }\n    }\n\n    _start = 0\n\n    sync() {\n        this._schedule()\n        const reaping = this._reaping\n        const updating = this._updating\n        let start = this._start\n        do {\n            const end = updating.length\n\n            for (let i = start; i < end; i++) {\n                this._start = i // save progress, atom.actualize or destroyed can throw exception\n                const atom: IAtomInt = updating[i]\n                if (!reaping.has(atom) && atom.status !== ATOM_STATUS_DESTROYED) {\n                    atom.actualize()\n                }\n            }\n\n            start = end\n        } while (updating.length > start)\n        updating.length = 0\n        this._start = 0\n\n        while (reaping.size > 0) {\n            reaping.forEach(reap)\n        }\n        this._scheduled = false\n    }\n}\n\nexport const defaultContext = new Context()\n","// @flow\n\nexport const catchedId = Symbol('lom_cached')\n\n/**\n * Can't extend Error\n * @see https://github.com/babel/babel/issues/7447\n */\nclass AtomWait {\n    message: string\n    stack: string\n\n    constructor(message?: string = '[Pending]') {\n        const t = Error.call(this, message)\n        // super(message)\n        // $FlowFixMe new.target\n        ;(t: Object)['__proto__'] = new.target.prototype\n        ;(t: Object)[catchedId] = true\n        return t\n    }\n}\n;(AtomWait: any).prototype = Object.create(Error.prototype)\n;(AtomWait: any).prototype.constructor = AtomWait\n\nconst AtomWaitInt: Class<AtomWait & Error> = (AtomWait: any)\n\nexport {AtomWaitInt as AtomWait}\n\nexport function getId(t: Object, hk: string): string {\n    return `${t.constructor.displayName || t.constructor.name}.${hk}`\n}\n\nexport function setFunctionName(fn: Function, name: string) {\n    Object.defineProperty(fn, 'name', {value: name, writable: false})\n    fn.displayName = name\n}\n\nexport const origId = Symbol('lom_error_orig')\nconst throwOnAccess = {\n    get<V: Object>(target: Error, key: string): V {\n        if (key === origId) return (target: Object).valueOf()\n        throw target.valueOf()\n    },\n    ownKeys(target: Error): string[] {\n        throw target.valueOf()\n    }\n}\n\nexport function proxify<V>(v: V): V {\n    return (new Proxy(v, (throwOnAccess: any)): any)\n}\n","// @flow\n\nexport const handlers: Map<mixed, Function> = new Map([\n    [\n        Array,\n        function arrayHandler<Target: mixed[], Source: mixed[]>(target: Target, source: Source, stack: mixed[]) {\n            let equal = target.length === source.length\n\n            for(let i = 0; i < target.length; ++i) {\n                const conformed = target[i] = conform(target[i], source[i], stack)\n                if (equal && conformed !== source[i]) equal = false\n            }\n\n            return equal ? source : target\n        }\n    ],\n    [\n        Object,\n        function objectHandler<Target: Object, Source: Object>(target: Target, source: Source, stack: mixed[]) {\n            let count = 0\n            let equal = true\n\n            for (let key in target) {\n                const conformed = target[key] = conform(target[key], source[key], stack)\n                if (equal && conformed !== source[key]) equal = false\n                ++count\n            }\n\n            for (let key in source) if (--count < 0) break\n\n            return (equal && count === 0) ? source : target\n        }\n    ],\n    [\n        Date,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.getTime() === source.getTime() ? source : target\n        }\n    ],\n    [\n        RegExp,\n        function dateHandler<Target: Date, Source: Date>(target: Target, source: Source) {\n            return target.toString() === source.toString() ? source : target\n        }\n    ]\n])\n\nexport const processed: WeakMap<mixed, boolean> = new WeakMap()\n\nexport default function conform<Target, Source>(\n    target: Target,\n    source: Source,\n    stack: mixed[] = []\n): Target {\n    if (target === source) return (source: any)\n    if (\n        !target || typeof target !== 'object'\n        || !source || typeof source !== 'object'\n        || target instanceof Error\n        || source instanceof Error\n        || target.constructor !== source.constructor\n        || processed.has(target)\n    ) return target\n\n    processed.set(target, true)\n    const conformHandler = handlers.get(target.constructor)\n\n    if (!conformHandler) return target\n\n    if (stack.indexOf(target) !== -1) return target\n    stack.push(target)\n    const res = conformHandler(target, source, stack)\n    stack.pop()\n\n    return res\n}\n","// @flow\n\nimport {\n    ATOM_FORCE_NONE, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC,\n    ATOM_STATUS_DESTROYED,\n    ATOM_STATUS_DEEP_RESET,\n    ATOM_STATUS_OBSOLETE, ATOM_STATUS_CHECKING, ATOM_STATUS_PULLING, ATOM_STATUS_ACTUAL\n} from './interfaces'\n\nimport type {\n    IAtomForce,\n    IAtom,\n    IAtomInt,\n    IAtomStatus,\n    IAtomHandler,\n    IAtomOwner\n} from './interfaces'\nimport Context, {defaultContext} from './Context'\nimport {AtomWait, setFunctionName, origId, catchedId, proxify} from './utils'\nimport conform, {processed} from './conform'\n\nfunction checkSlave(slave: IAtomInt) {\n    slave.check()\n}\n\nfunction obsoleteSlave(slave: IAtomInt) {\n    slave.obsolete()\n}\n\nfunction deleteSlave(master: IAtomInt) {\n    master.dislead((this: IAtomInt))\n}\n\nfunction actualizeMaster(master: IAtomInt) {\n    if ((this: IAtom<*>).status === ATOM_STATUS_CHECKING) {\n        master.actualize()\n    }\n}\nconst proxyId = Symbol('lom_err_proxy')\n\nexport default class Atom<V> implements IAtom<V>, IAtomInt {\n    status: IAtomStatus\n    displayName: string\n\n    current: V\n    _next: V | void\n    _suggested: V | Error | void\n\n    _masters: ?Set<IAtomInt> = null\n    _slaves: ?Set<IAtomInt> = null\n    _hostAtoms: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>> | void\n    _keyHash: mixed\n\n    manualReset: boolean\n\n    _handler: (next?: V) => V\n\n    constructor(\n        displayName: string,\n        handler: (next?: V) => V,\n        keyHash?: mixed,\n        hostAtoms?: WeakMap<Object, IAtom<*>> | Map<string, IAtom<*>>,\n        manualReset?: boolean,\n    ) {\n        this.displayName = displayName\n        this._handler = handler\n        this.manualReset = manualReset || false\n        this._hostAtoms = hostAtoms\n        this._keyHash = keyHash\n\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this.status = ATOM_STATUS_OBSOLETE\n    }\n\n    toString() {\n        return this.displayName\n        // const owner = this.owner\n        // const parent = owner.displayName || owner.constructor.displayName || owner.constructor.name\n        //\n        // return `${String(parent)}.${this.field}`\n        //     + (k\n        //         ? ('(' + (typeof k === 'function' ? (k.displayName || k.name) : String(k)) + ')')\n        //         : ''\n        //     )\n    }\n\n    toJSON() {\n        return this.current\n    }\n\n    destructor(): void {\n        if (this.status === ATOM_STATUS_DESTROYED) return\n        if (this._masters) this._masters.forEach(deleteSlave, this)\n        this._masters = null\n        // this._checkSlaves()\n        if (this._slaves) this._slaves.forEach(checkSlave)\n        this._slaves = null\n        processed.delete(this.current)\n        if (this._hostAtoms !== undefined) this._hostAtoms.delete((this._keyHash: any))\n        defaultContext.destroyHost(this)\n        this.current = (undefined: any)\n        this._next = undefined\n        this._suggested = undefined\n        this.status = ATOM_STATUS_DESTROYED\n        this._hostAtoms = undefined\n        this._keyHash = undefined\n        this._retry = undefined\n    }\n\n    value(next?: V | Error, forceCache?: IAtomForce): V {\n        const context = defaultContext\n        let current: V | Error = this.current\n        const slave = context.current\n        if (forceCache === ATOM_FORCE_CACHE) {\n            if (next === undefined) {\n                this._suggested = this._next\n                this._next = undefined\n                this.status = ATOM_STATUS_DEEP_RESET\n                this.obsoleteSlaves()\n            } else {\n                context.current = this\n                this._push(next)\n                context.current = slave\n            }\n        } else {\n            if (slave) {\n                let slaves = this._slaves\n                if (!slaves) {\n                    slaves = this._slaves = new Set()\n                    context.unreap(this)\n                }\n                slaves.add(slave)\n                slave.addMaster(this)\n            }\n\n            let normalized: V | Error\n\n            if (\n                next !== undefined\n                && (normalized = this._conform(next, this._suggested)) !== this._suggested\n                && (\n                    current instanceof Error\n                    || (normalized = this._conform(next, current)) !== current\n                )\n            ) {\n                this._suggested = this._next = (normalized: any)\n                this.status = ATOM_STATUS_OBSOLETE\n            }\n\n            this.actualize()\n        }\n\n        current = this.current\n        if (current instanceof Error) {\n            if (forceCache !== ATOM_FORCE_NONE) {\n                if ((current: Object)[proxyId] === undefined) (current: Object)[proxyId] = proxify((current: any))\n                return (current: Object)[proxyId]\n            }\n            throw current\n        }\n\n        return current\n    }\n\n    _conform<Target, Source>(target: Target, source: Source): Target {\n        return conform(target, source)\n    }\n\n    static deepReset: Set<IAtom<*>> | void = undefined\n\n    actualize(): void {\n        if (this.status === ATOM_STATUS_PULLING) {\n            throw new Error(`Cyclic atom dependency of ${String(this)}`)\n        }\n\n        if (this.status === ATOM_STATUS_CHECKING) {\n            if (this._masters) {\n                this._masters.forEach(actualizeMaster, this)\n            }\n\n            if (this.status === ATOM_STATUS_CHECKING) {\n                this.status = ATOM_STATUS_ACTUAL\n            }\n        }\n\n        const deepReset = Atom.deepReset\n        if (this.status === ATOM_STATUS_DEEP_RESET) {\n            Atom.deepReset = deepReset || new Set()\n            this.refresh()\n            Atom.deepReset = deepReset\n        } else if (deepReset !== undefined && !this.manualReset && !deepReset.has(this)) {\n            deepReset.add(this)\n            this.refresh()\n        } else if (this.status !== ATOM_STATUS_ACTUAL) {\n            this.refresh()\n        }\n    }\n\n    _push(nextRaw: V | Error): void {\n        this.status = ATOM_STATUS_ACTUAL\n        const prev: V | Error = this.current\n        let next: V | Error\n        if (nextRaw instanceof Error) {\n            next = (nextRaw: Object)[origId] === undefined\n                ? nextRaw\n                : (nextRaw: Object)[origId]\n        } else {\n            next = this._conform(nextRaw, prev)\n            this._suggested = this._next\n            this._next = undefined\n        }\n\n        if (prev !== next) {\n            this.current = (next: any)\n            defaultContext.newValue((this: IAtomInt), prev, next)\n            this.obsoleteSlaves()\n        }\n    }\n\n    obsoleteSlaves() {\n        if (this._slaves) this._slaves.forEach(obsoleteSlave)\n    }\n\n    refresh(): void {\n        const masters = this._masters\n        if (masters) {\n            masters.forEach(deleteSlave, this)\n            this._masters = null\n        }\n\n        let newValue: V | Error\n        this.status = ATOM_STATUS_PULLING\n\n        const context = defaultContext\n        const slave = context.current\n        context.current = this\n        try {\n            newValue = this._handler(this._next)\n        } catch (error) {\n            if (error[catchedId] === undefined) {\n                error[catchedId] = true\n                console.error(error.stack || error)\n            }\n            newValue = error\n        }\n        context.current = slave\n\n        if (this.status !== ATOM_STATUS_DEEP_RESET) this._push(newValue)\n    }\n\n    dislead(slave: IAtomInt) {\n        const slaves = this._slaves\n        if (slaves) {\n            slaves.delete(slave)\n            if (slaves.size === 0) {\n                this._slaves = null\n                defaultContext.proposeToReap(this)\n            }\n        }\n    }\n\n    _checkSlaves() {\n        if (this._slaves) {\n            this._slaves.forEach(checkSlave)\n        } else {\n            defaultContext.proposeToPull(this)\n        }\n    }\n\n    check() {\n        if (this.status === ATOM_STATUS_ACTUAL) {\n            this.status = ATOM_STATUS_CHECKING\n            this._checkSlaves()\n        }\n    }\n\n    obsolete() {\n        if (this.status !== ATOM_STATUS_OBSOLETE) {\n            this.status = ATOM_STATUS_OBSOLETE\n            this._checkSlaves()\n        }\n    }\n\n    addMaster(master: IAtomInt) {\n        if (!this._masters) {\n            this._masters = new Set()\n        }\n        this._masters.add(master)\n    }\n\n    _retry: (() => void) | void = undefined\n\n    getRetry(): () => void {\n        if (this._retry === undefined) {\n            const fn = () => this.refresh()\n            setFunctionName(fn, `atom(${this.toString()}).retry()`)\n            this._retry = fn\n        }\n\n        return this._retry\n    }\n}\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar _gPO = Object.getPrototypeOf || function _gPO(o) {\n  return o.__proto__;\n};\n\nvar _sPO = Object.setPrototypeOf || function _sPO(o, p) {\n  o.__proto__ = p;\n  return o;\n};\n\nvar _construct = typeof Reflect === \"object\" && Reflect.construct || function _construct(Parent, args, Class) {\n  var Constructor,\n      a = [null];\n  a.push.apply(a, args);\n  Constructor = Parent.bind.apply(Parent, a);\n  return _sPO(new Constructor(), Class.prototype);\n};\n\nvar _cache = typeof Map === \"function\" && new Map();\n\nfunction _wrapNativeSuper(Class) {\n  if (typeof Class !== \"function\") {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  if (typeof _cache !== \"undefined\") {\n    if (_cache.has(Class)) return _cache.get(Class);\n\n    _cache.set(Class, Wrapper);\n  }\n\n  function Wrapper() {}\n\n  Wrapper.prototype = Object.create(Class.prototype, {\n    constructor: {\n      value: Wrapper,\n      enumerable: false,\n      writeable: true,\n      configurable: true\n    }\n  });\n  return _sPO(Wrapper, _sPO(function Super() {\n    return _construct(Class, arguments, _gPO(this).constructor);\n  }, Class));\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","// @flow\n\nimport Atom from './Atom'\nimport {ATOM_STATUS_OBSOLETE} from './interfaces'\nimport type {IReactHost} from './interfaces'\n\nexport default class ReactAtom<V> extends Atom<V> {\n    _propsChanged = true\n    _owner: IReactHost<V>\n\n    constructor(displayName: string, owner: IReactHost<V>) {\n        super(displayName, (next?: V) => (this: any)._update(next))\n        this._owner = owner\n    }\n\n    _update(next?: V): V {\n        return this._owner.value(this._propsChanged)\n    }\n\n    reset() {\n        this.status = ATOM_STATUS_OBSOLETE\n        this._propsChanged = true\n    }\n\n    _conform<Target, Source>(target: Target, source: Source): Target {\n        return target\n    }\n\n    obsoleteSlaves() {\n        if (!this._propsChanged) this._owner.forceUpdate()\n        this._propsChanged = false\n    }\n}\n","// @flow\n\nimport type {IAtomInt, TypedPropertyDescriptor} from '../interfaces'\nimport {actionId, ATOM_FORCE_CACHE} from '../interfaces'\nimport {getId, setFunctionName, AtomWait} from '../utils'\nimport {defaultContext} from '../Context'\nimport defer from '../defer'\n\ntype Handler = (...args: any[]) => void\n\nexport function createAction<V: (...args: any[]) => void>(fn: V, sync?: boolean): V {\n    return (createActionMethod({fn}, 'fn', sync): any)\n}\n\nfunction createActionMethod<Host: Object>(\n    host: Host,\n    methodName: string,\n    sync?: boolean\n): (...args: any[]) => void {\n    function actionFn(): void {\n        const args = arguments\n        try {\n            switch (args.length) {\n                case 0: host[methodName](); break\n                case 1: host[methodName](args[0]); break\n                case 2: host[methodName](args[0], args[1]); break\n                case 3: host[methodName](args[0], args[1], args[2]); break\n                case 4: host[methodName](args[0], args[1], args[2], args[3]); break\n                case 5: host[methodName](args[0], args[1], args[2], args[3], args[4]); break\n                default: host[methodName].apply(host, args); break\n            }\n        } catch(e) {\n            if (!(e instanceof AtomWait)) {\n                const slave = defaultContext.current\n                if (slave) {\n                    slave.value(e, ATOM_FORCE_CACHE)\n                } else {\n                    throw e\n                }\n            }\n        }\n        if (sync) defaultContext.sync()\n    }\n    ;(actionFn: Object)[actionId] = true\n\n    setFunctionName(actionFn, getId(host, methodName))\n    return actionFn\n}\n\nfunction createDeferedAction(action: (args: any[]) => void) {\n    function deferedAction(...args: any[]) {\n        const fn = () => action(...args)\n        setFunctionName(fn, `${action.displayName}_cb`)\n        defer.add(fn)\n    }\n    setFunctionName(deferedAction, `${action.displayName}_defered`)\n\n    return deferedAction\n}\n\nfunction action<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>,\n    defer?: boolean,\n    sync?: boolean\n): TypedPropertyDescriptor<H> {\n    const hk = `${name}$`\n    if (descr.value === undefined) {\n        throw new TypeError(`${getId(host, name)} is not an function (next?: V)`)\n    }\n    host[hk] = descr.value\n    let definingProperty = false\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: true,\n        get(): H {\n            if (definingProperty) return this[hk].bind(this)\n\n            const action = createActionMethod(this, hk, sync)\n            const actionFn = defer\n                ? createDeferedAction(action)\n                : action\n\n            definingProperty = true\n            Object.defineProperty(this, name, {\n                configurable: true,\n                enumerable: false,\n                value: actionFn\n            })\n            definingProperty = false\n\n            return ((actionFn: any): H)\n        }\n    }\n}\n\nfunction actionDefer<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>\n): TypedPropertyDescriptor<H> {\n    return action(host, name, descr, true)\n}\n\naction.defer = actionDefer\n\nfunction actionSync<Host: Object, H: Handler>(\n    host: Host,\n    name: string,\n    descr: TypedPropertyDescriptor<H>\n): TypedPropertyDescriptor<H> {\n    return action(host, name, descr, false, true)\n}\n\naction.sync = actionSync\n\ninterface IAction {\n    <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ): TypedPropertyDescriptor<H>;\n    defer: <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ) => TypedPropertyDescriptor<H>;\n    sync: <Host: Object, H: Handler>(\n        host: Host,\n        name: string,\n        descr: TypedPropertyDescriptor<H>\n    ) => TypedPropertyDescriptor<H>;\n}\n\nexport default (action: IAction)\n","// @flow\nimport type {TypedPropertyDescriptor, IAtom, IAtomForce, IAtomStatus} from '../interfaces'\nimport {ATOM_STATUS_DEEP_RESET, ATOM_FORCE_NONE, ATOM_FORCE_RETRY, ATOM_FORCE_CACHE, ATOM_FORCE_ASYNC} from '../interfaces'\nimport {defaultContext} from '../Context'\nimport {getId, setFunctionName} from '../utils'\nimport Atom from '../Atom'\n\nfunction createGetSetHandler<V>(\n    get?: () => V,\n    set?: (v: V) => void\n): (next?: V) => V {\n    return function getSetHandler(next?: V): V {\n        if (next === undefined) {\n            return (get: any).call(this)\n        }\n        ;(set: any).call(this, next)\n        return next\n    }\n}\n\nfunction createValueHandler<V>(initializer?: () => V): (next?: V | Error) => V {\n    return function valueHandler(next?: V | Error): V {\n        return next === undefined && initializer\n            ? initializer.call(this)\n            : (next: any)\n    }\n}\n\nlet forceCache: IAtomForce = ATOM_FORCE_NONE\n\nfunction mem<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<V> {\n    const handlerKey = `${name}$`\n    if (proto[handlerKey] !== undefined) return descr\n    const hostAtoms: WeakMap<Object, IAtom<V>> = new WeakMap()\n\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    let handler: (next?: V) => V\n    const longName = getId(proto, name)\n\n    function value(next?: V): V {\n        let atom: IAtom<V> | void = hostAtoms.get(this)\n        if (atom === undefined) {\n            atom = new Atom(\n                longName,\n                handler.bind(this),\n                this,\n                hostAtoms,\n                deepReset\n            )\n            hostAtoms.set(this, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n\n    if (descr.value !== undefined) {\n        handler = (descr.value: any)\n        descr.value = value\n        return descr\n    }\n\n    if (descr.initializer) setFunctionName(descr.initializer, longName)\n    if (descr.get) setFunctionName(descr.get, `get#${longName}`)\n    if (descr.set) setFunctionName(descr.set, `set#${longName}`)\n\n    handler = descr.get === undefined && descr.set === undefined\n        ? createValueHandler(descr.initializer)\n        : createGetSetHandler(descr.get, descr.set)\n    proto[handlerKey] = handler\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get: value,\n        set: (value: Function)\n    }\n}\n\nfunction memManual<V>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return mem(proto, name, descr, true)\n}\n\nfunction getKey(params: any): string {\n    if (!params) return ''\n    if (typeof params === 'object') return JSON.stringify(params)\n\n    return '' + params\n}\n\nfunction memkey<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>,\n    deepReset?: boolean\n): TypedPropertyDescriptor<(k: K, next?: V) => V> {\n    const handlerKey = `${name}$`\n    if (proto[handlerKey] !== undefined) return descr\n    const hostAtoms: WeakMap<Object, Map<string, IAtom<V>>> = new WeakMap()\n    Object.defineProperty(proto, `${name}()`, {\n        get() {\n            return hostAtoms.get(this)\n        }\n    })\n\n    const longName = getId(proto, name)\n    const handler = descr.value\n    if (handler === undefined) {\n        throw new TypeError(`${longName} is not an function (rawKey: K, next?: V)`)\n    }\n\n    function value(rawKey: K, next?: V): V {\n        let atomMap: Map<string, IAtom<V>> | void = hostAtoms.get(this)\n        if (atomMap === undefined) {\n            atomMap = new Map()\n            hostAtoms.set(this, atomMap)\n        }\n        const key = getKey(rawKey)\n        let atom: IAtom<V> | void = atomMap.get(key)\n        if (atom === undefined) {\n            atom = new Atom(\n                longName,\n                handler.bind(this, rawKey),\n                key,\n                atomMap,\n                deepReset\n            )\n            atomMap.set(key, atom)\n        }\n        return forceCache === ATOM_FORCE_RETRY ? (atom: any) : atom.value(next, forceCache)\n    }\n\n    proto[handlerKey] = handler\n\n    descr.value = value\n\n    return descr\n}\n\nfunction memkeyManual<V, K>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<(k: K, next?: V) => V>\n) {\n    return memkey(proto, name, descr, true)\n}\nmemkey.manual = memkeyManual\n\ntype IDecorator<V> = (proto: Object, name: string, descr: TypedPropertyDescriptor<V>) => TypedPropertyDescriptor<V>;\n\nfunction cache<V>(data: V): V {\n    forceCache = ATOM_FORCE_NONE\n    return data\n}\n\nfunction getRetryResult<V>(atom: IAtom<V>): () => void {\n    forceCache = ATOM_FORCE_NONE\n    return atom.getRetry()\n}\n\nObject.defineProperties(mem, {\n    cache: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_CACHE\n            return cache\n        }\n    }: any),\n    getRetry: ({\n        get<V>(): (v: IAtom<V>) => () => void {\n            forceCache = ATOM_FORCE_RETRY\n            return getRetryResult\n        }\n    }: any),\n    async: ({\n        get<V>(): (v: V) => V {\n            forceCache = ATOM_FORCE_ASYNC\n            return cache\n        }\n    }: any),\n    manual: { value: memManual },\n    key: { value: memkey }\n})\n\n\ntype IMemKey = {\n    <V, K>(proto: Object, name: string, descr: TypedPropertyDescriptor<(k: K, next?: V) => V>): TypedPropertyDescriptor<(k: K, next?: V) => V>;\n    manual: IDecorator<<V, K>(k: K, next?: V) => V>;\n}\n\ntype IMem = {\n    <V>(proto: Object, name: string, descr: TypedPropertyDescriptor<V>): TypedPropertyDescriptor<V>;\n    manual: IDecorator<*>;\n    cache<V>(v: V): V;\n    async<V>(v: V): V;\n    getRetry<V>(v: V): () => void;\n    key: IMemKey;\n}\nexport default ((mem: any): IMem)\n","// @flow\n\nimport type {IAtom, ILogger} from './interfaces'\nimport {AtomWait} from './utils'\nimport ReactAtom from './ReactAtom'\n\nfunction stringToColor(str: string): string {\n    let hash = 0\n    for(let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 3) - hash)\n    }\n    const color = Math.abs(hash).toString(16).substring(0, 6)\n\n    return 'font-weight: bold; color: #' + '000000'.substring(0, 6 - color.length) + color + ';'\n}\n\nexport default class ConsoleLogger implements ILogger {\n    _useColors: boolean\n    _filter: RegExp | void\n\n    constructor(opts?: {\n        filter?: RegExp;\n        useColors?: boolean;\n    }) {\n        this._useColors = opts && opts.useColors !== undefined ? opts.useColors : true\n        this._filter = opts ? opts.filter : undefined\n    }\n\n    beginGroup(name: string) {\n        console.group(name, 'sync')\n    }\n\n    endGroup() {\n        console.groupEnd()\n    }\n\n    onDestruct<V>(atom: IAtom<V>): void {\n        console.debug(atom.toString(), 'destruct')\n    }\n\n    error<V>(atom: IAtom<V>, err: Error): void {}\n\n    newValue<V>(atom: IAtom<V>, from?: V | Error, to: V | Error): void {\n        const name = atom.toString()\n        const filter = this._filter\n        if (filter && !filter.test(name)) return\n        if (atom instanceof ReactAtom) {\n            console.debug(name, 'rendered')\n        } else {\n            const useColors = this._useColors\n            console[\n                from instanceof Error && !(from instanceof AtomWait)\n                    ? 'warn'\n                    : (to instanceof Error && !(to instanceof AtomWait) ? 'error' : 'log')\n            ](\n                useColors ? '%c' + name : name,\n                useColors ? stringToColor(name) : '',\n                from instanceof Error ? from.message : from,\n                '➔',\n                to instanceof Error ? to.message : to\n            )\n        }\n    }\n}\n","export { _typeof as typeof, _jsx as jsx, _asyncIterator as asyncIterator, _AwaitValue as AwaitValue, _AsyncGenerator as AsyncGenerator, _wrapAsyncGenerator as wrapAsyncGenerator, _awaitAsyncGenerator as awaitAsyncGenerator, _asyncGeneratorDelegate as asyncGeneratorDelegate, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _defineEnumerableProperties as defineEnumerableProperties, _defaults as defaults, _defineProperty as defineProperty, _extends as extends, _get as get, _inherits as inherits, _inheritsLoose as inheritsLoose, _wrapNativeSuper as wrapNativeSuper, _instanceof as instanceof, _interopRequireDefault as interopRequireDefault, _interopRequireWildcard as interopRequireWildcard, _newArrowCheck as newArrowCheck, _objectDestructuringEmpty as objectDestructuringEmpty, _objectWithoutProperties as objectWithoutProperties, _assertThisInitialized as assertThisInitialized, _possibleConstructorReturn as possibleConstructorReturn, _set as set, _slicedToArray as slicedToArray, _slicedToArrayLoose as slicedToArrayLoose, _taggedTemplateLiteral as taggedTemplateLiteral, _taggedTemplateLiteralLoose as taggedTemplateLiteralLoose, _temporalRef as temporalRef, _readOnlyError as readOnlyError, _classNameTDZError as classNameTDZError, _temporalUndefined as temporalUndefined, _toArray as toArray, _toConsumableArray as toConsumableArray, _skipFirstGeneratorNext as skipFirstGeneratorNext, _toPropertyKey as toPropertyKey, _initializerWarningHelper as initializerWarningHelper, _initializerDefineProperty as initializerDefineProperty, _applyDecoratedDescriptor as applyDecoratedDescriptor };\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar REACT_ELEMENT_TYPE;\n\nfunction _jsx(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n\nfunction _asyncIterator(iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction _AwaitValue(value) {\n  this.wrapped = value;\n}\n\nfunction _AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof _AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\n_AsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\n_AsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\n_AsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n\nfunction _wrapAsyncGenerator(fn) {\n  return function () {\n    return new _AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n\nfunction _awaitAsyncGenerator(value) {\n  return new _AwaitValue(value);\n}\n\nfunction _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          Promise.resolve(value).then(_next, _throw);\n        }\n      }\n\n      function _next(value) {\n        step(\"next\", value);\n      }\n\n      function _throw(err) {\n        step(\"throw\", err);\n      }\n\n      _next();\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return _get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar _gPO = Object.getPrototypeOf || function _gPO(o) {\n  return o.__proto__;\n};\n\nvar _sPO = Object.setPrototypeOf || function _sPO(o, p) {\n  o.__proto__ = p;\n  return o;\n};\n\nvar _construct = typeof Reflect === \"object\" && Reflect.construct || function _construct(Parent, args, Class) {\n  var Constructor,\n      a = [null];\n  a.push.apply(a, args);\n  Constructor = Parent.bind.apply(Parent, a);\n  return _sPO(new Constructor(), Class.prototype);\n};\n\nvar _cache = typeof Map === \"function\" && new Map();\n\nfunction _wrapNativeSuper(Class) {\n  if (typeof Class !== \"function\") {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  if (typeof _cache !== \"undefined\") {\n    if (_cache.has(Class)) return _cache.get(Class);\n\n    _cache.set(Class, Wrapper);\n  }\n\n  function Wrapper() {}\n\n  Wrapper.prototype = Object.create(Class.prototype, {\n    constructor: {\n      value: Wrapper,\n      enumerable: false,\n      writeable: true,\n      configurable: true\n    }\n  });\n  return _sPO(Wrapper, _sPO(function Super() {\n    return _construct(Class, arguments, _gPO(this).constructor);\n  }, Class));\n}\n\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      _set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n}\n\nfunction _sliceIterator(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _slicedToArray(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    return _sliceIterator(arr, i);\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _slicedToArrayLoose(arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _temporalRef(val, name) {\n  if (val === _temporalUndefined) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n}\n\nfunction _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nfunction _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n\nvar _temporalUndefined = {};\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n\nfunction _toPropertyKey(key) {\n  if (typeof key === \"symbol\") {\n    return key;\n  } else {\n    return String(key);\n  }\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n\nfunction _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","// @flow\n\nexport type TypedPropertyDescriptor<T> = {\n    enumerable?: boolean;\n    configurable?: boolean;\n    writable?: boolean;\n    value?: T;\n    initializer?: () => T;\n    get?: () => T;\n    set?: (value: T) => void;\n}\n\nexport const rdiInst = Symbol('rdi_inst')\nexport const rdiProp = Symbol('rdi_prop')\n\nexport type IArg = Function | {+[id: string]: Function}\nexport type IProvideItem = Function | Object | [Function | string, Function | mixed]\n\nexport type IPropsWithContext = {\n    [id: string]: any;\n    __lom_ctx?: Object;\n}\n\nexport type IReactComponent<IElement> = {\n    constructor(props: IPropsWithContext, context?: Object): IReactComponent<IElement>;\n    render(): IElement;\n    forceUpdate(): void;\n}\n\nexport type IFromError<IElement> = (props: {error: Error, children: any}, state?: any) => IElement\n\nexport interface IRenderFn<IElement, State> {\n    (props: IPropsWithContext, state?: State): IElement;\n    __lom?: Class<IReactComponent<IElement>>;\n    displayName?: string;\n    deps?: IArg[];\n    onError?: IFromError<IElement>;\n    aliases?: IProvideItem[];\n}\n\nexport type IAtomize<IElement, State> = (\n    render: IRenderFn<IElement, State>\n) => Class<IReactComponent<IElement>>\n","// @flow\n\nimport type {IArg, IProvideItem, IPropsWithContext} from './interfaces'\nimport {rdiInst, rdiProp} from './interfaces'\nimport type {ISheetManager, ISheet} from './theming/interfaces'\ntype IListener = Object\n\ntype ICache = {[id: string]: any}\n\nlet depId = 0\nconst rdiId = Symbol('rdi_id')\nclass Alias<T: Function> {\n    dest: T\n    constructor(dest: T) {\n        dest[rdiId] = '' + ++depId\n        this.dest = dest\n    }\n}\n\ntype IState = {[ns: string]: {[id: string]: any}}\n\nexport interface IInjectorFlags {\n    displayName: string;\n    instance?: number;\n    isDynamic?: boolean;\n    aliases?: IProvideItem[];\n}\nexport default class Injector {\n    displayName: string\n    instance: number\n\n    static parentContext: Injector\n    static sheetManager: ISheetManager\n\n    _flags: IInjectorFlags | void\n    _cache: ICache\n    _state: IState | void\n\n    id = ''\n    props: {\n        class?: string;\n        style?: Object;\n    } | void = undefined\n\n    constructor(\n        aliases?: IProvideItem[],\n        sheetManager?: ?ISheetManager,\n        state?: IState,\n        displayName?: string,\n        instance?: number,\n        cache?: ICache,\n        flags?: IInjectorFlags\n    ) {\n        this._state = state\n        this.instance = instance || 0\n        this.displayName = displayName || ''\n        if (Injector.parentContext === undefined) Injector.parentContext = this\n        if (sheetManager) {\n            Injector.sheetManager = sheetManager\n        }\n        this._flags = flags\n\n        const map = this._cache = cache || (Object.create(null): Object)\n        if (aliases !== undefined) {\n            for (let i = 0; i < aliases.length; i++) {\n                const item = aliases[i]\n                if (item instanceof Array) {\n                    const src: string | Function = item[0]\n                    if (typeof src === 'string') {\n                        map[src] = item[1]\n                    } else {\n                        if (src[rdiId] === undefined) {\n                            src[rdiId] = '' + ++depId\n                        }\n                        const dest = item[1]\n                        map[src[rdiId]] = typeof dest === 'function' && !(dest instanceof Alias)\n                            ? new Alias(dest)\n                            : dest\n                    }\n                } else {\n                    const src = item.constructor\n                    if (src[rdiId] === undefined) {\n                        src[rdiId] = '' + ++depId\n                    }\n                    map[src[rdiId]] = item\n                }\n            }\n        }\n    }\n\n    _sheet: ISheet | void = undefined\n    getClassName<V: {_dynamic?: boolean}>(data: V, debugName?: string): string {\n        let sheet = this._sheet\n        const flags = this._flags\n        if (sheet === undefined) {\n            sheet = this._sheet = Injector.sheetManager.createSheet(\n                this.displayName + (flags && flags.isDynamic ? ('_' + this.instance) : '' )\n            )\n        }\n        if (data._dynamic !== undefined && flags) {\n            flags.isDynamic = true\n        }\n\n        return sheet.addRule(data, debugName)\n    }\n\n    toString() {\n        return this.displayName + (this.instance ? ('[' + this.instance + ']') : '')\n    }\n\n    toJSON() {\n        return this._cache\n    }\n\n    value<V>(key: Function): V {\n        let id: string = key[rdiId]\n        if (key[rdiId] === undefined) {\n            id = key[rdiId] = '' + ++depId\n        }\n        let value = this._cache[id]\n\n        if (value === undefined) {\n            value = this._cache[id] = this.invoke(key)\n            const depName = (key.displayName || key.name) + (this.instance > 0 ? ('[' + this.instance + ']') : '')\n            value.displayName = `${this.displayName}.${depName}`\n            value[rdiInst] = this\n            const state = this._state === undefined ? undefined : this._state[depName]\n            if (state && typeof state === 'object') {\n                for (let prop in state) {\n                    ;(value: Object)[prop] = state[prop]\n                }\n            }\n        } else if (value instanceof Alias) {\n            value = this._cache[id] = this.value(value.dest)\n        }\n\n        return value\n    }\n\n    destructor() {\n        if (this._sheet) this._sheet.destructor()\n        this._sheet = undefined\n        this._cache = (undefined: any)\n        this._listeners = undefined\n    }\n\n    invoke<V>(key: any): V {\n        let isFn = false\n        let deps: IArg[] | void = key.deps\n        if (key._r !== undefined) {\n            isFn = key._r[0] === 2\n            deps = deps || key._r[1]\n        }\n\n        const a = this.resolve(deps)\n        if (isFn) {\n            switch (a.length) {\n                case 0: return key()\n                case 1: return key(a[0])\n                case 2: return key(a[0], a[1])\n                case 3: return key(a[0], a[1], a[2])\n                case 4: return key(a[0], a[1], a[2], a[3])\n                case 5: return key(a[0], a[1], a[2], a[3], a[4])\n                case 6: return key(a[0], a[1], a[2], a[3], a[4], a[5])\n                default: return key(...a)\n            }\n        }\n\n        switch (a.length) {\n            case 0: return new key()\n            case 1: return new key(a[0])\n            case 2: return new key(a[0], a[1])\n            case 3: return new key(a[0], a[1], a[2])\n            case 4: return new key(a[0], a[1], a[2], a[3])\n            case 5: return new key(a[0], a[1], a[2], a[3], a[4])\n            case 6: return new key(a[0], a[1], a[2], a[3], a[4], a[5])\n            default: return new key(...a)\n        }\n    }\n\n    _resolved: boolean = false\n    _listeners: IListener[] | void = undefined\n\n    alias(key: Function, rawId?: string): Function {\n        let id: string | void = rawId\n        if (id === undefined) {\n            id = key[rdiId]\n            if (id === undefined) {\n                id = key[rdiId] = '' + ++depId\n            }\n        }\n        const newKey = this._cache[id]\n        if (newKey instanceof Alias) return newKey.dest\n        if (newKey === undefined) return key\n\n        return newKey\n    }\n\n    invokeWithProps<V>(key: Function, props?: Object, propsChanged?: boolean): V {\n        const deps =  key.deps || (key._r === undefined ? undefined : key._r[1])\n        if (deps === undefined) {\n            return key(props)\n        }\n        const a = this.resolve(deps)\n        const listeners = this._listeners\n        if (propsChanged === true && listeners !== undefined) {\n            for (let i = 0; i < listeners.length; i++) {\n                const listener = listeners[i]\n                listener[listener.constructor[rdiProp]] = props\n            }\n        }\n        this._resolved = true\n        switch (a.length) {\n            case 0: return key(props)\n            case 1: return key(props, a[0])\n            case 2: return key(props, a[0], a[1])\n            case 3: return key(props, a[0], a[1], a[2])\n            case 4: return key(props, a[0], a[1], a[2], a[3])\n            case 5: return key(props, a[0], a[1], a[2], a[3], a[4])\n            case 6: return key(props, a[0], a[1], a[2], a[3], a[4], a[5])\n            case 7: return key(props, a[0], a[1], a[2], a[3], a[4], a[5], a[6])\n            default: return key(props, ...a)\n        }\n    }\n\n    copy(flags: IInjectorFlags): Injector {\n        return new Injector(\n            flags.aliases,\n            null,\n            this._state,\n            flags.displayName,\n            flags.instance,\n            Object.create(this._cache),\n            flags\n        )\n    }\n\n    resolve(argDeps?: IArg[]): any[] {\n        const result = []\n        if (argDeps === undefined) return result\n        let listeners = this._listeners\n        const resolved = this._resolved\n        for (let i = 0, l = argDeps.length; i < l; i++) {\n            let argDep = argDeps[i]\n            if (typeof argDep === 'object') {\n                const obj = {}\n                for (let prop in argDep) { // eslint-disable-line\n                    const key = argDep[prop]\n                    const dep = this.value(key)\n                    if (resolved === false && key[rdiProp] !== undefined) {\n                        if (listeners === undefined) {\n                            this._listeners = listeners = []\n                        }\n                        listeners.push(dep)\n                    }\n\n                    obj[prop] = dep\n                }\n\n                result.push(obj)\n            } else {\n                const dep = this.value(argDep)\n                if (resolved === false && argDep[rdiProp] !== undefined) {\n                    if (listeners === undefined) {\n                        this._listeners = listeners = []\n                    }\n                    listeners.push(dep)\n                }\n\n                result.push(dep)\n            }\n        }\n\n        return result\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\nimport type {IReaction} from './reactivity/interfaces'\nimport Injector from './Injector'\nimport type {IAtomize, IFromError, IRenderFn, IReactComponent, IProvideItem, IArg, IPropsWithContext} from './interfaces'\n\nfunction setFunctionName(fn: Function, name: string) {\n    Object.defineProperty(fn, 'name', {value: name, writable: false})\n    fn.displayName = name\n}\n\nexport default function createReactWrapper<IElement>(\n    BaseComponent: Class<*>,\n    ErrorComponent: IFromError<IElement>,\n    Reaction: Class<IReaction<any>>,\n    rootInjector?: Injector = new Injector(),\n    isFullEqual?: boolean = false\n): IAtomize<IElement, *> {\n    class AtomizedComponent<State> extends BaseComponent {\n        props: IPropsWithContext\n        static displayName: string\n        _injector: Injector\n\n        static render: IRenderFn<IElement, State>\n        static instance: number\n        static isFullEqual = isFullEqual\n\n        _render: IRenderFn<IElement, State>\n        _reaction: IReaction<any>\n\n        constructor(\n            props: IPropsWithContext,\n            reactContext?: Object\n        ) {\n            super(props, reactContext)\n            let injector: Injector = rootInjector\n            const cns = this.constructor\n            let name = cns.displayName\n            if (props) {\n                if (props.__lom_ctx !== undefined) injector = props.__lom_ctx\n                if (props.id) name = props.id\n            }\n            this._render = cns.render\n            this._injector = injector.copy(cns)\n            this._injector.id = name\n            this._injector.props = props\n            cns.instance++\n            this._reaction = new Reaction(name, this)\n        }\n\n        toString() {\n            return this._injector.toString()\n        }\n\n        // get displayName() {\n        //     return this.toString()\n        // }\n        //\n\n        shouldComponentUpdate(props: IPropsWithContext) {\n            const oldProps = this.props\n            this._injector.props = props\n            let count = 0\n            for (let k in oldProps) {\n                count++\n                if (oldProps[k] !== props[k]) {\n                    this._reaction.reset()\n                    return true\n                }\n            }\n            for (let k in props) {\n                count--\n                if (oldProps[k] !== props[k]) {\n                    this._reaction.reset()\n                    return true\n                }\n            }\n            if (count !== 0) {\n                this._reaction.reset()\n                return true\n            }\n            return false\n        }\n\n        componentWillUnmount() {\n            this._reaction.destructor()\n            this.props = (undefined: any)\n            this._lastData = null\n            if (this._render !== undefined) {\n                this.constructor.instance--\n                this._injector.destructor()\n                this._injector = (undefined: any)\n            }\n        }\n\n        _lastData: ?IElement = null\n\n        value(propsChanged: boolean): ?IElement {\n            let data: ?IElement = null\n            const prevContext = Injector.parentContext\n            const injector = Injector.parentContext = this._injector\n            try {\n                data = injector.invokeWithProps(this._render, this.props, propsChanged)\n                this._lastData = data\n            } catch (error) {\n                data = injector.invokeWithProps(this._render.onError || ErrorComponent, {error, children: this._lastData})\n            }\n            Injector.parentContext = prevContext\n\n            return data\n        }\n\n        render() {\n            return this._reaction.value()\n        }\n    }\n\n    const names: Map<string, number> = new Map()\n\n    return function reactWrapper<State>(\n        render: IRenderFn<IElement, State>\n    ): Class<IReactComponent<IElement>> {\n        const WrappedComponent = function(props: IPropsWithContext, context?: Object) {\n            AtomizedComponent.call(this, props, context)\n        }\n        WrappedComponent.instance = 0\n        WrappedComponent.render = render\n        WrappedComponent.isFullEqual = render.isFullEqual || isFullEqual\n        WrappedComponent.isDynamic = false\n        WrappedComponent.aliases = render.aliases\n        WrappedComponent.prototype = Object.create(AtomizedComponent.prototype)\n        WrappedComponent.prototype.constructor = WrappedComponent\n        let name = render.displayName || render.name\n        let id = names.get(name) || 0\n        names.set(name, id + 1)\n        if (id > 0) name = `${name}_${id}`\n\n        setFunctionName(WrappedComponent, name)\n        return (WrappedComponent: any)\n    }\n}\n","// @flow\n\nimport type {IAtomize} from './interfaces'\nimport Injector from './Injector'\n\nexport default function createCreateElement<IElement, State, CreateElement: Function>(\n    atomize: IAtomize<IElement, State>,\n    createElement: CreateElement,\n    modifyId?: boolean\n): CreateElement {\n    function lomCreateElement() {\n        const args = arguments\n        let attrs: {\n            class?: string | Object;\n            style?: Object;\n            id?: string;\n            key?: string;\n            rdi_id?: string;\n            rdi_theme?: boolean;\n            __lom_ctx?: Injector;\n        } = args[1]\n        let el = args[0]\n        let newEl\n        const isAtomic = typeof el === 'function' && el.constructor.render === undefined\n        const parentContext: Injector = Injector.parentContext\n        const props = parentContext.props\n\n        let id: string | void = undefined\n\n        if (attrs) {\n            const pid = parentContext.id\n            id = attrs.rdi_id || attrs.id\n\n            let aClass = attrs.class\n\n            if (typeof aClass === 'object') {\n                attrs.class = aClass = parentContext.getClassName(aClass, id)\n            }\n\n            if (attrs.rdi_theme === true) {\n                attrs.rdi_theme = undefined\n                if (props) {\n                    const pClass: string | void = props.class\n                    if (pClass !== undefined) {\n                        attrs.class = aClass === undefined ? pClass : `${aClass} ${pClass}`\n                    }\n\n                    const pStyle: Object | void = props.style\n                    if (pStyle !== undefined) {\n                        const aStyle: Object | void = attrs.style\n                        if (aStyle === undefined) {\n                            attrs.style = pStyle\n                        } else {\n                            for (let key in pStyle) {\n                                aStyle[key] = pStyle[key]\n                            }\n                        }\n                    }\n                }\n                if (modifyId) attrs.id = pid\n            } else if (modifyId && pid !== '' && attrs.id !== undefined) {\n                attrs.id = pid + '.' + attrs.id\n            }\n        }\n\n        if (isAtomic) {\n            newEl = parentContext.alias(el, id)\n            if (newEl === null) return null\n            if (newEl !== undefined) el = newEl\n            if (!attrs) {\n                attrs = {__lom_ctx: parentContext}\n            } else {\n                attrs.__lom_ctx = parentContext\n            }\n\n            if (el.__lom === undefined) {\n                el.__lom = atomize(el)\n            }\n            newEl = el.__lom\n        } else {\n            if (id) {\n                newEl = parentContext.alias(el, id)\n                if (newEl === null) return null\n                if (newEl !== undefined) el = newEl\n            }\n            newEl = el\n        }\n        switch(args.length) {\n            case 2:\n                return createElement(newEl, attrs)\n            case 3:\n                return createElement(newEl, attrs, args[2])\n            case 4:\n                return createElement(newEl, attrs, args[2], args[3])\n            case 5:\n                return createElement(newEl, attrs, args[2], args[3], args[4])\n            case 6:\n                return createElement(newEl, attrs, args[2], args[3], args[4], args[5])\n            case 7:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6])\n            case 8:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7])\n            case 9:\n                return createElement(newEl, attrs, args[2], args[3],\n                    args[4], args[5], args[6], args[7], args[8])\n            default:\n                if (isAtomic === false) {\n                    return createElement.apply(null, args)\n                } else {\n                    const newArgs = [newEl, attrs]\n                    for (let i = 2, l = args.length; i < l; i++) {\n                        newArgs.push(args[i])\n                    }\n                    return createElement.apply(null, newArgs)\n                }\n        }\n    }\n\n    return (lomCreateElement: any)\n}\n","// @flow\n\nimport type {IRenderFn, IProvideItem} from './interfaces'\n\nfunction dn(fn?: ?(Function | Object | mixed)): string {\n    if (!fn) return 'null'\n\n    if (typeof fn === 'object') {\n        const cons = fn.constructor\n        return cons.displayName || cons.name\n    }\n    if (typeof fn === 'function') {\n        return fn.displayName || fn.name\n    }\n\n    return String(fn)\n}\n\nfunction provideMap(item: IProvideItem): string {\n    return item instanceof Array\n        ? `[${dn(item[0])}, ${dn(item[1])}]`\n        : dn(item)\n}\n\nexport default function cloneComponent<V: Function>(fn: V, aliases: IProvideItem[], name?: string): V {\n    const cloned = function () {\n        const a = arguments\n        switch (a.length) {\n            case 1: return fn(a[0])\n            case 2: return fn(a[0], a[1])\n            case 3: return fn(a[0], a[1], a[2])\n            case 4: return fn(a[0], a[1], a[2], a[3])\n            case 5: return fn(a[0], a[1], a[2], a[3], a[4])\n            default: return fn.apply(null, a)\n        }\n    }\n    cloned.deps = fn.deps\n    cloned._r = fn._r\n    cloned.aliases = fn.aliases ? fn.aliases.concat(aliases) : aliases\n    cloned.displayName = name || `cloneComponent(${dn(fn)}, [${aliases.map(provideMap).join(', ')}])`\n\n    return (cloned: any)\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from './interfaces'\nimport {rdiProp} from './interfaces'\n\nexport default function props<P: Object>(\n    proto: P,\n    name: string,\n    descr: TypedPropertyDescriptor<*>,\n) {\n    proto.constructor[rdiProp] = name\n    if (!descr.value && !descr.set) {\n        descr.writable = true\n    }\n}\n","// @flow\n\nimport type {ISheet, ISheetManager} from './interfaces'\n\ninterface JSSSRule {\n    key: string;\n}\n\ninterface JSSSheet {\n    classes: {+[id: string]: string};\n    options: {\n        meta: string;\n        classNamePrefix: string;\n    };\n    attach(): void;\n    addRule(name?: string, data: Object): JSSSRule;\n    getRule(name: string): JSSSRule;\n    deleteRule(name: string): void;\n}\n\ninterface JSS {\n    createStyleSheet(cssObj?: Object, options: any): JSSSheet;\n    removeStyleSheet(sheet: JSSSheet): void;\n}\n\ninterface IOwner {\n    update(sheet: JssSheet): void;\n}\n\nconst subRulesId = Symbol('rdi_sub_rules')\n\nexport const nameId = Symbol('rdi_theme_name')\n\nconst ruleId = Symbol('rdi_rule_id')\nconst BAD_CLASS_SYMBOLS = new RegExp('[^\\\\w\\\\d\\\\-\\\\_]', 'g')\nconst KEYFRAMES = '@keyframes '\n\nfunction replaceProps<V: {[id: string]: string | Object}>(obj: V, placeholder: string, replaceTo: string): V {\n    for (let key in obj) {\n        const val = obj[key]\n        if (val && key.indexOf('animation') === 0) {\n            obj[key] = typeof val === 'object'\n                ? replaceProps(val, placeholder, replaceTo)\n                : val.replace(placeholder, replaceTo)\n        }\n    }\n\n    return obj\n}\n\nclass JssSheet implements ISheet {\n    jssSheet: JSSSheet\n    key: string\n    usageCount = 0\n    _scheduled = false\n\n    _owner: IOwner\n\n    constructor(jssSheet: JSSSheet, owner: IOwner, key: string) {\n        this.jssSheet = jssSheet\n        this._owner = owner\n        this.key = key\n    }\n\n    _lastAttached: Set<JSSSRule> = new Set()\n    _toDelete: Set<JSSSRule> = new Set()\n\n    addRule<V: {\n        [typeof ruleId | string]: string | void\n    }>(css: V, debugName?: string): string {\n        const sheet = this.jssSheet\n        let id = css[ruleId]\n        let rule: JSSSRule | void = undefined\n        if (id === undefined) {\n            id = css[ruleId] = (css[nameId] || JSON.stringify(css))\n                .replace(BAD_CLASS_SYMBOLS, '')\n            rule = sheet.getRule(id)\n            if (rule && css._dynamic === true) {\n                rule = undefined\n            }\n        } else {\n            rule = sheet.getRule(id)\n        }\n\n        if (!rule) {\n            const prefix = sheet.options.classNamePrefix\n            const placeholder = '@.'\n            const newCss = {}\n            let subRules: JSSSRule[] | void = undefined\n            for (let key in css) {\n                const item = css[key]\n                if (item === true) continue // _dynamic\n                if (key.indexOf(KEYFRAMES) === 0 && typeof item === 'object') {\n                    if (subRules === undefined) subRules = []\n                    subRules.push(sheet.addRule(key.replace(placeholder, prefix), item))\n                } else {\n                    newCss[key] = item !== null && typeof item === 'object'\n                        ? replaceProps(item, placeholder, prefix)\n                        : key.indexOf('animation') === 0 ? (item: any).replace(placeholder, prefix) : item\n                }\n            }\n            rule = sheet.addRule(id, newCss)\n            if (subRules) (rule: Object)[subRulesId] = subRules\n            if (!this._scheduled) this._owner.update(this)\n            this._scheduled = true\n        }\n        this._lastAttached.add(rule)\n        this._toDelete.delete(rule)\n        return sheet.classes[id]\n    }\n\n    _deleteRule(rule: JSSSRule) {\n        const sheet = this.jssSheet\n        const subRules: JSSSRule[] = (rule: Object)[subRulesId]\n        if (subRules !== undefined) {\n            for (let i = 0; i < subRules.length; i++) {\n                sheet.deleteRule(subRules[i].key)\n            }\n        }\n\n        sheet.deleteRule(rule.key)\n    }\n\n    attach() {\n        this._scheduled = false\n        this._toDelete.forEach(this._deleteRule, this)\n        this._toDelete = this._lastAttached\n        this._lastAttached = new Set()\n        this.jssSheet.attach()\n    }\n\n    destructor() {\n        this.usageCount--\n        if (this.usageCount !== 0) return\n        this._toDelete = (undefined: any)\n        this._lastAttached = (undefined: any)\n        this._owner.update(this)\n    }\n}\n\nfunction defaultSchedule(cb: () => void) {\n    setTimeout(cb, 16)\n}\n\nexport default class JssSheetManager implements ISheetManager {\n    _jss: JSS\n    _cache: Map<string, JssSheet> = new Map()\n\n    _badClassSymbols = BAD_CLASS_SYMBOLS\n    _schedule: (cb: () => void) => void\n    constructor(jss: any, schedule?: (cb: () => void) => void = defaultSchedule) {\n        this._jss = jss\n        this._schedule = schedule\n    }\n\n    static createGenerateClassName(): (a: any, b: any) => string {\n        return function generateClassName(rule: {+key?: string}, sheet?: {options: {classNamePrefix: string}}): string {\n            return `${sheet ? sheet.options.classNamePrefix : ''}${rule.key ? `-${rule.key}` : ''}`\n        }\n    }\n\n    createSheet(sheetKey: string): ISheet {\n        let sheet = this._cache.get(sheetKey)\n        if (sheet === undefined) {\n            const meta = sheetKey.replace(this._badClassSymbols, '')\n            const options = {\n                meta,\n                classNamePrefix: meta\n            }\n\n            sheet = new JssSheet(this._jss.createStyleSheet(undefined, options), this, sheetKey)\n            this._cache.set(sheetKey, sheet)\n        }\n        sheet.usageCount++\n\n        return sheet\n    }\n\n    _scheduled: JssSheet[] = []\n\n    update(sheet: JssSheet) {\n        const {_scheduled: scheduled} = this\n        if (scheduled.length === 0) {\n            this._schedule(this._sync)\n        }\n        scheduled.push(sheet)\n    }\n\n    _sync = () => {\n        const {_scheduled: scheduled, _cache: cache, _jss: jss} = this\n        for (let i = 0; i < scheduled.length; i++) {\n            const sheet = scheduled[i]\n            if (sheet.usageCount === 0) {\n                cache.delete(sheet.key)\n                jss.removeStyleSheet(sheet.jssSheet)\n            } else {\n                sheet.attach()\n            }\n        }\n        this._scheduled = []\n    }\n}\n","// @flow\nimport type {TypedPropertyDescriptor} from '../interfaces'\nimport {nameId} from './JssSheetManager'\n\nfunction addDebugInfo<V: Object>(obj: V): V {\n    if (obj[nameId] === undefined) {\n        for (let k in obj) {\n            const prop = obj[k]\n            if (prop && typeof prop === 'object') {\n                prop[nameId] = k\n            }\n        }\n    }\n    return obj\n}\n\nfunction themeProp<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    const className: string = proto.constructor.displayName || proto.constructor.name\n    const getSheet: (() => V) | void = descr.get\n    const value: V | void = descr.value\n    if (getSheet === undefined && value === undefined) {\n        throw new Error(`Need ${className} { @theme get ${name}() }`)\n    }\n\n    if (getSheet) {\n        proto[`${name}#`] = getSheet\n    }\n\n    return {\n        enumerable: descr.enumerable,\n        configurable: descr.configurable,\n        get(): V {\n            const obj: Object = value || this[`${name}#`]()\n            return (addDebugInfo(obj): any)\n        }\n    }\n}\n\ndeclare function theme<V>(): () => typeof themeProp\ndeclare function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n): TypedPropertyDescriptor<*>\n\nexport default function theme<V: Object>(\n    proto: Object,\n    name: string,\n    descr: TypedPropertyDescriptor<V>\n) {\n    return themeProp(proto, name, descr)\n}\n\ntheme.fn = addDebugInfo\n","/** Virtual DOM Node */\nexport function VNode() {}\n","/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nexport default {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n\t *\t@name syncComponentUpdates\n\t *\t@type Boolean\n\t *\t@default true\n\t */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n\t *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n\t */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virutal DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/** Managed queue of dirty components to be re-rendered */\n\nlet items = [];\n\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nexport function rerender() {\n\tlet p, list = items;\n\titems = [];\n\twhile ( (p = list.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hyrdating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nexport function createNode(nodeName, isSvg) {\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value==null ? '' : value);\n\t\tif (value==null || value===false) node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink\\:?/, '')));\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) { }\n}\n\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { removeNode } from '../dom/index';\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c=mounts.pop())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nconst components = {};\n\n\n/** Reclaim a component for later re-use by the recycler. */\nexport function collectComponent(component) {\n\tlet name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nexport function createComponent(Ctor, props, context) {\n\tlet list = components[Ctor.name],\n\t\tinst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\tif (list) {\n\t\tfor (let i=list.length; i--; ) {\n\t\t\tif (list[i].constructor===Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, collectComponent } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nexport function setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif ((component.__ref = props.ref)) delete props.ref;\n\tif ((component.__key = props.key)) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t}\n\telse if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts!==NO_RENDER) {\n\t\tif (opts===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nexport function renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\trendered, inst, cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks!=null) {\n\t\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.context = context;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.props = props;\n\n\t/** @public\n\t *\t@type {object}\n\t */\n\tthis.state = this.state || {};\n}\n\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n\t *\t@param {object} nextProps\n\t *\t@param {object} nextState\n\t *\t@param {object} nextContext\n\t *\t@returns {Boolean} should the component re-render\n\t *\t@name shouldComponentUpdate\n\t *\t@function\n\t */\n\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n\t *\t@param {object} state\t\tA hash of state properties to update with new values\n\t *\t@param {function} callback\tA function to be called once component state is updated\n\t */\n\tsetState(state, callback) {\n\t\tlet s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state==='function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n\t *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n\t *\t@private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n\t *\t@param {object} state\t\tThe component's current state\n\t *\t@param {object} context\t\tContext object (if a parent component has provided context)\n\t *\t@returns VNode\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n\nimport { options } from 'preact';\n\n// Internal helpers from preact\nimport { ATTR_KEY } from '../src/constants';\n\n/**\n * Return a ReactElement-compatible object for the current state of a preact\n * component.\n */\nfunction createReactElement(component) {\n\treturn {\n\t\ttype: component.constructor,\n\t\tkey: component.key,\n\t\tref: null, // Unsupported\n\t\tprops: component.props\n\t};\n}\n\n/**\n * Create a ReactDOMComponent-compatible object for a given DOM node rendered\n * by preact.\n *\n * This implements the subset of the ReactDOMComponent interface that\n * React DevTools requires in order to display DOM nodes in the inspector with\n * the correct type and properties.\n *\n * @param {Node} node\n */\nfunction createReactDOMComponent(node) {\n\tconst childNodes = node.nodeType === Node.ELEMENT_NODE ?\n\t\tArray.from(node.childNodes) : [];\n\n\tconst isText = node.nodeType === Node.TEXT_NODE;\n\n\treturn {\n\t\t// --- ReactDOMComponent interface\n\t\t_currentElement: isText ? node.textContent : {\n\t\t\ttype: node.nodeName.toLowerCase(),\n\t\t\tprops: node[ATTR_KEY]\n\t\t},\n\t\t_renderedChildren: childNodes.map(child => {\n\t\t\tif (child._component) {\n\t\t\t\treturn updateReactComponent(child._component);\n\t\t\t}\n\t\t\treturn updateReactComponent(child);\n\t\t}),\n\t\t_stringText: isText ? node.textContent : null,\n\n\t\t// --- Additional properties used by preact devtools\n\n\t\t// A flag indicating whether the devtools have been notified about the\n\t\t// existence of this component instance yet.\n\t\t// This is used to send the appropriate notifications when DOM components\n\t\t// are added or updated between composite component updates.\n\t\t_inDevTools: false,\n\t\tnode\n\t};\n}\n\n/**\n * Return the name of a component created by a `ReactElement`-like object.\n *\n * @param {ReactElement} element\n */\nfunction typeName(element) {\n\tif (typeof element.type === 'function') {\n\t\treturn element.type.displayName || element.type.name;\n\t}\n\treturn element.type;\n}\n\n/**\n * Return a ReactCompositeComponent-compatible object for a given preact\n * component instance.\n *\n * This implements the subset of the ReactCompositeComponent interface that\n * the DevTools requires in order to walk the component tree and inspect the\n * component's properties.\n *\n * See https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/getData.js\n */\nfunction createReactCompositeComponent(component) {\n\tconst _currentElement = createReactElement(component);\n\tconst node = component.base;\n\n\tlet instance = {\n\t\t// --- ReactDOMComponent properties\n\t\tgetName() {\n\t\t\treturn typeName(_currentElement);\n\t\t},\n\t\t_currentElement: createReactElement(component),\n\t\tprops: component.props,\n\t\tstate: component.state,\n\t\tforceUpdate: component.forceUpdate && component.forceUpdate.bind(component),\n\t\tsetState: component.setState && component.setState.bind(component),\n\n\t\t// --- Additional properties used by preact devtools\n\t\tnode\n\t};\n\n\t// React DevTools exposes the `_instance` field of the selected item in the\n\t// component tree as `$r` in the console.  `_instance` must refer to a\n\t// React Component (or compatible) class instance with `props` and `state`\n\t// fields and `setState()`, `forceUpdate()` methods.\n\tinstance._instance = component;\n\n\t// If the root node returned by this component instance's render function\n\t// was itself a composite component, there will be a `_component` property\n\t// containing the child component instance.\n\tif (component._component) {\n\t\tinstance._renderedComponent = updateReactComponent(component._component);\n\t} else {\n\t\t// Otherwise, if the render() function returned an HTML/SVG element,\n\t\t// create a ReactDOMComponent-like object for the DOM node itself.\n\t\tinstance._renderedComponent = updateReactComponent(node);\n\t}\n\n\treturn instance;\n}\n\n/**\n * Map of Component|Node to ReactDOMComponent|ReactCompositeComponent-like\n * object.\n *\n * The same React*Component instance must be used when notifying devtools\n * about the initial mount of a component and subsequent updates.\n */\nlet instanceMap = typeof Map==='function' && new Map();\n\n/**\n * Update (and create if necessary) the ReactDOMComponent|ReactCompositeComponent-like\n * instance for a given preact component instance or DOM Node.\n *\n * @param {Component|Node} componentOrNode\n */\nfunction updateReactComponent(componentOrNode) {\n\tconst newInstance = componentOrNode instanceof Node ?\n\t\tcreateReactDOMComponent(componentOrNode) :\n\t\tcreateReactCompositeComponent(componentOrNode);\n\tif (instanceMap.has(componentOrNode)) {\n\t\tlet inst = instanceMap.get(componentOrNode);\n\t\tObject.assign(inst, newInstance);\n\t\treturn inst;\n\t}\n\tinstanceMap.set(componentOrNode, newInstance);\n\treturn newInstance;\n}\n\nfunction nextRootKey(roots) {\n\treturn '.' + Object.keys(roots).length;\n}\n\n/**\n * Find all root component instances rendered by preact in `node`'s children\n * and add them to the `roots` map.\n *\n * @param {DOMElement} node\n * @param {[key: string] => ReactDOMComponent|ReactCompositeComponent}\n */\nfunction findRoots(node, roots) {\n\tArray.from(node.childNodes).forEach(child => {\n\t\tif (child._component) {\n\t\t\troots[nextRootKey(roots)] = updateReactComponent(child._component);\n\t\t} else {\n\t\t\tfindRoots(child, roots);\n\t\t}\n\t});\n}\n\n/**\n * Create a bridge for exposing preact's component tree to React DevTools.\n *\n * It creates implementations of the interfaces that ReactDOM passes to\n * devtools to enable it to query the component tree and hook into component\n * updates.\n *\n * See https://github.com/facebook/react/blob/59ff7749eda0cd858d5ee568315bcba1be75a1ca/src/renderers/dom/ReactDOM.js\n * for how ReactDOM exports its internals for use by the devtools and\n * the `attachRenderer()` function in\n * https://github.com/facebook/react-devtools/blob/e31ec5825342eda570acfc9bcb43a44258fceb28/backend/attachRenderer.js\n * for how the devtools consumes the resulting objects.\n */\nfunction createDevToolsBridge() {\n\t// The devtools has different paths for interacting with the renderers from\n\t// React Native, legacy React DOM and current React DOM.\n\t//\n\t// Here we emulate the interface for the current React DOM (v15+) lib.\n\n\t// ReactDOMComponentTree-like object\n\tconst ComponentTree = {\n\t\tgetNodeFromInstance(instance) {\n\t\t\treturn instance.node;\n\t\t},\n\t\tgetClosestInstanceFromNode(node) {\n\t\t\twhile (node && !node._component) {\n\t\t\t\tnode = node.parentNode;\n\t\t\t}\n\t\t\treturn node ? updateReactComponent(node._component) : null;\n\t\t}\n\t};\n\n\t// Map of root ID (the ID is unimportant) to component instance.\n\tlet roots = {};\n\tfindRoots(document.body, roots);\n\n\t// ReactMount-like object\n\t//\n\t// Used by devtools to discover the list of root component instances and get\n\t// notified when new root components are rendered.\n\tconst Mount = {\n\t\t_instancesByReactRootID: roots,\n\n\t\t// Stub - React DevTools expects to find this method and replace it\n\t\t// with a wrapper in order to observe new root components being added\n\t\t_renderNewRootComponent(/* instance, ... */) { }\n\t};\n\n\t// ReactReconciler-like object\n\tconst Reconciler = {\n\t\t// Stubs - React DevTools expects to find these methods and replace them\n\t\t// with wrappers in order to observe components being mounted, updated and\n\t\t// unmounted\n\t\tmountComponent(/* instance, ... */) { },\n\t\tperformUpdateIfNecessary(/* instance, ... */) { },\n\t\treceiveComponent(/* instance, ... */) { },\n\t\tunmountComponent(/* instance, ... */) { }\n\t};\n\n\t/** Notify devtools that a new component instance has been mounted into the DOM. */\n\tconst componentAdded = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tif (isRootComponent(component)) {\n\t\t\tinstance._rootID = nextRootKey(roots);\n\t\t\troots[instance._rootID] = instance;\n\t\t\tMount._renderNewRootComponent(instance);\n\t\t}\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tchildInst._inDevTools = true;\n\t\t\tReconciler.mountComponent(childInst);\n\t\t});\n\t\tReconciler.mountComponent(instance);\n\t};\n\n\t/** Notify devtools that a component has been updated with new props/state. */\n\tconst componentUpdated = component => {\n\t\tconst prevRenderedChildren = [];\n\t\tvisitNonCompositeChildren(instanceMap.get(component), childInst => {\n\t\t\tprevRenderedChildren.push(childInst);\n\t\t});\n\n\t\t// Notify devtools about updates to this component and any non-composite\n\t\t// children\n\t\tconst instance = updateReactComponent(component);\n\t\tReconciler.receiveComponent(instance);\n\t\tvisitNonCompositeChildren(instance, childInst => {\n\t\t\tif (!childInst._inDevTools) {\n\t\t\t\t// New DOM child component\n\t\t\t\tchildInst._inDevTools = true;\n\t\t\t\tReconciler.mountComponent(childInst);\n\t\t\t} else {\n\t\t\t\t// Updated DOM child component\n\t\t\t\tReconciler.receiveComponent(childInst);\n\t\t\t}\n\t\t});\n\n\t\t// For any non-composite children that were removed by the latest render,\n\t\t// remove the corresponding ReactDOMComponent-like instances and notify\n\t\t// the devtools\n\t\tprevRenderedChildren.forEach(childInst => {\n\t\t\tif (!document.body.contains(childInst.node)) {\n\t\t\t\tinstanceMap.delete(childInst.node);\n\t\t\t\tReconciler.unmountComponent(childInst);\n\t\t\t}\n\t\t});\n\t};\n\n\t/** Notify devtools that a component has been unmounted from the DOM. */\n\tconst componentRemoved = component => {\n\t\tconst instance = updateReactComponent(component);\n\t\tvisitNonCompositeChildren(childInst => {\n\t\t\tinstanceMap.delete(childInst.node);\n\t\t\tReconciler.unmountComponent(childInst);\n\t\t});\n\t\tReconciler.unmountComponent(instance);\n\t\tinstanceMap.delete(component);\n\t\tif (instance._rootID) {\n\t\t\tdelete roots[instance._rootID];\n\t\t}\n\t};\n\n\treturn {\n\t\tcomponentAdded,\n\t\tcomponentUpdated,\n\t\tcomponentRemoved,\n\n\t\t// Interfaces passed to devtools via __REACT_DEVTOOLS_GLOBAL_HOOK__.inject()\n\t\tComponentTree,\n\t\tMount,\n\t\tReconciler\n\t};\n}\n\n/**\n * Return `true` if a preact component is a top level component rendered by\n * `render()` into a container Element.\n */\nfunction isRootComponent(component) {\n\t// `_parentComponent` is actually `__u` after minification\n\tif (component._parentComponent || component.__u) {\n\t\t// Component with a composite parent\n\t\treturn false;\n\t}\n\tif (component.base.parentElement && component.base.parentElement[ATTR_KEY]) {\n\t\t// Component with a parent DOM element rendered by Preact\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * Visit all child instances of a ReactCompositeComponent-like object that are\n * not composite components (ie. they represent DOM elements or text)\n *\n * @param {Component} component\n * @param {(Component) => void} visitor\n */\nfunction visitNonCompositeChildren(component, visitor) {\n\tif (component._renderedComponent) {\n\t\tif (!component._renderedComponent._component) {\n\t\t\tvisitor(component._renderedComponent);\n\t\t\tvisitNonCompositeChildren(component._renderedComponent, visitor);\n\t\t}\n\t} else if (component._renderedChildren) {\n\t\tcomponent._renderedChildren.forEach(child => {\n\t\t\tvisitor(child);\n\t\t\tif (!child._component) visitNonCompositeChildren(child, visitor);\n\t\t});\n\t}\n}\n\n/**\n * Create a bridge between the preact component tree and React's dev tools\n * and register it.\n *\n * After this function is called, the React Dev Tools should be able to detect\n * \"React\" on the page and show the component tree.\n *\n * This function hooks into preact VNode creation in order to expose functional\n * components correctly, so it should be called before the root component(s)\n * are rendered.\n *\n * Returns a cleanup function which unregisters the hooks.\n */\nexport function initDevTools() {\n\tif (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n\t\t// React DevTools are not installed\n\t\treturn;\n\t}\n\n\t// Notify devtools when preact components are mounted, updated or unmounted\n\tconst bridge = createDevToolsBridge();\n\n\tconst nextAfterMount = options.afterMount;\n\toptions.afterMount = component => {\n\t\tbridge.componentAdded(component);\n\t\tif (nextAfterMount) nextAfterMount(component);\n\t};\n\n\tconst nextAfterUpdate = options.afterUpdate;\n\toptions.afterUpdate = component => {\n\t\tbridge.componentUpdated(component);\n\t\tif (nextAfterUpdate) nextAfterUpdate(component);\n\t};\n\n\tconst nextBeforeUnmount = options.beforeUnmount;\n\toptions.beforeUnmount = component => {\n\t\tbridge.componentRemoved(component);\n\t\tif (nextBeforeUnmount) nextBeforeUnmount(component);\n\t};\n\n\t// Notify devtools about this instance of \"React\"\n\t__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(bridge);\n\n\treturn () => {\n\t\toptions.afterMount = nextAfterMount;\n\t\toptions.afterUpdate = nextAfterUpdate;\n\t\toptions.beforeUnmount = nextBeforeUnmount;\n\t};\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nexports['default'] = function (styles) {\n  // eslint-disable-next-line no-shadow\n  function extract(styles) {\n    var to = null;\n\n    for (var key in styles) {\n      var value = styles[key];\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      if (type === 'function') {\n        if (!to) to = {};\n        to[key] = value;\n      } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n        var extracted = extract(value);\n        if (extracted) {\n          if (!to) to = {};\n          to[key] = extracted;\n        }\n      }\n    }\n\n    return to;\n  }\n\n  return extract(styles);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCssValue;\nvar join = function join(value, by) {\n  var result = '';\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n  return result;\n};\n\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\nfunction toCssValue(value) {\n  var ignoreImportant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (!Array.isArray(value)) return value;\n\n  var cssValue = '';\n\n  // Support space separated values via `[['5px', '10px']]`.\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', ');\n\n  // Add !important, because it was ignored.\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sheets registry to access them all at one place.\n */\nvar SheetsRegistry = function () {\n  function SheetsRegistry() {\n    _classCallCheck(this, SheetsRegistry);\n\n    this.registry = [];\n  }\n\n  _createClass(SheetsRegistry, [{\n    key: 'add',\n\n\n    /**\n     * Register a Style Sheet.\n     */\n    value: function add(sheet) {\n      var registry = this.registry;\n      var index = sheet.options.index;\n\n\n      if (registry.indexOf(sheet) !== -1) return;\n\n      if (registry.length === 0 || index >= this.index) {\n        registry.push(sheet);\n        return;\n      }\n\n      // Find a position.\n      for (var i = 0; i < registry.length; i++) {\n        if (registry[i].options.index > index) {\n          registry.splice(i, 0, sheet);\n          return;\n        }\n      }\n    }\n\n    /**\n     * Reset the registry.\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.registry = [];\n    }\n\n    /**\n     * Remove a Style Sheet.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(sheet) {\n      var index = this.registry.indexOf(sheet);\n      this.registry.splice(index, 1);\n    }\n\n    /**\n     * Convert all attached sheets to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.registry.filter(function (sheet) {\n        return sheet.attached;\n      }).map(function (sheet) {\n        return sheet.toString(options);\n      }).join('\\n');\n    }\n  }, {\n    key: 'index',\n\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\nexports['default'] = SheetsRegistry;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\nvar SheetsManager = function () {\n  function SheetsManager() {\n    _classCallCheck(this, SheetsManager);\n\n    this.sheets = [];\n    this.refs = [];\n    this.keys = [];\n  }\n\n  _createClass(SheetsManager, [{\n    key: 'get',\n    value: function get(key) {\n      var index = this.keys.indexOf(key);\n      return this.sheets[index];\n    }\n  }, {\n    key: 'add',\n    value: function add(key, sheet) {\n      var sheets = this.sheets,\n          refs = this.refs,\n          keys = this.keys;\n\n      var index = sheets.indexOf(sheet);\n\n      if (index !== -1) return index;\n\n      sheets.push(sheet);\n      refs.push(0);\n      keys.push(key);\n\n      return sheets.length - 1;\n    }\n  }, {\n    key: 'manage',\n    value: function manage(key) {\n      var index = this.keys.indexOf(key);\n      var sheet = this.sheets[index];\n      if (this.refs[index] === 0) sheet.attach();\n      this.refs[index]++;\n      if (!this.keys[index]) this.keys.splice(index, 0, key);\n      return sheet;\n    }\n  }, {\n    key: 'unmanage',\n    value: function unmanage(key) {\n      var index = this.keys.indexOf(key);\n      if (index === -1) {\n        // eslint-ignore-next-line no-console\n        (0, _warning2['default'])(false, \"SheetsManager: can't find sheet to unmanage\");\n        return;\n      }\n      if (this.refs[index] > 0) {\n        this.refs[index]--;\n        if (this.refs[index] === 0) this.sheets[index].detach();\n      }\n    }\n  }, {\n    key: 'size',\n    get: function get() {\n      return this.keys.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n\nexports['default'] = SheetsManager;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = toCss;\n\nvar _toCssValue = require('./toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str, indent) {\n  var result = '';\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }return result + str;\n}\n\n/**\n * Converts a Rule to CSS string.\n */\n\nfunction toCss(selector, style) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var result = '';\n\n  if (!style) return result;\n\n  var _options$indent = options.indent,\n      indent = _options$indent === undefined ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n\n\n  indent++;\n\n  // Apply fallbacks first.\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n        for (var prop in fallback) {\n          var value = fallback[prop];\n          if (value != null) {\n            result += '\\n' + indentStr(prop + ': ' + (0, _toCssValue2['default'])(value) + ';', indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n        if (_value != null) {\n          result += '\\n' + indentStr(_prop + ': ' + (0, _toCssValue2['default'])(_value) + ';', indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      result += '\\n' + indentStr(_prop2 + ': ' + (0, _toCssValue2['default'])(_value2) + ';', indent);\n    }\n  }\n\n  // Allow empty style in this case, because properties will be added dynamically.\n  if (!result && !options.allowEmpty) return result;\n\n  indent--;\n  result = indentStr(selector + ' {' + result + '\\n', indent) + indentStr('}', indent);\n\n  return result;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleRule = function () {\n  function StyleRule(key, style, options) {\n    _classCallCheck(this, StyleRule);\n\n    this.type = 'style';\n    this.isProcessed = false;\n    var sheet = options.sheet,\n        Renderer = options.Renderer,\n        selector = options.selector;\n\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (selector) this.selectorText = selector;\n    this.renderer = sheet ? sheet.renderer : new Renderer();\n  }\n\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  _createClass(StyleRule, [{\n    key: 'prop',\n\n\n    /**\n     * Get or set a style property.\n     */\n    value: function prop(name, value) {\n      // It's a getter.\n      if (value === undefined) return this.style[name];\n\n      // Don't do anything if the value has not changed.\n      if (this.style[name] === value) return this;\n\n      value = this.options.jss.plugins.onChangeValue(value, name, this);\n\n      var isEmpty = value == null || value === false;\n      var isDefined = name in this.style;\n\n      // Value is empty and wasn't defined before.\n      if (isEmpty && !isDefined) return this;\n\n      // We are going to remove this value.\n      var remove = isEmpty && isDefined;\n\n      if (remove) delete this.style[name];else this.style[name] = value;\n\n      // Renderable is defined if StyleSheet option `link` is true.\n      if (this.renderable) {\n        if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, value);\n        return this;\n      }\n\n      var sheet = this.options.sheet;\n\n      if (sheet && sheet.attached) {\n        (0, _warning2['default'])(false, 'Rule is not linked. Missing sheet option \"link: true\".');\n      }\n      return this;\n    }\n\n    /**\n     * Apply rule to an element inline.\n     */\n\n  }, {\n    key: 'applyTo',\n    value: function applyTo(renderable) {\n      var json = this.toJSON();\n      for (var prop in json) {\n        this.renderer.setProperty(renderable, prop, json[prop]);\n      }return this;\n    }\n\n    /**\n     * Returns JSON representation of the rule.\n     * Fallbacks are not supported.\n     * Useful for inline styles.\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {};\n      for (var prop in this.style) {\n        var value = this.style[prop];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = (0, _toCssValue2['default'])(value);\n      }\n      return json;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n      var opts = link ? _extends({}, options, { allowEmpty: true }) : options;\n      return (0, _toCss2['default'])(this.selector, this.style, opts);\n    }\n  }, {\n    key: 'selector',\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n\n      this.selectorText = selector;\n\n      if (!this.renderable) return;\n\n      var hasChanged = this.renderer.setSelector(this.renderable, selector);\n\n      // If selector setter is not implemented, rerender the rule.\n      if (!hasChanged && this.renderable) {\n        var renderable = this.renderer.replaceRule(this.renderable, this);\n        if (renderable) this.renderable = renderable;\n      }\n    }\n\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}();\n\nexports['default'] = StyleRule;","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = function (value) {\n  return value && value[_symbolObservable2['default']] && value === value[_symbolObservable2['default']]();\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports['default'] = cloneStyle;\n\nvar _isObservable = require('./isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar isArray = Array.isArray;\nfunction cloneStyle(style) {\n  // Support empty values in case user ends up with them by accident.\n  if (style == null) return style;\n\n  // Support string value for SimpleRule.\n  var typeOfStyle = typeof style === 'undefined' ? 'undefined' : _typeof(style);\n\n  if (typeOfStyle === 'string' || typeOfStyle === 'number' || typeOfStyle === 'function') {\n    return style;\n  }\n\n  // Support array for FontFaceRule.\n  if (isArray(style)) return style.map(cloneStyle);\n\n  // Support Observable styles.  Observables are immutable, so we don't need to\n  // copy them.\n  if ((0, _isObservable2['default'])(style)) return style;\n\n  var newStyle = {};\n  for (var name in style) {\n    var value = style[name];\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      newStyle[name] = cloneStyle(value);\n      continue;\n    }\n    newStyle[name] = value;\n  }\n\n  return newStyle;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = createRule;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _cloneStyle = require('../utils/cloneStyle');\n\nvar _cloneStyle2 = _interopRequireDefault(_cloneStyle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Create a rule instance.\n */\nfunction createRule() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'unnamed';\n  var decl = arguments[1];\n  var options = arguments[2];\n  var jss = options.jss;\n\n  var declCopy = (0, _cloneStyle2['default'])(decl);\n\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule;\n\n  // It is an at-rule and it has no instance.\n  if (name[0] === '@') {\n    (0, _warning2['default'])(false, '[JSS] Unknown at-rule %s', name);\n  }\n\n  return new _StyleRule2['default'](name, declCopy, options);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = linkRule;\n/**\n * Link rule with CSSStyleRule and nested rules with corresponding nested cssRules if both exists.\n */\nfunction linkRule(rule, cssRule) {\n  rule.renderable = cssRule;\n  if (rule.rules && cssRule.cssRules) rule.rules.link(cssRule.cssRules);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar CSS = global.CSS;\n\nvar env = process.env.NODE_ENV;\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`])/g;\n\nexports['default'] = function (str) {\n  // We don't need to escape it in production, because we are not using user's\n  // input for selectors, we are generating a valid selector.\n  if (env === 'production') return str;\n\n  if (!CSS || !CSS.escape) {\n    return str.replace(escapeRegex, '\\\\$1');\n  }\n\n  return CSS.escape(str);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _createRule = require('./utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _escape = require('./utils/escape');\n\nvar _escape2 = _interopRequireDefault(_escape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Contains rules objects and allows adding/removing etc.\n * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n */\nvar RuleList = function () {\n\n  // Original styles object.\n  function RuleList(options) {\n    _classCallCheck(this, RuleList);\n\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n\n    this.options = options;\n    this.classes = options.classes;\n  }\n\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  // Used to ensure correct rules order.\n\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n\n\n  _createClass(RuleList, [{\n    key: 'add',\n    value: function add(name, decl, options) {\n      var _options = this.options,\n          parent = _options.parent,\n          sheet = _options.sheet,\n          jss = _options.jss,\n          Renderer = _options.Renderer,\n          generateClassName = _options.generateClassName;\n\n\n      options = _extends({\n        classes: this.classes,\n        parent: parent,\n        sheet: sheet,\n        jss: jss,\n        Renderer: Renderer,\n        generateClassName: generateClassName\n      }, options);\n\n      if (!options.selector && this.classes[name]) {\n        options.selector = '.' + (0, _escape2['default'])(this.classes[name]);\n      }\n\n      this.raw[name] = decl;\n\n      var rule = (0, _createRule2['default'])(name, decl, options);\n\n      var className = void 0;\n\n      if (!options.selector && rule instanceof _StyleRule2['default']) {\n        className = generateClassName(rule, sheet);\n        rule.selector = '.' + (0, _escape2['default'])(className);\n      }\n\n      this.register(rule, className);\n\n      var index = options.index === undefined ? this.index.length : options.index;\n      this.index.splice(index, 0, rule);\n\n      return rule;\n    }\n\n    /**\n     * Get a rule.\n     */\n\n  }, {\n    key: 'get',\n    value: function get(name) {\n      return this.map[name];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(rule) {\n      this.unregister(rule);\n      this.index.splice(this.indexOf(rule), 1);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.index.indexOf(rule);\n    }\n\n    /**\n     * Run `onProcessRule()` plugins on every rule.\n     */\n\n  }, {\n    key: 'process',\n    value: function process() {\n      var plugins = this.options.jss.plugins;\n      // We need to clone array because if we modify the index somewhere else during a loop\n      // we end up with very hard-to-track-down side effects.\n\n      this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n    }\n\n    /**\n     * Register a rule in `.map` and `.classes` maps.\n     */\n\n  }, {\n    key: 'register',\n    value: function register(rule, className) {\n      this.map[rule.key] = rule;\n      if (rule instanceof _StyleRule2['default']) {\n        this.map[rule.selector] = rule;\n        if (className) this.classes[rule.key] = className;\n      }\n    }\n\n    /**\n     * Unregister a rule.\n     */\n\n  }, {\n    key: 'unregister',\n    value: function unregister(rule) {\n      delete this.map[rule.key];\n      if (rule instanceof _StyleRule2['default']) {\n        delete this.map[rule.selector];\n        delete this.classes[rule.key];\n      }\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      var _options2 = this.options,\n          plugins = _options2.jss.plugins,\n          sheet = _options2.sheet;\n\n      if (typeof name === 'string') {\n        plugins.onUpdate(data, this.get(name), sheet);\n        return;\n      }\n\n      for (var index = 0; index < this.index.length; index++) {\n        plugins.onUpdate(name, this.index[index], sheet);\n      }\n    }\n\n    /**\n     * Link renderable rules with CSSRuleList.\n     */\n\n  }, {\n    key: 'link',\n    value: function link(cssRules) {\n      var map = this.options.sheet.renderer.getUnescapedKeysMap(this.index);\n\n      for (var i = 0; i < cssRules.length; i++) {\n        var cssRule = cssRules[i];\n        var _key = this.options.sheet.renderer.getKey(cssRule);\n        if (map[_key]) _key = map[_key];\n        var rule = this.map[_key];\n        if (rule) (0, _linkRule2['default'])(rule, cssRule);\n      }\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var str = '';\n      var sheet = this.options.sheet;\n\n      var link = sheet ? sheet.options.link : false;\n\n      for (var index = 0; index < this.index.length; index++) {\n        var rule = this.index[index];\n        var css = rule.toString(options);\n\n        // No need to render an empty rule.\n        if (!css && !link) continue;\n\n        if (str) str += '\\n';\n        str += css;\n      }\n\n      return str;\n    }\n  }]);\n\n  return RuleList;\n}();\n\nexports['default'] = RuleList;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nvar _SheetsRegistry2 = _interopRequireDefault(_SheetsRegistry);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\nexports['default'] = new _SheetsRegistry2['default']();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _linkRule = require('./utils/linkRule');\n\nvar _linkRule2 = _interopRequireDefault(_linkRule);\n\nvar _RuleList = require('./RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StyleSheet = function () {\n  function StyleSheet(styles, options) {\n    _classCallCheck(this, StyleSheet);\n\n    this.attached = false;\n    this.deployed = false;\n    this.linked = false;\n    this.classes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes\n    });\n    this.renderer = new options.Renderer(this);\n    this.rules = new _RuleList2['default'](this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  _createClass(StyleSheet, [{\n    key: 'attach',\n    value: function attach() {\n      if (this.attached) return this;\n      if (!this.deployed) this.deploy();\n      this.renderer.attach();\n      if (!this.linked && this.options.link) this.link();\n      this.attached = true;\n      return this;\n    }\n\n    /**\n     * Remove renderable from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      if (!this.attached) return this;\n      this.renderer.detach();\n      this.attached = false;\n      return this;\n    }\n\n    /**\n     * Add a rule to the current stylesheet.\n     * Will insert a rule also after the stylesheet has been rendered first time.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, decl, options) {\n      var queue = this.queue;\n\n      // Plugins can create rules.\n      // In order to preserve the right order, we need to queue all `.addRule` calls,\n      // which happen after the first `rules.add()` call.\n\n      if (this.attached && !queue) this.queue = [];\n\n      var rule = this.rules.add(name, decl, options);\n      this.options.jss.plugins.onProcessRule(rule);\n\n      if (this.attached) {\n        if (!this.deployed) return rule;\n        // Don't insert rule directly if there is no stringified version yet.\n        // It will be inserted all together when .attach is called.\n        if (queue) queue.push(rule);else {\n          this.insertRule(rule);\n          if (this.queue) {\n            this.queue.forEach(this.insertRule, this);\n            this.queue = undefined;\n          }\n        }\n        return rule;\n      }\n\n      // We can't add rules to a detached style node.\n      // We will redeploy the sheet once user will attach it.\n      this.deployed = false;\n\n      return rule;\n    }\n\n    /**\n     * Insert rule into the StyleSheet\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule) {\n      var renderable = this.renderer.insertRule(rule);\n      if (renderable && this.options.link) (0, _linkRule2['default'])(rule, renderable);\n    }\n\n    /**\n     * Create and add rules.\n     * Will render also after Style Sheet was rendered the first time.\n     */\n\n  }, {\n    key: 'addRules',\n    value: function addRules(styles, options) {\n      var added = [];\n      for (var name in styles) {\n        added.push(this.addRule(name, styles[name], options));\n      }\n      return added;\n    }\n\n    /**\n     * Get a rule by name.\n     */\n\n  }, {\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Delete a rule by name.\n     * Returns `true`: if rule has been deleted from the DOM.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(name) {\n      var rule = this.rules.get(name);\n\n      if (!rule) return false;\n\n      this.rules.remove(rule);\n\n      if (this.attached && rule.renderable) {\n        return this.renderer.deleteRule(rule.renderable);\n      }\n\n      return true;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Deploy pure CSS string to a renderable.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      this.renderer.deploy();\n      this.deployed = true;\n      return this;\n    }\n\n    /**\n     * Link renderable CSS rules from sheet with their corresponding models.\n     */\n\n  }, {\n    key: 'link',\n    value: function link() {\n      var cssRules = this.renderer.getRules();\n\n      // Is undefined when VirtualRenderer is used.\n      if (cssRules) this.rules.link(cssRules);\n      this.linked = true;\n      return this;\n    }\n\n    /**\n     * Update the function values with a new data.\n     */\n\n  }, {\n    key: 'update',\n    value: function update(name, data) {\n      this.rules.update(name, data);\n      return this;\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.rules.toString(options);\n    }\n  }]);\n\n  return StyleSheet;\n}();\n\nexports['default'] = StyleSheet;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (global[ns] == null) global[ns] = 0;\n\n// Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\nexports['default'] = global[ns]++;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _StyleSheet = require('../StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _moduleId = require('./moduleId');\n\nvar _moduleId2 = _interopRequireDefault(_moduleId);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar maxRules = 1e10;\n\n\nvar env = process.env.NODE_ENV;\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nexports['default'] = function () {\n  var ruleCounter = 0;\n  var defaultPrefix = env === 'production' ? 'c' : '';\n\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      (0, _warning2['default'])(false, '[JSS] You might have a memory leak. Rule counter is at %s.', ruleCounter);\n    }\n\n    var prefix = defaultPrefix;\n    var jssId = '';\n\n    if (sheet) {\n      prefix = sheet.options.classNamePrefix || defaultPrefix;\n      if (sheet.options.jss.id != null) jssId += sheet.options.jss.id;\n    }\n\n    if (env === 'production') {\n      return '' + prefix + _moduleId2['default'] + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + '-' + _moduleId2['default'] + (jssId && '-' + jssId) + '-' + ruleCounter;\n  };\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PluginsRegistry = function () {\n  function PluginsRegistry() {\n    _classCallCheck(this, PluginsRegistry);\n\n    this.hooks = {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n\n      /**\n       * Call `onCreateRule` hooks and return an object if returned by a hook.\n       */\n    };\n  }\n\n  _createClass(PluginsRegistry, [{\n    key: 'onCreateRule',\n    value: function onCreateRule(name, decl, options) {\n      for (var i = 0; i < this.hooks.onCreateRule.length; i++) {\n        var rule = this.hooks.onCreateRule[i](name, decl, options);\n        if (rule) return rule;\n      }\n      return null;\n    }\n\n    /**\n     * Call `onProcessRule` hooks.\n     */\n\n  }, {\n    key: 'onProcessRule',\n    value: function onProcessRule(rule) {\n      if (rule.isProcessed) return;\n      var sheet = rule.options.sheet;\n\n      for (var i = 0; i < this.hooks.onProcessRule.length; i++) {\n        this.hooks.onProcessRule[i](rule, sheet);\n      }\n\n      // $FlowFixMe\n      if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n\n      rule.isProcessed = true;\n    }\n\n    /**\n     * Call `onProcessStyle` hooks.\n     */\n\n  }, {\n    key: 'onProcessStyle',\n    value: function onProcessStyle(style, rule, sheet) {\n      var nextStyle = style;\n\n      for (var i = 0; i < this.hooks.onProcessStyle.length; i++) {\n        nextStyle = this.hooks.onProcessStyle[i](nextStyle, rule, sheet);\n        // $FlowFixMe\n        rule.style = nextStyle;\n      }\n    }\n\n    /**\n     * Call `onProcessSheet` hooks.\n     */\n\n  }, {\n    key: 'onProcessSheet',\n    value: function onProcessSheet(sheet) {\n      for (var i = 0; i < this.hooks.onProcessSheet.length; i++) {\n        this.hooks.onProcessSheet[i](sheet);\n      }\n    }\n\n    /**\n     * Call `onUpdate` hooks.\n     */\n\n  }, {\n    key: 'onUpdate',\n    value: function onUpdate(data, rule, sheet) {\n      for (var i = 0; i < this.hooks.onUpdate.length; i++) {\n        this.hooks.onUpdate[i](data, rule, sheet);\n      }\n    }\n\n    /**\n     * Call `onChangeValue` hooks.\n     */\n\n  }, {\n    key: 'onChangeValue',\n    value: function onChangeValue(value, prop, rule) {\n      var processedValue = value;\n      for (var i = 0; i < this.hooks.onChangeValue.length; i++) {\n        processedValue = this.hooks.onChangeValue[i](processedValue, prop, rule);\n      }\n      return processedValue;\n    }\n\n    /**\n     * Register a plugin.\n     * If function is passed, it is a shortcut for `{onProcessRule}`.\n     */\n\n  }, {\n    key: 'use',\n    value: function use(plugin) {\n      for (var name in plugin) {\n        if (this.hooks[name]) this.hooks[name].push(plugin[name]);else (0, _warning2['default'])(false, '[JSS] Unknown hook \"%s\".', name);\n      }\n    }\n  }]);\n\n  return PluginsRegistry;\n}();\n\nexports['default'] = PluginsRegistry;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SimpleRule = function () {\n  function SimpleRule(key, value, options) {\n    _classCallCheck(this, SimpleRule);\n\n    this.type = 'simple';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  _createClass(SimpleRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.value)) {\n        var str = '';\n        for (var index = 0; index < this.value.length; index++) {\n          str += this.key + ' ' + this.value[index] + ';';\n          if (this.value[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return this.key + ' ' + this.value + ';';\n    }\n  }]);\n\n  return SimpleRule;\n}();\n\nexports['default'] = SimpleRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Rule for @keyframes\n */\nvar KeyframesRule = function () {\n  function KeyframesRule(key, frames, options) {\n    _classCallCheck(this, KeyframesRule);\n\n    this.type = 'keyframes';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, this.options, {\n        parent: this,\n        selector: name\n      }));\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(KeyframesRule, [{\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      if (inner) inner += '\\n';\n      return this.key + ' {\\n' + inner + '}';\n    }\n  }]);\n\n  return KeyframesRule;\n}();\n\nexports['default'] = KeyframesRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Conditional rule for @media, @supports\n */\nvar ConditionalRule = function () {\n  function ConditionalRule(key, styles, options) {\n    _classCallCheck(this, ConditionalRule);\n\n    this.type = 'conditional';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _RuleList2['default'](_extends({}, options, { parent: this }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(ConditionalRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { indent: 1 };\n\n      var inner = this.rules.toString(options);\n      return inner ? this.key + ' {\\n' + inner + '\\n}' : '';\n    }\n  }]);\n\n  return ConditionalRule;\n}();\n\nexports['default'] = ConditionalRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FontFaceRule = function () {\n  function FontFaceRule(key, style, options) {\n    _classCallCheck(this, FontFaceRule);\n\n    this.type = 'font-face';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(FontFaceRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.style)) {\n        var str = '';\n        for (var index = 0; index < this.style.length; index++) {\n          str += (0, _toCss2['default'])(this.key, this.style[index]);\n          if (this.style[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return FontFaceRule;\n}();\n\nexports['default'] = FontFaceRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _toCss = require('../utils/toCss');\n\nvar _toCss2 = _interopRequireDefault(_toCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ViewportRule = function () {\n  function ViewportRule(key, style, options) {\n    _classCallCheck(this, ViewportRule);\n\n    this.type = 'viewport';\n    this.isProcessed = false;\n\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   */\n\n\n  _createClass(ViewportRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return (0, _toCss2['default'])(this.key, this.style, options);\n    }\n  }]);\n\n  return ViewportRule;\n}();\n\nexports['default'] = ViewportRule;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SimpleRule = require('../rules/SimpleRule');\n\nvar _SimpleRule2 = _interopRequireDefault(_SimpleRule);\n\nvar _KeyframesRule = require('../rules/KeyframesRule');\n\nvar _KeyframesRule2 = _interopRequireDefault(_KeyframesRule);\n\nvar _ConditionalRule = require('../rules/ConditionalRule');\n\nvar _ConditionalRule2 = _interopRequireDefault(_ConditionalRule);\n\nvar _FontFaceRule = require('../rules/FontFaceRule');\n\nvar _FontFaceRule2 = _interopRequireDefault(_FontFaceRule);\n\nvar _ViewportRule = require('../rules/ViewportRule');\n\nvar _ViewportRule2 = _interopRequireDefault(_ViewportRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar classes = {\n  '@charset': _SimpleRule2['default'],\n  '@import': _SimpleRule2['default'],\n  '@namespace': _SimpleRule2['default'],\n  '@keyframes': _KeyframesRule2['default'],\n  '@media': _ConditionalRule2['default'],\n  '@supports': _ConditionalRule2['default'],\n  '@font-face': _FontFaceRule2['default'],\n  '@viewport': _ViewportRule2['default'],\n  '@-ms-viewport': _ViewportRule2['default']\n\n  /**\n   * Generate plugins which will register all rules.\n   */\n};\nexports['default'] = Object.keys(classes).map(function (key) {\n  // https://jsperf.com/indexof-vs-substr-vs-regex-at-the-beginning-3\n  var re = new RegExp('^' + key);\n  var onCreateRule = function onCreateRule(name, decl, options) {\n    return re.test(name) ? new classes[key](name, decl, options) : null;\n  };\n  return { onCreateRule: onCreateRule };\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nvar _isObservable = require('../utils/isObservable');\n\nvar _isObservable2 = _interopRequireDefault(_isObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (!(0, _isObservable2['default'])(decl)) return null;\n\n    // Cast `decl` to `Observable`, since it passed the type guard.\n    var style$ = decl;\n\n    var rule = (0, _createRule2['default'])(name, {}, options);\n\n    // TODO\n    // Call `stream.subscribe()` returns a subscription, which should be explicitly\n    // unsubscribed from when we know this sheet is no longer needed.\n    style$.subscribe(function (style) {\n      for (var prop in style) {\n        rule.prop(prop, style[prop]);\n      }\n    });\n\n    return rule;\n  },\n  onProcessRule: function onProcessRule(rule) {\n    if (!(rule instanceof _StyleRule2['default'])) return;\n    var styleRule = rule;\n    var style = styleRule.style;\n\n    var _loop = function _loop(prop) {\n      var value = style[prop];\n      if (!(0, _isObservable2['default'])(value)) return 'continue';\n      delete style[prop];\n      value.subscribe({\n        next: function next(nextValue) {\n          styleRule.prop(prop, nextValue);\n        }\n      });\n    };\n\n    for (var prop in style) {\n      var _ret = _loop(prop);\n\n      if (_ret === 'continue') continue;\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _RuleList = require('../RuleList');\n\nvar _RuleList2 = _interopRequireDefault(_RuleList);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createRule = require('../utils/createRule');\n\nvar _createRule2 = _interopRequireDefault(_createRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// A symbol replacement.\nvar now = Date.now();\n\nvar fnValuesNs = 'fnValues' + now;\nvar fnStyleNs = 'fnStyle' + ++now;\n\nexports['default'] = {\n  onCreateRule: function onCreateRule(name, decl, options) {\n    if (typeof decl !== 'function') return null;\n    var rule = (0, _createRule2['default'])(name, {}, options);\n    rule[fnStyleNs] = decl;\n    return rule;\n  },\n  onProcessStyle: function onProcessStyle(style, rule) {\n    var fn = {};\n    for (var prop in style) {\n      var value = style[prop];\n      if (typeof value !== 'function') continue;\n      delete style[prop];\n      fn[prop] = value;\n    }\n    rule = rule;\n    rule[fnValuesNs] = fn;\n    return style;\n  },\n  onUpdate: function onUpdate(data, rule) {\n    // It is a rules container like for e.g. ConditionalRule.\n    if (rule.rules instanceof _RuleList2['default']) {\n      rule.rules.update(data);\n      return;\n    }\n    if (!(rule instanceof _StyleRule2['default'])) return;\n\n    rule = rule;\n\n    // If we have a fn values map, it is a rule with function values.\n    if (rule[fnValuesNs]) {\n      for (var prop in rule[fnValuesNs]) {\n        rule.prop(prop, rule[fnValuesNs][prop](data));\n      }\n    }\n\n    rule = rule;\n\n    var fnStyle = rule[fnStyleNs];\n\n    // If we have a style function, the entire rule is dynamic and style object\n    // will be returned from that function.\n    if (fnStyle) {\n      var style = fnStyle(data);\n      for (var _prop in style) {\n        rule.prop(_prop, style[_prop]);\n      }\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _sheets = require('../sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Cache the value from the first time a function is called.\n */\nvar memoize = function memoize(fn) {\n  var value = void 0;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n\n/**\n * Get a style property value.\n */\nfunction getPropertyValue(cssRule, prop) {\n  try {\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n\n/**\n * Set a style property.\n */\nfunction setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = (0, _toCssValue2['default'])(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    }\n\n    cssRule.style.setProperty(prop, cssValue);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n  return true;\n}\n\n/**\n * Remove a style property.\n */\nfunction removeProperty(cssRule, prop) {\n  try {\n    cssRule.style.removeProperty(prop);\n  } catch (err) {\n    (0, _warning2['default'])(false, '[JSS] DOMException \"%s\" was thrown. Tried to remove property \"%s\".', err.message, prop);\n  }\n}\n\nvar CSSRuleTypes = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7\n\n  /**\n   * Get the CSS Rule key.\n   */\n\n};var getKey = function () {\n  var extractKey = function extractKey(cssText) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return cssText.substr(from, cssText.indexOf('{') - 1);\n  };\n\n  return function (cssRule) {\n    if (cssRule.type === CSSRuleTypes.STYLE_RULE) return cssRule.selectorText;\n    if (cssRule.type === CSSRuleTypes.KEYFRAMES_RULE) {\n      var name = cssRule.name;\n\n      if (name) return '@keyframes ' + name;\n\n      // There is no rule.name in the following browsers:\n      // - IE 9\n      // - Safari 7.1.8\n      // - Mobile Safari 9.0.0\n      var cssText = cssRule.cssText;\n\n      return '@' + extractKey(cssText, cssText.indexOf('keyframes'));\n    }\n\n    // Conditionals.\n    return extractKey(cssRule.cssText);\n  };\n}();\n\n/**\n * Set the selector.\n */\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText;\n\n  // Return false if setter was not successful.\n  // Currently works in chrome only.\n  return cssRule.selectorText === selectorText;\n}\n\n/**\n * Gets the `head` element upon the first call and caches it.\n */\nvar getHead = memoize(function () {\n  return document.head || document.getElementsByTagName('head')[0];\n});\n\n/**\n * Gets a map of rule keys, where the property is an unescaped key and value\n * is a potentially escaped one.\n * It is used to identify CSS rules and the corresponding JSS rules. As an identifier\n * for CSSStyleRule we normally use `selectorText`. Though if original selector text\n * contains escaped code points e.g. `:not(#\\\\20)`, CSSOM will compile it to `:not(# )`\n * and so CSS rule's `selectorText` won't match JSS rule selector.\n *\n * https://www.w3.org/International/questions/qa-escapes#cssescapes\n */\nvar getUnescapedKeysMap = function () {\n  var style = void 0;\n  var isAttached = false;\n\n  return function (rules) {\n    var map = {};\n    // https://github.com/facebook/flow/issues/2696\n    if (!style) style = document.createElement('style');\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (!(rule instanceof _StyleRule2['default'])) continue;\n      var selector = rule.selector;\n      // Only unescape selector over CSSOM if it contains a back slash.\n\n      if (selector && selector.indexOf('\\\\') !== -1) {\n        // Lazilly attach when needed.\n        if (!isAttached) {\n          getHead().appendChild(style);\n          isAttached = true;\n        }\n        style.textContent = selector + ' {}';\n        var _style = style,\n            sheet = _style.sheet;\n\n        if (sheet) {\n          var cssRules = sheet.cssRules;\n\n          if (cssRules) map[cssRules[0].selectorText] = rule.key;\n        }\n      }\n    }\n    if (isAttached) {\n      getHead().removeChild(style);\n      isAttached = false;\n    }\n    return map;\n  };\n}();\n\n/**\n * Find attached sheet with an index higher than the passed one.\n */\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find attached sheet with the highest index.\n */\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a comment with \"jss\" inside.\n */\nfunction findCommentNode(text) {\n  var head = getHead();\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry = _sheets2['default'].registry;\n\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet) return sheet.renderer.element;\n\n    // Otherwise insert after the last attached.\n    sheet = findHighestSheet(registry, options);\n    if (sheet) return sheet.renderer.element.nextElementSibling;\n  }\n\n  // Try to find a comment placeholder if registry is empty.\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) return comment.nextSibling;\n    // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n    (0, _warning2['default'])(insertionPoint === 'jss', '[JSS] Insertion point \"%s\" not found.', insertionPoint);\n  }\n\n  return null;\n}\n\n/**\n * Insert style element into the DOM.\n */\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n\n  var prevNode = findPrevNode(options);\n\n  if (prevNode) {\n    var parentNode = prevNode.parentNode;\n\n    if (parentNode) parentNode.insertBefore(style, prevNode);\n    return;\n  }\n\n  // Works with iframes and any node types.\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var _parentNode = insertionPointElement.parentNode;\n\n    if (_parentNode) _parentNode.insertBefore(style, insertionPointElement.nextSibling);else (0, _warning2['default'])(false, '[JSS] Insertion point is not in the DOM.');\n    return;\n  }\n\n  getHead().insertBefore(style, prevNode);\n}\n\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar DomRenderer = function () {\n  function DomRenderer(sheet) {\n    _classCallCheck(this, DomRenderer);\n\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.getKey = getKey;\n    this.getUnescapedKeysMap = getUnescapedKeysMap;\n    this.hasInsertedRules = false;\n\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) _sheets2['default'].add(sheet);\n\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || document.createElement('style');\n    this.element.type = 'text/css';\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      // In the case the element node is external and it is already in the DOM.\n      if (this.element.parentNode || !this.sheet) return;\n\n      // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n      // browsers remove those rules.\n      // TODO figure out if its a bug and if it is known.\n      // Workaround is to redeploy the sheet before attaching as a string.\n      if (this.hasInsertedRules) {\n        this.deploy();\n        this.hasInsertedRules = false;\n      }\n\n      insertStyle(this.element, this.sheet.options);\n    }\n\n    /**\n     * Remove style element from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n\n    /**\n     * Inject CSS string into element.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      if (!this.sheet) return;\n      this.element.textContent = '\\n' + this.sheet.toString() + '\\n';\n    }\n\n    /**\n     * Insert a rule into element.\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule, index) {\n      var sheet = this.element.sheet;\n      var cssRules = sheet.cssRules;\n\n      var str = rule.toString();\n      if (!index) index = cssRules.length;\n\n      if (!str) return false;\n\n      try {\n        sheet.insertRule(str, index);\n      } catch (err) {\n        (0, _warning2['default'])(false, '[JSS] Can not insert an unsupported rule \\n\\r%s', rule);\n        return false;\n      }\n      this.hasInsertedRules = true;\n\n      return cssRules[index];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(cssRule) {\n      var sheet = this.element.sheet;\n\n      var index = this.indexOf(cssRule);\n      if (index === -1) return false;\n      sheet.deleteRule(index);\n      return true;\n    }\n\n    /**\n     * Get index of a CSS Rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(cssRule) {\n      var cssRules = this.element.sheet.cssRules;\n\n      for (var _index = 0; _index < cssRules.length; _index++) {\n        if (cssRule === cssRules[_index]) return _index;\n      }\n      return -1;\n    }\n\n    /**\n     * Generate a new CSS rule and replace the existing one.\n     */\n\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule(cssRule, rule) {\n      var index = this.indexOf(cssRule);\n      var newCssRule = this.insertRule(rule, index);\n      this.element.sheet.deleteRule(index);\n      return newCssRule;\n    }\n\n    /**\n     * Get all rules elements.\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      return this.element.sheet.cssRules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports['default'] = DomRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable class-methods-use-this */\n\n/**\n * Rendering backend to do nothing in nodejs.\n */\nvar VirtualRenderer = function () {\n  function VirtualRenderer() {\n    _classCallCheck(this, VirtualRenderer);\n  }\n\n  _createClass(VirtualRenderer, [{\n    key: 'setProperty',\n    value: function setProperty() {\n      return true;\n    }\n  }, {\n    key: 'getPropertyValue',\n    value: function getPropertyValue() {\n      return '';\n    }\n  }, {\n    key: 'removeProperty',\n    value: function removeProperty() {}\n  }, {\n    key: 'setSelector',\n    value: function setSelector() {\n      return true;\n    }\n  }, {\n    key: 'getKey',\n    value: function getKey() {\n      return '';\n    }\n  }, {\n    key: 'attach',\n    value: function attach() {}\n  }, {\n    key: 'detach',\n    value: function detach() {}\n  }, {\n    key: 'deploy',\n    value: function deploy() {}\n  }, {\n    key: 'insertRule',\n    value: function insertRule() {\n      return false;\n    }\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule() {\n      return true;\n    }\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule() {\n      return false;\n    }\n  }, {\n    key: 'getRules',\n    value: function getRules() {}\n  }, {\n    key: 'indexOf',\n    value: function indexOf() {\n      return -1;\n    }\n  }]);\n\n  return VirtualRenderer;\n}();\n\nexports['default'] = VirtualRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nvar _StyleSheet = require('./StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _PluginsRegistry = require('./PluginsRegistry');\n\nvar _PluginsRegistry2 = _interopRequireDefault(_PluginsRegistry);\n\nvar _rules = require('./plugins/rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _observables = require('./plugins/observables');\n\nvar _observables2 = _interopRequireDefault(_observables);\n\nvar _functions = require('./plugins/functions');\n\nvar _functions2 = _interopRequireDefault(_functions);\n\nvar _sheets = require('./sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('./rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nvar _createGenerateClassName2 = _interopRequireDefault(_createGenerateClassName);\n\nvar _createRule2 = require('./utils/createRule');\n\nvar _createRule3 = _interopRequireDefault(_createRule2);\n\nvar _DomRenderer = require('./renderers/DomRenderer');\n\nvar _DomRenderer2 = _interopRequireDefault(_DomRenderer);\n\nvar _VirtualRenderer = require('./renderers/VirtualRenderer');\n\nvar _VirtualRenderer2 = _interopRequireDefault(_VirtualRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultPlugins = _rules2['default'].concat([_observables2['default'], _functions2['default']]);\n\nvar instanceCounter = 0;\n\nvar Jss = function () {\n  function Jss(options) {\n    _classCallCheck(this, Jss);\n\n    this.id = instanceCounter++;\n    this.version = \"9.8.0\";\n    this.plugins = new _PluginsRegistry2['default']();\n    this.options = {\n      createGenerateClassName: _createGenerateClassName2['default'],\n      Renderer: _isInBrowser2['default'] ? _DomRenderer2['default'] : _VirtualRenderer2['default'],\n      plugins: []\n    };\n    this.generateClassName = (0, _createGenerateClassName2['default'])();\n\n    // eslint-disable-next-line prefer-spread\n    this.use.apply(this, defaultPlugins);\n    this.setup(options);\n  }\n\n  _createClass(Jss, [{\n    key: 'setup',\n    value: function setup() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (options.createGenerateClassName) {\n        this.options.createGenerateClassName = options.createGenerateClassName;\n        // $FlowFixMe\n        this.generateClassName = options.createGenerateClassName();\n      }\n\n      if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n      if (options.virtual || options.Renderer) {\n        this.options.Renderer = options.Renderer || (options.virtual ? _VirtualRenderer2['default'] : _DomRenderer2['default']);\n      }\n\n      // eslint-disable-next-line prefer-spread\n      if (options.plugins) this.use.apply(this, options.plugins);\n\n      return this;\n    }\n\n    /**\n     * Create a Style Sheet.\n     */\n\n  }, {\n    key: 'createStyleSheet',\n    value: function createStyleSheet(styles) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var index = options.index;\n      if (typeof index !== 'number') {\n        index = _sheets2['default'].index === 0 ? 0 : _sheets2['default'].index + 1;\n      }\n      var sheet = new _StyleSheet2['default'](styles, _extends({}, options, {\n        jss: this,\n        generateClassName: options.generateClassName || this.generateClassName,\n        insertionPoint: this.options.insertionPoint,\n        Renderer: this.options.Renderer,\n        index: index\n      }));\n      this.plugins.onProcessSheet(sheet);\n\n      return sheet;\n    }\n\n    /**\n     * Detach the Style Sheet and remove it from the registry.\n     */\n\n  }, {\n    key: 'removeStyleSheet',\n    value: function removeStyleSheet(sheet) {\n      sheet.detach();\n      _sheets2['default'].remove(sheet);\n      return this;\n    }\n\n    /**\n     * Create a rule without a Style Sheet.\n     */\n\n  }, {\n    key: 'createRule',\n    value: function createRule(name) {\n      var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      // Enable rule without name for inline styles.\n      if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n        options = style;\n        style = name;\n        name = undefined;\n      }\n\n      // Cast from RuleFactoryOptions to RuleOptions\n      // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n      var ruleOptions = options;\n\n      ruleOptions.jss = this;\n      ruleOptions.Renderer = this.options.Renderer;\n      if (!ruleOptions.generateClassName) ruleOptions.generateClassName = this.generateClassName;\n      if (!ruleOptions.classes) ruleOptions.classes = {};\n      var rule = (0, _createRule3['default'])(name, style, ruleOptions);\n\n      if (!ruleOptions.selector && rule instanceof _StyleRule2['default']) {\n        rule.selector = '.' + ruleOptions.generateClassName(rule);\n      }\n\n      this.plugins.onProcessRule(rule);\n\n      return rule;\n    }\n\n    /**\n     * Register plugin. Passed function will be invoked with a rule instance.\n     */\n\n  }, {\n    key: 'use',\n    value: function use() {\n      var _this = this;\n\n      for (var _len = arguments.length, plugins = Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      }\n\n      plugins.forEach(function (plugin) {\n        // Avoids applying same plugin twice, at least based on ref.\n        if (_this.options.plugins.indexOf(plugin) === -1) {\n          _this.options.plugins.push(plugin);\n          _this.plugins.use(plugin);\n        }\n      });\n\n      return this;\n    }\n  }]);\n\n  return Jss;\n}();\n\nexports['default'] = Jss;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.createGenerateClassName = exports.sheets = exports.RuleList = exports.SheetsManager = exports.SheetsRegistry = exports.toCssValue = exports.getDynamicStyles = undefined;\n\nvar _getDynamicStyles = require('./utils/getDynamicStyles');\n\nObject.defineProperty(exports, 'getDynamicStyles', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getDynamicStyles)['default'];\n  }\n});\n\nvar _toCssValue = require('./utils/toCssValue');\n\nObject.defineProperty(exports, 'toCssValue', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_toCssValue)['default'];\n  }\n});\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nObject.defineProperty(exports, 'SheetsRegistry', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsRegistry)['default'];\n  }\n});\n\nvar _SheetsManager = require('./SheetsManager');\n\nObject.defineProperty(exports, 'SheetsManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SheetsManager)['default'];\n  }\n});\n\nvar _RuleList = require('./RuleList');\n\nObject.defineProperty(exports, 'RuleList', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_RuleList)['default'];\n  }\n});\n\nvar _sheets = require('./sheets');\n\nObject.defineProperty(exports, 'sheets', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sheets)['default'];\n  }\n});\n\nvar _createGenerateClassName = require('./utils/createGenerateClassName');\n\nObject.defineProperty(exports, 'createGenerateClassName', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_createGenerateClassName)['default'];\n  }\n});\n\nvar _Jss = require('./Jss');\n\nvar _Jss2 = _interopRequireDefault(_Jss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Creates a new instance of Jss.\n */\nvar create = exports.create = function create(options) {\n  return new _Jss2['default'](options);\n};\n\n/**\n * A global Jss instance.\n */\nexports['default'] = create();","'use strict';\n\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction hyphenateStyleName(string) {\n    return string in cache\n    ? cache[string]\n    : cache[string] = string\n      .replace(uppercasePattern, '-$&')\n      .toLowerCase()\n      .replace(msPattern, '-ms-');\n}\n\nmodule.exports = hyphenateStyleName;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = camelCase;\n\nvar _hyphenateStyleName = require('hyphenate-style-name');\n\nvar _hyphenateStyleName2 = _interopRequireDefault(_hyphenateStyleName);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    converted[(0, _hyphenateStyleName2['default'])(prop)] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    var hyphenatedProp = (0, _hyphenateStyleName2['default'])(prop);\n\n    // There was no camel case in place\n    if (prop === hyphenatedProp) return value;\n\n    rule.prop(hyphenatedProp, value);\n\n    // Core will ignore that property value we set the proper one above.\n    return null;\n  }\n\n  return { onProcessStyle: onProcessStyle, onChangeValue: onChangeValue };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports['default'] = jssGlobal;\n\nvar _jss = require('jss');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar propKey = '@global';\nvar prefixKey = '@global ';\n\nvar GlobalContainerRule = function () {\n  function GlobalContainerRule(key, styles, options) {\n    _classCallCheck(this, GlobalContainerRule);\n\n    this.type = 'global';\n\n    this.key = key;\n    this.options = options;\n    this.rules = new _jss.RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector], { selector: selector });\n    }\n\n    this.rules.process();\n  }\n\n  /**\n   * Get a rule.\n   */\n\n\n  _createClass(GlobalContainerRule, [{\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules.get(name);\n    }\n\n    /**\n     * Create and register rule, run plugins.\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style, options) {\n      var rule = this.rules.add(name, style, options);\n      this.options.jss.plugins.onProcessRule(rule);\n      return rule;\n    }\n\n    /**\n     * Get index of a rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(rule) {\n      return this.rules.indexOf(rule);\n    }\n\n    /**\n     * Generates a CSS string.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.rules.toString();\n    }\n  }]);\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule = function () {\n  function GlobalPrefixedRule(name, style, options) {\n    _classCallCheck(this, GlobalPrefixedRule);\n\n    this.name = name;\n    this.options = options;\n    var selector = name.substr(prefixKey.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this,\n      selector: selector\n    }));\n  }\n\n  _createClass(GlobalPrefixedRule, [{\n    key: 'toString',\n    value: function toString(options) {\n      return this.rule.toString(options);\n    }\n  }]);\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + ' ' + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  var rules = style[propKey];\n\n  if (!rules) return;\n\n  for (var name in rules) {\n    options.sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[propKey];\n}\n\nfunction handlePrefixedGlobalRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop.substr(0, propKey.length) !== propKey) continue;\n\n    var selector = addScope(prop.substr(propKey.length), rule.selector);\n    options.sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (name === propKey) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, prefixKey.length) === prefixKey) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent.type === 'global') {\n        options.global = true;\n      }\n    }\n\n    if (options.global) options.selector = name;\n\n    return null;\n  }\n\n  function onProcessRule(rule) {\n    if (rule.type !== 'style') return;\n\n    handleNestedGlobalContainerRule(rule);\n    handlePrefixedGlobalRule(rule);\n  }\n\n  return { onCreateRule: onCreateRule, onProcessRule: onProcessRule };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = jssNested;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container) {\n    return function (match, key) {\n      var rule = container.getRule(key);\n      if (rule) return rule.selector;\n      (0, _warning2.default)(false, '[JSS] Could not find the referenced rule %s in %s.', key, container.options.meta || container);\n      return key;\n    };\n  }\n\n  var hasAnd = function hasAnd(str) {\n    return str.indexOf('&') !== -1;\n  };\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', ';\n        // Replace all & by the parent or prefix & with the parent.\n        result += hasAnd(nested) ? nested.replace(parentRegExp, parent) : parent + ' ' + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, options) {\n    // Options has been already created, now we only increase index.\n    if (options) return _extends({}, options, { index: options.index + 1 });\n\n    var nestingLevel = rule.options.nestingLevel;\n\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    return _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1\n    });\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    var container = rule.options.parent;\n    var options = void 0;\n    var replaceRef = void 0;\n    for (var prop in style) {\n      var isNested = hasAnd(prop);\n      var isNestedConditional = prop[0] === '@';\n\n      if (!isNested && !isNestedConditional) continue;\n\n      options = getOptions(rule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, rule.selector\n        // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n        );if (!replaceRef) replaceRef = getReplaceRef(container\n        // Replace all $refs.\n        );selector = selector.replace(refRegExp, replaceRef);\n\n        container.addRule(selector, style[prop], _extends({}, options, { selector: selector }));\n      } else if (isNestedConditional) {\n        container\n        // Place conditional right after the parent rule to ensure right ordering.\n        .addRule(prop, null, options).addRule(rule.key, style[prop], { selector: rule.selector });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return { onProcessStyle: onProcessStyle };\n}","// @flow\n\nexport default class AbstractLocationStore {\n    toUrl(newParams: {[id: string]: string}, hash?: string): string {\n        throw new Error('implement')\n    }\n    location(key: string, value?: string): string {\n        throw new Error('implement')\n    }\n}\n","// @flow\nimport {mem} from 'lom_atom'\nimport AbstractLocationStore from './AbstractLocationStore'\n\nexport default class BrowserLocationStore extends AbstractLocationStore {\n    _location: Location\n    _history: History\n    _ns: string\n\n    constructor(location: Location, history: History, ns?: string = 'rdi_app') {\n        super()\n        this._ns = ns\n        this._location = location\n        this._history = history\n    }\n\n    _params(): URLSearchParams {\n        return new URLSearchParams(this._location.search)\n    }\n\n    toUrl(newParams?: {[id: string]: string} = {}, hash?: string): string {\n        const params = this._params()\n        const keys = Object.keys(newParams)\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i]\n            const val = newParams[key]\n            if (val === null || val === undefined) {\n                params.delete(key)\n            } else {\n                params.set(key, val)\n            }\n        }\n        const q = params.toString()\n        return `${this._location.origin}${q ? `?${q}` : ''}${hash ? `#${hash}` : ''}`\n    }\n\n    toString() {\n        return this.toUrl()\n    }\n\n    @mem.key.manual location(key: string, value?: string): string {\n        const params = this._params()\n        if (value === undefined) return params.get(key)\n\n        params.set(key, value)\n        this._history.pushState(null, this._ns, `?${params.toString()}`)\n\n        return value\n    }\n}\n","// @flow\n\n/**\n * Can't extend Error\n * @see https://github.com/babel/babel/issues/7447\n */\nclass TimeoutError {\n    statusCode: number\n    constructor(timeout: number) {\n        const t: TimeoutError & Error = (Error.call(this, 'Request timeout client emulation: ' + (timeout / 1000) + 's'): any)\n        // $FlowFixMe new.target\n        ;(t: Object)['__proto__'] = new.target.prototype\n        t.statusCode = 408\n        return t\n    }\n}\n;(TimeoutError: any).prototype = Object.create(Error.prototype)\n;(TimeoutError: any).prototype.constructor = TimeoutError\nconst TimeoutErrorInt: Class<TimeoutError & Error> = (TimeoutError: any)\n\nexport {TimeoutErrorInt as TimeoutError}\n\nexport default function timeoutPromise<D>(\n    promise: Promise<D>,\n    timeout?: ?number\n): Promise<D> {\n    if (!timeout) return promise\n    const tm = timeout\n\n    return Promise.race([\n        promise,\n        new Promise((resolve: (data: D) => void, reject: (err: any) => void) => {\n            setTimeout(() => reject(new TimeoutError(tm)), tm)\n        })\n    ])\n}\n","// @flow\n\nimport type {IRequestOptions} from './interfaces'\n\nfunction safeToJson(v: string): Object {\n    let data: Object\n    try {\n        data = JSON.parse(v)\n    } catch (e) {\n        data = {valueOf: () => v }\n    }\n    return data\n}\n\n/**\n * Can't extend Error\n * @see https://github.com/babel/babel/issues/7447\n */\nclass HttpError {\n    status: ?number\n    message: string\n    stack: string\n    retry: () => void\n    uid: string\n    data: ?Object\n    _opts: IRequestOptions\n\n    constructor(\n        {opts, parent, response, data, uid}: {\n            opts: IRequestOptions,\n            parent: ?Error,\n            response?: Response,\n            data?: Object | string,\n            uid?: string\n        }\n    ) {\n        const t: HttpError = (Error.call(this, (parent\n            ? (parent.message || parent.stack)\n            : (response ? response.statusText : null)\n        ) || 'unknown'): any)\n        if (parent) {\n            t.status = (parent: Object).status || null\n            t.stack = parent.stack\n        } else if (response) {\n            t.status = response.status || null\n        } else {\n            t.status = null\n        }\n        t.uid = uid ? uid :  ('' + Date.now())\n        t.data = data\n            ? typeof data === 'object' ? data : safeToJson(data)\n            : null\n\n        // $FlowFixMe new.target\n        ;(t: Object)['__proto__'] = new.target.prototype\n        t._opts = opts\n        t.retry = opts.retry\n\n        return t\n    }\n}\n\nfunction toJSON() {\n    const opts = this._opts\n    return {\n        uid: this.uid,\n        message: this.message,\n        stack: this.stack,\n        status: this.status,\n        request: {\n            requestId: opts.requestId,\n            url: opts.fullUrl,\n            method: opts.method || 'GET',\n            body: opts.body ? String(opts.body) : null,\n        },\n        data: this.data\n    }\n}\n\n;(HttpError: any).prototype = Object.create(Error.prototype)\n;(HttpError: any).prototype.constructor = HttpError\n;(HttpError: any).prototype.toJSON = toJSON\n\nexport default ((HttpError: any): Class<HttpError & Error>)\n","// @flow\nimport type {IRequestOptions, IFetcher, FetcherApi} from './interfaces'\n\nexport default class FetcherResponse implements FetcherApi {\n    _fetcher: IFetcher\n    _options: IRequestOptions\n    static WaitError: Class<Error> = Error\n    constructor(method: string, url: string, fullUrl: string, fetcher: IFetcher) {\n        this._options = {\n            method,\n            url,\n            fullUrl,\n            requestId: '' + Date.now(),\n            retry: this._getRetry()\n        }\n        this._fetcher = fetcher\n    }\n\n    _getRetry(): () => void {\n        throw new Error('implement')\n    }\n\n    _getState<V>(): V | void {\n        const {_fetcher: {state}, _options: {url}} = this\n        if (state !== undefined) {\n            const apiData: V | void = (state[url]: any)\n            state[url] = undefined\n            return apiData\n        }\n    }\n\n    options(opts: $Shape<IRequestOptions>): this {\n        Object.assign((this._options: Object), opts)\n        return this\n    }\n\n    _disposed = false\n\n    text<V: string | Error | FormData>(next?: V): V {\n        if (next instanceof Error) throw new Error('Need a string')\n        const {_fetcher: fetcher} = this\n        const opts: IRequestOptions = fetcher.mergeOptions(\n            ({\n                ...this._options,\n                body: next === undefined ? undefined : next\n            }: $Shape<IRequestOptions>)\n        )\n\n        const state = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'string') throw new Error(`fetch.text ${this._options.url}, string expected`)\n            return state\n        }\n\n        this._disposed = false\n        fetcher.request(opts)\n            .then((data: any) => {\n                if (!this._disposed) this._setData(data)\n            })\n\n        throw new this.constructor.WaitError(`${opts.method || 'GET'} ${opts.fullUrl}`)\n    }\n\n    _setData(data: string) {\n        throw new Error('implement')\n    }\n\n    destructor() {\n        this._disposed = true\n    }\n\n    json<V>(next?: V): V {\n        const state: V | void = this._getState()\n        if (state !== undefined) {\n            if (typeof state !== 'object') throw new Error(`${this._options.url} state need an object`)\n            return state\n        }\n\n        const text = this.text(next === undefined ? undefined : JSON.stringify(next, null, '\\t'))\n\n        return JSON.parse(text)\n    }\n}\n","// @flow\nimport type {IState, IFetcher, IStateCollector, FetcherApi, IRequestOptions} from './interfaces'\nimport timeoutPromise from './timeoutPromise'\nimport HttpError from './HttpError'\nimport FetcherResponse from './FetcherResponse'\n\nexport default class Fetcher implements IFetcher {\n    state: IState | void\n    _collector: IStateCollector | void\n\n    _init: $Shape<IRequestOptions> | void\n    _baseUrl: [RegExp, string][]\n    _timeout: number\n\n    static HttpError: Class<HttpError> = HttpError\n\n    constructor(opts?: {\n        timeout?: ?number;\n        baseUrl?: string | [string, string][];\n        state?: IState;\n        init?: $Shape<IRequestOptions>;\n        collector?: IStateCollector;\n    } = {}) {\n        const baseUrl = opts.baseUrl\n        this._baseUrl = baseUrl instanceof Array\n            ? baseUrl.map((rec) => ([new RegExp(rec[0]), rec[1]]))\n            : [[new RegExp('.*'), baseUrl || '']]\n\n        this.state = opts.state\n        this._init = opts.init\n        this._timeout = opts.timeout || 120000\n        this._collector = opts.collector\n    }\n\n    normalizeResponse(response: Response, opts: IRequestOptions): Promise<string | HttpError> {\n        if (response.status >= 400) {\n            const HttpError: any = this.constructor.HttpError\n            return response.text()\n                .then((data: string) => new HttpError({opts, parent: null, response, data}))\n        }\n\n        return response.status === 204\n            ? Promise.resolve('')\n            : response.text()\n    }\n\n    fetch(url: string, opts: RequestOptions): Promise<Response> {\n        return fetch(url, opts)\n    }\n\n    request(opts: IRequestOptions): Promise<*> {\n        const collector = this._collector\n        if (collector) collector.beginFetch(opts)\n        const {HttpError} = this.constructor\n        return timeoutPromise(this.fetch(opts.fullUrl, opts), this._timeout)\n            .then((response: Response) => this.normalizeResponse(response, opts)\n                .catch((err: Error) => new HttpError({opts, parent: err, response}))\n            )\n            .catch((err: Error) => new HttpError({opts, parent: err}))\n            .then((result) => {\n                if (collector) collector.endFetch(result, opts)\n                return result\n            })\n    }\n\n    getFullUrl(url: string): string {\n        const bu = this._baseUrl\n        let baseUrl = ''\n        for (let i = 0; i < bu.length; i++) {\n            const [mask, base] = bu[i]\n            if (mask.test(url)) {\n                baseUrl = base\n                break\n            }\n        }\n\n        return baseUrl + url\n    }\n\n    mergeOptions(init: IRequestOptions): IRequestOptions {\n        return {...this._init, ...(init: Object)}\n    }\n\n    _request([method, url]: [string, string]): FetcherApi {\n        throw new Error('implement')\n    }\n\n    post<V>(url: string): FetcherApi {\n        return this._request(['POST', url])\n    }\n\n    get(url: string): FetcherApi {\n        return this._request(['GET', url])\n    }\n\n    put(url: string): FetcherApi {\n        return this._request(['PUT', url])\n    }\n\n    delete(url: string): FetcherApi {\n        return this._request(['DELETE', url])\n    }\n\n    patch(url: string): FetcherApi {\n        return this._request(['PATCH', url])\n    }\n}\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\n\nimport FetcherResponse from '../FetcherResponse'\n\nexport default class FetcherResponseLom extends FetcherResponse {\n    static WaitError: Class<Error> = AtomWait\n    @mem text<V: string | Error | FormData>(next?: V): V {\n        return super.text(next)\n    }\n\n    _getRetry() {\n        return mem.getRetry(this.text())\n    }\n\n    _setData(data: string) {\n        mem.cache(this.text(data))\n    }\n}\n","// @flow\nimport {mem} from 'lom_atom'\n\nimport Fetcher from '../Fetcher'\nimport FetcherResponseLom from './FetcherResponseLom'\nimport type {FetcherApi} from '../interfaces'\n\nexport default class FetcherLom extends Fetcher {\n    @mem.key _request([method, url]: [string, string]): FetcherApi {\n        return new FetcherResponseLom(method, url, this.getFullUrl(url), this)\n    }\n}\n","// @flow\n\nimport {theme} from 'reactive-di'\n\nclass SpinnerTheme {\n    @theme get css() {\n        const spinner = {\n            position: 'relative',\n            zIndex: '1000',\n            backgroundSize: '28px 28px',\n            minWidth: '28px',\n            minHeight: '28px'\n        }\n        return {\n            spinner: {\n                '@keyframes @.spinner_move': {\n                    from: {\n                        backgroundPosition: '0 0'\n                    },\n                    to: {\n                        backgroundPosition: '-28px 0'\n                    }\n                },\n                ...spinner,\n                '& *': {\n                    opacity: '0.8'\n                },\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(0,0,0, 0.05), rgba(0,0,0,0.05) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n                animation: '@.spinner_move .25s steps(6) infinite'\n            },\n            spinnerError: {\n                ...spinner,\n                backgroundImage: `repeating-linear-gradient(45deg, rgba(255,0,0, 0.1), rgba(255,0,0,0.1) 9px, rgba(255,255,255,.015) 10px, rgba(255,255,255,.015) 20px)`,\n            }\n        }\n    }\n}\n\nexport default function SpinnerView(\n    {children, isError}: {children: any, isError?: boolean},\n    {theme: {css}}: {theme: SpinnerTheme}\n) {\n    return <div class={isError ? css.spinnerError : css.spinner}>{children}</div>\n}\n","// @flow\nimport {AtomWait} from 'lom_atom'\nimport {HttpError} from '../fetcher'\nimport SpinnerView from '../rdi/SpinnerView'\n\nconst stackId = Symbol('stack_id')\nexport default function ErrorableView({\n    error,\n    children\n}: {\n    children: any,\n    error: Error\n}) {\n    const errorWasShowed = (error: Object)[stackId]\n    ;(error: Object)[stackId] = true\n    const isWait = error instanceof AtomWait\n    return <SpinnerView rdi_theme isError={!isWait}>\n        {isWait || errorWasShowed\n            ? <div id=\"content\" style={{pointerEvents: 'none'}}>{children}</div>\n            : <div id=\"error\" style={{padding: '0.1em 1em'}}>\n                <h3 id=\"error-title\">{error.message}</h3>\n                {error instanceof HttpError\n                    ? <div id=\"recover\" style={{paddingBottom: '1em'}}>\n                        <button id=\"recover-button\" onClick={error.retry}>Retry</button>\n                    </div>\n                    : null\n                }\n            </div>\n        }\n    </SpinnerView>\n}\n","// @flow\n\nimport {mem, defer, AtomWait, ReactAtom, ConsoleLogger, defaultContext} from 'lom_atom'\nimport {JssSheetManager, createReactWrapper, createCreateElement, Injector} from 'reactive-di'\n\nimport {h, Component} from 'preact'\nimport 'preact/devtools'\n\nimport {create as createJss} from 'jss'\nimport jssCamel from 'jss-camel-case'\nimport jssGlobal from 'jss-global'\nimport jssNested from 'jss-nested'\n\nimport BrowserLocationStore from '../rdi/BrowserLocationStore'\nimport AbstractLocationStore from '../rdi/AbstractLocationStore'\n\nimport {Fetcher, HttpError} from '../fetcher'\nimport {FetcherLom} from '../fetcher/lom'\nimport ErrorableView from './ErrorableView'\n\ndefaultContext.setLogger(new ConsoleLogger())\n\nconst themer = new JssSheetManager(createJss({\n    createGenerateClassName: JssSheetManager.createGenerateClassName,\n    plugins: [\n        jssNested(),\n        jssCamel(),\n        jssGlobal()\n    ]\n}), defer.add)\n\nconst config = [\n    [Fetcher, new FetcherLom({baseUrl: '/api'})],\n    [AbstractLocationStore, new BrowserLocationStore(location, history, 'rdi_demos')]\n]\n\nglobal['lom_h'] = createCreateElement(\n    createReactWrapper(\n        Component,\n        ErrorableView,\n        ReactAtom,\n        new Injector(config, themer)\n    ),\n    (h: React$CreateElement),\n    true\n)\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\nimport {cloneComponent} from 'reactive-di'\n\nclass FirstCounterService {\n    lang = {\n        add: 'Add',\n        error: 'Gen error'\n    }\n    @mem get value(): number {\n        setTimeout(() => {\n            mem.cache(this.value = 1)\n            // this.value = new Error('loading error')\n        }, 500)\n\n        throw new AtomWait()\n    }\n\n    @mem set value(v: number | Error) {\n        if (typeof v === 'string') {\n            throw new TypeError('Test error')\n        }\n    }\n}\n\nfunction CounterMessageView(\n    {value}: {\n        value: number\n}) {\n    return <div rdi_theme>\n        Count: {value}\n    </div>\n}\n\nfunction FirstCounterView(\n    _: {},\n    counter: FirstCounterService\n) {\n    return <div rdi_theme>\n        <CounterMessageView id=\"message\" value={counter.value}/>\n        <button id=\"add\" onClick={() => { counter.value++ }}>{counter.lang.add}</button>\n        <button id=\"error\" onClick={() => { counter.value = ('someStr': any) }}>{counter.lang.error}</button>\n    </div>\n}\n\nclass SecondCounterService extends FirstCounterService {\n    lang = {\n        add: 'cloned Add',\n        error: 'cloned Gen error'\n    }\n}\n\nfunction SecondCounterMessageView({value}: {value: number}) {\n    return <div rdi_theme>\n        SecondCounter Count: {value}\n    </div>\n}\n\nfunction SecondCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button id={id} onClick={onClick}>SecondCounterAddButton: {children}</button>\n}\n\nconst SecondCounterView = cloneComponent(FirstCounterView, [\n    [FirstCounterService, SecondCounterService],\n    [CounterMessageView, SecondCounterMessageView],\n    ['add', SecondCounterAddButtonView],\n    ['error', null]\n], 'SecondCounterView')\n\nfunction ThirdCounterAddButtonView(\n    {onClick, children, id}: {\n        id: string;\n        onClick: () => void;\n        children: string\n    }\n) {\n    return <button rdi_theme id={id} onClick={onClick}>ThirdCounterAddButton: {children}</button>\n}\n\nconst ThirdCounterView = cloneComponent(SecondCounterView, [\n    ['add', ThirdCounterAddButtonView]\n], 'ThirdCounterView')\n\nexport function CounterView() {\n    return <ul>\n        <li id=\"list(first)\">FirstCounter: <FirstCounterView id=\"first\"/></li>\n        <li id=\"list(second)\">SecondCounter extends FirstCounter: <SecondCounterView id=\"second\"/></li>\n        <li id=\"list(third)\">ThirdCounter extends SecondCounter: <ThirdCounterView id=\"third\"/></li>\n    </ul>\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport {props} from 'reactive-di'\n\ninterface IHelloProps {\n    initialValue: string;\n}\n\nclass HelloContext {\n    @mem name: string\n    @props set props({initialValue}: IHelloProps) {\n        this.name = initialValue\n    }\n    @mem get greet() {\n        return 'Hello, ' + this.name\n    }\n}\n\nexport function HelloView(\n    _: IHelloProps,\n    {context}: {context: HelloContext}\n) {\n    return <div rdi_theme>\n        {context.greet}\n        <br id=\"br\"/><input id=\"input\" value={context.name} onInput={({target}) => {\n            context.name = (target: any).value\n        }} />\n    </div>\n}\n","// @flow\n\nimport {mem, AtomWait} from 'lom_atom'\nimport {props} from 'reactive-di'\n\nclass HelloAsyncContext {\n    @mem name: string = 'test'\n\n    @mem set greet(v: string) {}\n    @mem get greet() {\n        setTimeout(() => {\n            const v = 'HelloAsync, ' + this.name\n            mem.cache(this.greet = v)\n        }, 200)\n        throw new AtomWait()\n    }\n}\n\nexport function HelloAsyncView(\n    _: {},\n    {context}: {context: HelloAsyncContext}\n) {\n    return <div rdi_theme>\n        {context.greet}\n        <br id=\"br\"/><input id=\"input\" value={context.name} onInput={({target}) => {\n            context.name = (target: any).value\n        }} />\n    </div>\n}\n","// @flow\nimport {action, mem, AtomWait} from 'lom_atom'\nimport uuid from '../../../rdi/uuid'\n\nexport interface ITodoData {\n    id: string;\n    completed: boolean;\n    title: string;\n}\n\nexport interface ITodoRepository {\n    update(todo: Todo): void;\n    remove(todo: Todo): void;\n}\n\nexport default class Todo implements ITodoData {\n    completed: boolean = false\n    title: string = ''\n    id: string = uuid()\n\n    _store: ITodoRepository\n\n    constructor(todo?: $Shape<ITodoData>, store: ITodoRepository) {\n        Object.assign(this, todo)\n        // Hide from JSON.stringify\n        Object.defineProperties(this, {\n            _store: {value: store}\n        })\n    }\n\n    copy(data: ?$Shape<ITodoData>): Todo {\n        return new Todo({...(this: ITodoData), ...data}, this._store)\n    }\n\n    @action update(data?: $Shape<ITodoData>) {\n        this.saving = this.copy(data)\n    }\n\n    @mem get saving(): ?Todo {\n        return null\n    }\n\n    @mem set saving(next: Todo) {\n        this._store.update(next)\n        mem.cache(this.saving)\n    }\n\n    @mem get removing(): boolean {\n        return false\n    }\n\n    @mem set removing(next: boolean) {\n        this._store.remove(this)\n        mem.cache(this.removing)\n    }\n\n    @action remove() {\n        this.removing = true\n    }\n\n    @action toggle() {\n        this.update({completed: !this.completed})\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\nimport {props} from 'reactive-di'\nimport {Fetcher} from '../../../fetcher'\nimport AbstractLocationStore from '../../../rdi/AbstractLocationStore'\nimport Todo from './Todo'\nimport type {ITodoRepository, ITodoData} from './Todo'\n\ntype ITogglePatch = [string, $Shape<ITodoData>]\n\nexport const TODO_FILTER = {\n    ALL: 'all',\n    COMPLETE: 'complete',\n    ACTIVE: 'active'\n}\n\nexport type IFilter = $Values<typeof TODO_FILTER>\n\nexport default class TodoRepository implements ITodoRepository {\n    _fetcher: Fetcher\n    _location: AbstractLocationStore\n    // @props props: {}\n    constructor(fetcher: Fetcher, location: AbstractLocationStore) {\n        this._fetcher = fetcher\n        this._location = location\n    }\n\n    @mem get todos(): Todo[] {\n        return this._fetcher.get('/todos').json()\n            .map((data: ITodoData) => new Todo(data, this))\n    }\n    set todos(todos: Todo[]) {}\n\n    @mem get activeTodoCount(): number {\n        return this.todos.reduce(\n            (sum: number, todo: Todo) => sum + (todo.completed ? 0 : 1),\n            0\n        )\n    }\n\n    get completedCount(): number {\n        return this.todos.length - this.activeTodoCount\n    }\n\n    remove(todo: Todo) {\n        this._fetcher.delete(`/todo/${todo.id}`).json()\n        this.todos = this.todos.filter(t => t.id !== todo.id)\n    }\n\n    update(next: Todo) {\n        this._fetcher.post(`/todo/${next.id}`).json(next)\n        this.todos = this.todos.map(t => t.id === next.id ? next : t)\n    }\n\n    @mem get adding(): ?Todo {\n        return null\n    }\n\n    @mem set adding(next: Todo) {\n        this._fetcher.put('/todo').json(next)\n        this.todos = [...this.todos, next]\n        mem.cache(this.adding)\n    }\n\n    @action addTodo(title: string) {\n        this.adding = new Todo({title}, this)\n    }\n\n    @mem get patching(): ?ITogglePatch[] {\n        return null\n    }\n\n    @mem set patching(patches: ?ITogglePatch[]) {\n        this._fetcher.put(`/todos`).json(patches)\n        const patchMap = new Map(patches)\n        this.todos = this.todos.map(todo => todo.copy(patchMap.get(todo.id)))\n        mem.cache(this.patching)\n    }\n\n    @action toggleAll() {\n        const todos = this.todos\n        const completed = !!todos.find(todo => !todo.completed)\n        this.patching = todos.map(todo => ([todo.id, {completed}]))\n    }\n\n    @mem get clearing(): ?string[] {\n        return null\n    }\n\n    @mem set clearing(delIds: string[]) {\n        this._fetcher.delete(`/todos`).json(delIds)\n        const delSet = new Set(delIds)\n        this.todos = this.todos.filter(todo => !delSet.has(todo.id))\n        mem.cache(this.clearing)\n    }\n\n    @action clearCompleted() {\n        this.clearing = this.todos.filter(todo => todo.completed).map(todo => todo.id)\n    }\n\n    get filter(): IFilter {\n        return this._location.location('todo_filter') || TODO_FILTER.ALL\n    }\n\n    set filter(filter: IFilter) {\n        return this._location.location('todo_filter', filter)\n    }\n\n    @mem get filteredTodos(): Todo[] {\n        const todos = this.todos\n        switch (this.filter) {\n            case TODO_FILTER.ALL:\n                return todos\n            case TODO_FILTER.COMPLETE:\n                return todos.filter(todo => !!todo.completed)\n            case TODO_FILTER.ACTIVE:\n                return todos.filter(todo => !todo.completed)\n            default:\n                throw new Error(`Unknown filter value: ${this.filter}`)\n        }\n    }\n}\n","// @flow\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\n\nimport TodoRepository from './models/TodoRepository'\n\nclass TodoToAdd {\n    @mem title: string = ''\n    _todoRepository: TodoRepository\n\n    constructor(todoRepository: TodoRepository) {\n        this._todoRepository = todoRepository\n    }\n\n    get adding(): boolean {\n        return !!this._todoRepository.adding\n    }\n\n    @action.defer setRef(ref: ?HTMLInputElement) {\n        if (!ref) return\n        ref.focus()\n    }\n\n    @action onInput({target}: Event) {\n        this.title = (target: any).value\n    }\n\n    @action onKeyDown(e: Event) {\n        if (e.keyCode === 13 && this.title) {\n            this._todoRepository.addTodo(this.title)\n            this.title = ''\n        }\n    }\n}\n\nclass TodoHeaderTheme {\n    @theme get css() {\n        return {\n            newTodo: {\n                position: 'relative',\n                margin: '0',\n                width: '100%',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                border: '0',\n                color: 'inherit',\n                padding: '16px 16px 16px 60px',\n                border: 'none',\n                background: 'rgba(0, 0, 0, 0.003)',\n                boxShadow: 'inset 0 -2px 1px rgba(0,0,0,0.03)',\n                boxSizing: 'border-box',\n                '-webkit-font-smoothing': 'antialiased',\n                '-moz-osx-font-smoothing': 'grayscale'\n            }\n        }\n    }\n}\n\nexport default function TodoHeaderView(\n    _: {},\n    {todoToAdd, theme: {css}}: {\n        theme: TodoHeaderTheme;\n        todoToAdd: TodoToAdd;\n    }\n) {\n    return <header rdi_theme>\n        <input\n            id=\"input\"\n            class={css.newTodo}\n            placeholder=\"What needs to be done?\"\n            disabled={todoToAdd.adding}\n            onInput={todoToAdd.onInput}\n            ref={todoToAdd.setRef}\n            value={todoToAdd.title}\n            onKeyDown={todoToAdd.onKeyDown}\n        />\n    </header>\n}\n","// @flow\n\nimport {props, theme} from 'reactive-di'\nimport {action, mem, AtomWait} from 'lom_atom'\nimport Todo from './models/Todo'\n\nconst ESCAPE_KEY = 27\nconst ENTER_KEY = 13\n\ninterface ITodoProps {\n    +todo: Todo;\n}\n\nclass TodoItemEdit {\n    @mem todoBeingEditedId: ?string = null\n    @mem editText = ''\n\n    @props props: ITodoProps\n\n    @action beginEdit() {\n        const {todo} = this.props\n        this.todoBeingEditedId = todo.id\n        this.editText = todo.title\n    }\n\n    @action setText({target}: KeyboardEvent) {\n        this.editText = (target: any).value.trim()\n    }\n\n    @action.defer setEditInputRef(el: ?HTMLInputElement) {\n        if (!el) return\n        el.focus()\n    }\n\n    @action submit(event: Event) {\n        if (!this.todoBeingEditedId) return\n        const title = this.editText.trim()\n        const {todo} = this.props\n        if (title) {\n            if (todo.title !== title) {\n                todo.update({title})\n                this.editText = ''\n            }\n        } else {\n            this.remove()\n        }\n        this.todoBeingEditedId = null\n    }\n\n    @action keyDown(event: KeyboardEvent) {\n        switch (event.which) {\n            case ESCAPE_KEY:\n                this.editText = this.props.todo.title\n                this.todoBeingEditedId = null\n                break\n\n            case ENTER_KEY:\n                this.submit(event)\n                break\n\n            default: break\n        }\n    }\n\n    @action toggle() {\n        this.props.todo.toggle()\n        this.todoBeingEditedId = null\n    }\n\n    @action remove() {\n        this.props.todo.remove()\n        this.todoBeingEditedId = null\n    }\n}\n\nclass TodoItemTheme {\n    @theme get css() {\n        const itemBase = {\n            position: 'relative',\n            fontSize: '24px',\n            borderBottom: '1px solid #ededed',\n            '&:last-child': {\n                borderBottom: 'none'\n            },\n            '&:hover $destroy': {\n                display: 'block'\n            }\n        }\n\n        const viewLabelBase = {\n            wordBreak: 'break-all',\n            padding: '15px 15px 15px 60px',\n            display: 'block',\n            lineHeight: '1.2',\n            transition: 'color 0.4s'\n        }\n\n        return {\n            regular: {\n                ...itemBase\n            },\n            completed: {\n                ...itemBase\n            },\n\n            editing: {\n                borderBottom: 'none',\n                padding: 0,\n                '&:last-child': {\n                    marginBottom: '-1px'\n                }\n            },\n\n            edit: {\n                backgroundColor: '#F2FFAB',\n                display: 'block',\n                zIndex: '0',\n                border: 0,\n                position: 'relative',\n                fontSize: '24px',\n                fontFamily: 'inherit',\n                fontWeight: 'inherit',\n                lineHeight: '1.4em',\n                width: '406px',\n                padding: '12px 16px',\n                margin: '0 0 0 43px'\n            },\n\n            toggle: {\n                textAlign: 'center',\n                width: '40px',\n                /* auto, since non-WebKit browsers doesn't support input styling */\n                height: 'auto',\n                position: 'absolute',\n                top: 0,\n                bottom: 0,\n                margin: 'auto 0',\n                border: 'none', /* Mobile Safari */\n                '-webkit-appearance': 'none',\n                appearance: 'none',\n                opacity: 0,\n                '& + label': {\n                    /*\n                        Firefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n                        IE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n                    */\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E')`,\n                    backgroundRepeat: 'no-repeat',\n                    backgroundPosition: 'center left'\n                },\n\n                '&:checked + label': {\n                    backgroundImage: `url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E')`\n                }\n            },\n\n            viewLabelRegular: {\n                ...viewLabelBase\n            },\n\n            viewLabelCompleted: {\n                ...viewLabelBase,\n                color: '#d9d9d9',\n                textDecoration: 'line-through'\n            },\n\n            destroy: {\n                padding: 0,\n                border: 0,\n                background: 'none',\n                verticalAlign: 'baseline',\n                display: 'none',\n                position: 'absolute',\n                right: '10px',\n                top: 0,\n                bottom: 0,\n                width: '40px',\n                height: '40px',\n                fontSize: '30px',\n                margin: 'auto 0',\n                color: '#cc9a9a',\n                marginBottom: '11px',\n                transition: 'color 0.2s ease-out',\n                '&:hover': {\n                    color: '#af5b5e'\n                },\n\n                '&:after': {\n                    content: '\\'×\\''\n                }\n            }\n        }\n    }\n\n    label(isCompleted: boolean) {\n        const css = this.css\n        return isCompleted ? css.viewLabelCompleted : css.viewLabelRegular\n    }\n\n    editable(isCompleted: boolean) {\n        return isCompleted ? this.css.completed : this.css.regular\n    }\n}\n\nexport default function TodoItemView(\n    {todo}: ITodoProps,\n    {todoItemEdit, theme}: {\n        theme: TodoItemTheme;\n        todoItemEdit: TodoItemEdit;\n    }\n) {\n    const css = theme.css\n    if (todoItemEdit.todoBeingEditedId === todo.id) {\n        return <li rdi_theme class={css.editing}>\n            <input\n                id=\"editing\"\n                ref={todoItemEdit.setEditInputRef}\n                class={css.edit}\n                disabled={todo.saving}\n                value={todoItemEdit.editText}\n                onBlur={todoItemEdit.submit}\n                onInput={todoItemEdit.setText}\n                onKeyDown={todoItemEdit.keyDown}\n            />\n        </li>\n    }\n\n    return <li rdi_theme class={theme.editable(todo.completed)}>\n        <input\n            id=\"toggle\"\n            class={css.toggle}\n            type=\"checkbox\"\n            disabled={todo.saving}\n            checked={todo.completed}\n            onChange={todoItemEdit.toggle}\n        />\n        <label\n            id=\"beginEdit\"\n            class={theme.label(todo.completed)}\n            disabled={todo.saving}\n            onDblClick={todoItemEdit.beginEdit}\n        >\n            {todo.title}\n        </label>\n        <button\n            id=\"destroy\"\n            class={css.destroy}\n            disabled={todo.removing}\n            onClick={todoItemEdit.remove}\n        />\n    </li>\n}\n","// @flow\nimport {theme} from 'reactive-di'\nimport Todo from './models/Todo'\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoItemView from './TodoItemView'\n\nclass TodoMainTheme {\n    @theme get css() {\n        const toggleAll = {\n            outline: 'none',\n            position: 'absolute',\n            top: '-55px',\n            left: '-12px',\n            width: '60px',\n            height: '34px',\n            textAlign: 'center',\n            border: 'none', /* Mobile Safari */\n\n            '&:before': {\n                content: '\\'❯\\'',\n                fontSize: '22px',\n                color: '#e6e6e6',\n                padding: '10px 27px 10px 27px'\n            },\n            '&:checked:before': {\n                color: '#737373'\n            }\n        }\n\n        return {\n            main: {\n                position: 'relative',\n                zIndex: 2,\n                borderTop: '1px solid #e6e6e6'\n            },\n            toggleAll: {\n                ...toggleAll,\n                /*\n                Hack to remove background from Mobile Safari.\n                Can't use it globally since it destroys checkboxes in Firefox\n                */\n                '@media screen and (-webkit-min-device-pixel-ratio:0)': {\n                    ...toggleAll,\n                    transform: 'rotate(90deg)',\n                    appearance: 'none',\n                    '-webkit-appearance': 'none'\n                }\n            },\n            todoList: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none'\n            }\n        }\n    }\n}\n\nexport default function TodoMainView(\n    _: {},\n    {\n        todoRepository: {toggleAll, activeTodoCount, patching, clearing, filteredTodos},\n        theme: {css}\n    }: {\n        todoRepository: TodoRepository;\n        theme: TodoMainTheme;\n    }\n) {\n    if (!filteredTodos.length) return null\n    return <section rdi_theme class={css.main}>\n        <input\n            id=\"input\"\n            class={css.toggleAll}\n            disabled={patching || clearing}\n            type=\"checkbox\"\n            onChange={toggleAll}\n            checked={activeTodoCount === 0}\n        />\n        <ul class={css.todoList} id=\"items\">\n            {filteredTodos.map(todo => <TodoItemView\n                id={`todo(${todo.id})`}\n                key={todo.id}\n                todo={todo}\n            />)}\n        </ul>\n    </section>\n}\n","// @flow\nimport {action} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport TodoRepository, {TODO_FILTER} from './models/TodoRepository'\nimport AbstractLocationStore from '../../rdi/AbstractLocationStore'\n\nclass TodoFooterService {\n    _repository: TodoRepository\n    links = [\n        {\n            id: TODO_FILTER.ALL,\n            title: 'All'\n        },\n        {\n            id: TODO_FILTER.ACTIVE,\n            title: 'Active'\n        },\n        {\n            id: TODO_FILTER.COMPLETE,\n            title: 'Completed'\n        }\n    ]\n\n    constructor(repository: TodoRepository) {\n        this._repository = repository\n    }\n\n    @action clickLink(e: Event) {\n        e.preventDefault()\n        this._repository.filter = (e.target: any).dataset.linkid\n    }\n\n    @theme get css() {\n        const linkBase = {\n            color: 'inherit',\n            margin: '3px',\n            padding: '3px 7px',\n            textDecoration: 'none',\n            border: '1px solid transparent',\n            borderRadius: '3px',\n            '& :hover': {\n                borderColor: 'rgba(175, 47, 47, 0.1)'\n            }\n        }\n\n        return {\n            footer: {\n                color: '#777',\n                padding: '10px 15px',\n                height: '20px',\n                textAlign: 'center',\n                borderTop: '1px solid #e6e6e6',\n                '&:before': {\n                    content: '\\'\\'',\n                    position: 'absolute',\n                    right: '0',\n                    bottom: '0',\n                    left: '0',\n                    height: '50px',\n                    overflow: 'hidden',\n                    boxShadow: `0 1px 1px rgba(0, 0, 0, 0.2),\n                        0 8px 0 -3px #f6f6f6,\n                        0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                        0 16px 0 -6px #f6f6f6,\n                        0 17px 2px -6px rgba(0, 0, 0, 0.2)`\n                }\n            },\n\n            todoCount: {\n                float: 'left',\n                textAlign: 'left'\n            },\n\n            filters: {\n                margin: 0,\n                padding: 0,\n                listStyle: 'none',\n                position: 'absolute',\n                right: 0,\n                left: 0\n            },\n\n            filterItem: {\n                display: 'inline'\n            },\n\n            linkRegular: {\n                ...linkBase\n            },\n\n            linkSelected: {\n                ...linkBase,\n                borderColor: 'rgba(175, 47, 47, 0.2)'\n            },\n\n            clearCompleted: {\n                margin: 0,\n                padding: 0,\n                border: 0,\n                background: 'none',\n                fontSize: '100%',\n                verticalAlign: 'baseline',\n                // appearance: 'none',\n\n                float: 'right',\n                position: 'relative',\n                lineHeight: '20px',\n                textDecoration: 'none',\n                cursor: 'pointer',\n\n                '&:hover': {\n                    textDecoration: 'underline'\n                }\n            }\n        }\n    }\n\n    link(isSelected: boolean) {\n        return isSelected ? this.css.linkSelected : this.css.linkRegular\n    }\n}\n\nexport default function TodoFooterView(\n    _: {},\n    {\n        todoRepository: {completedCount, activeTodoCount, filter, clearing, clearCompleted},\n        todoFooterService,\n        locationStore\n    }: {\n        locationStore: AbstractLocationStore;\n        todoRepository: TodoRepository;\n        todoFooterService: TodoFooterService;\n    }\n) {\n    const {links, clickLink, css} = todoFooterService\n    if (activeTodoCount === 0 && completedCount === 0) {\n        return null\n    }\n\n    return <footer rdi_theme class={css.footer}>\n        <span class={css.todoCount} id=\"count\">\n            <strong id=\"number\">{activeTodoCount}</strong> item(s) left\n        </span>\n        <ul class={css.filters} id=\"filters\">\n            {links.map(link => <li\n                    key={link.id}\n                    class={css.filterItem}\n                    id={`link(${link.id})`}\n                ><a\n                    id={`link(${link.id}).a`}\n                    class={todoFooterService.link(filter === link.id)}\n                    href={locationStore.toUrl({todo_filter: link.id})}\n                    data-linkid={link.id}\n                    onClick={clickLink}\n                >{link.title}</a>\n            </li>)}\n        </ul>\n        {completedCount === 0\n            ? null\n            : <button\n                id=\"clear\"\n                class={css.clearCompleted}\n                disabled={clearing}\n                onClick={clearCompleted}>\n                Clear completed\n            </button>\n        }\n    </footer>\n}\n","// @flow\n\nimport {mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\n\nimport TodoRepository from './models/TodoRepository'\n\nimport TodoHeaderView from './TodoHeaderView'\nimport TodoMainView from './TodoMainView'\nimport TodoFooterView from './TodoFooterView'\n\nclass TodoAppTheme {\n    @theme get css() {\n        return {\n            customized: {\n                background: '#ffffef'\n            },\n            todoapp: {\n                background: '#fff',\n                position: 'relative',\n                border: '1px solid #ededed',\n                boxShadow: '0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)'\n            }\n        }\n    }\n}\n\nexport default function TodoAppView(\n    _: {},\n    {\n        theme: {css}\n    }: {\n        // One instance per TodoHeaderView, TodoMainView, TodoFooterView\n        // Without it, all views receives separate instance of TodoRepository\n        repository: TodoRepository;\n        theme: TodoAppTheme;\n    }\n) {\n    return <div rdi_theme class={css.todoapp}>\n        <TodoHeaderView id=\"header\" />\n        <TodoMainView class={css.customized} id=\"main\" />\n        <TodoFooterView id=\"footer\" />\n    </div>\n}\n","// @flow\n\nimport {mem, AtomWait, action} from 'lom_atom'\nimport {props} from 'reactive-di'\nimport {Fetcher} from '../../fetcher'\n\ninterface IAutocompleteProps {\n    initialValue: string;\n    id: string;\n}\n\nclass DebouncedValue {\n    _handler: ?any = null\n    _timeout: number\n\n    constructor(timeout: number) {\n        this._timeout = timeout\n    }\n\n    @mem value<V>(next?: V): V {\n        this.destructor()\n        this._handler = setTimeout(\n            () => mem.cache(this.value(next)),\n            this._timeout\n        )\n        throw new AtomWait()\n    }\n\n    destructor() {\n        if (this._handler) clearTimeout(this._handler)\n    }\n}\n\nclass AutocompleteService {\n    @mem nameToSearch: string = ''\n\n    @props set props({initialValue}: IAutocompleteProps) {\n        this.nameToSearch = initialValue\n    }\n\n    _fetcher: Fetcher\n\n    _debounced = new DebouncedValue(500)\n\n    constructor(fetcher: Fetcher) {\n        this._fetcher = fetcher\n    }\n\n    @mem get searchResults(): string[] {\n        const url = `/autocomplete?q=${this._debounced.value(this.nameToSearch)}`\n        return this._fetcher.get(url).json()\n    }\n\n    @action setValue({target}: Event) {\n        this.nameToSearch = (target: Object).value\n    }\n}\n\nfunction AutocompleteResultsView(\n    _: {},\n    {searchResults}: AutocompleteService\n) {\n    return <ul rdi_theme>\n        {searchResults.map((result: string, i: number) =>\n            <li key={i} id={`list(${i})`}>\n                {result}\n            </li>\n        )}\n    </ul>\n}\n\nexport function AutocompleteView(\n    _: IAutocompleteProps,\n    {nameToSearch, setValue}: AutocompleteService\n) {\n    return <div rdi_theme>\n        <div id=\"filter\">\n            Filter: <input value={nameToSearch} id=\"value\" onInput={setValue}/>\n        </div>\n        Values: <AutocompleteResultsView id=\"results\" />\n    </div>\n}\n","// @flow\n\nimport {action, mem} from 'lom_atom'\nimport {props, theme} from 'reactive-di'\nclass Store {\n    @mem red = 140\n}\n\ninterface CssChangeInputProps {\n    green: number;\n    blue: number;\n}\n\nclass CssChangeInputTheme {\n    _store: Store\n    @props props: CssChangeInputProps\n\n    constructor(store: Store) {\n        this._store = store\n    }\n    @mem get css() {\n        const store = this._store\n        return {\n            wrapper: {\n                '@keyframes @.pulse': {\n                    '0%': {\n                        opacity: 0,\n                        transformOrigin: '50% 50%',\n                        transform: 'scale(0, 0)',\n                    },\n\n                    '100%': {\n                        opacity: 1,\n                        transformOrigin: '50% 50%',\n                        transform: 'scale(1, 1)'\n                    }\n                },\n                _dynamic: true,\n                background: `rgb(${store.red}, ${this.props.green}, ${this.props.blue})`,\n                animationName: '@.pulse',\n                animationDuration: '1s',\n            }\n        }\n    }\n\n    @action setColor({target}: Event) {\n        this._store.red  = Number((target: any).value)\n    }\n}\n\nfunction CssChangeInputView(\n    _: CssChangeInputProps,\n    {store, theme}: { theme: CssChangeInputTheme, store: Store}\n) {\n    return <div rdi_theme class={theme.css.wrapper}>\n        color via css {store.red}: <br id=\"divider\"/><input\n            id=\"range\"\n            type=\"range\"\n            min=\"0\"\n            max=\"255\"\n            step=\"5\"\n            value={store.red}\n            onInput={theme.setColor}\n        />\n    </div>\n}\n\nexport function CssChangeView() {\n    return <div rdi_theme>\n        <CssChangeInputView id=\"first\" green={200} blue={0} />\n        <br id=\"divider\"/>\n        <CssChangeInputView id=\"second\" green={0} blue={200} />\n    </div>\n}\n","// @flow\nimport {theme} from 'reactive-di'\n\nclass KeyValueTheme {\n    @theme get css() {\n        return {\n            item: {\n                display: 'flex'\n            },\n            key: {\n                width: '20%'\n            },\n            value: {\n                width: '80%'\n            }\n        }\n    }\n}\n\nfunction KeyView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div rdi_theme class={css.key}>{children}</div>\n}\n\nfunction ValueView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div rdi_theme class={css.value}>{children}</div>\n}\n\nexport default function ItemView(\n    {children}: {children?: any},\n    {theme: {css}}: {theme: KeyValueTheme}\n) {\n    return <div rdi_theme class={css.item}>{children}</div>\n}\nItemView.Key = KeyView\nItemView.Value = ValueView\n","// @flow\n\nexport type Page<Component, Id> = {\n    component: Component;\n    id: Id;\n    slug: string;\n}\n\nexport default class PageMap<Component, Extra, Pages: {[id: string]: Component}> {\n    _pages: (Page<Component, $Keys<Pages>> & Extra)[]\n\n    constructor(\n        pages: Pages,\n        extra?: {[$Keys<Pages>]: Extra} = {},\n        suffix?: ?string = 'View'\n    ) {\n        const keys = Object.keys(pages)\n        const result = this._pages = []\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i]\n            const id = key\n            const suffixPos = suffix ? key.length - suffix.length : 0\n            const slug = suffix && key.indexOf(suffix) === suffixPos\n                ? key.substring(0, suffixPos).toLowerCase()\n                : key.toLowerCase()\n\n            const page = {id, slug, component: pages[id], ...extra[id]}\n            result.push(page)\n        }\n    }\n\n    map<V>(cb: (item: Page<Component, $Keys<Pages>> & Extra) => V): V[] {\n        return this._pages.map(cb)\n    }\n\n    get(slugOrId?: ?string): Page<Component, $Keys<Pages>> & Extra {\n        const page = slugOrId\n            ? this._pages.find(page => page.slug === slugOrId || page.id === slugOrId)\n            : this._pages[0]\n        if (!page) throw new Error(`Page ${String(slugOrId)} not found`)\n\n        return page\n    }\n}\n","// @flow\n\nimport {action, mem} from 'lom_atom'\nimport {theme} from 'reactive-di'\nimport {CounterView} from './counter'\nimport {HelloView, HelloAsyncView} from './hello'\nimport {TodoAppView} from './todomvc'\nimport {AutocompleteView} from './autocomplete'\nimport {CssChangeView} from './cssChange'\n\nimport ItemView from './ItemView'\nimport AbstractLocationStore from '../rdi/AbstractLocationStore'\nimport PageMap from '../rdi/PageMap'\n\nclass Store {\n    _locationStore: AbstractLocationStore\n\n    pages = new PageMap({\n        HelloView,\n        HelloAsyncView,\n        CounterView,\n        AutocompleteView,\n        TodoAppView,\n        CssChangeView\n    })\n\n    constructor(locationStore: AbstractLocationStore) {\n        this._locationStore = locationStore\n    }\n\n    @theme get css() {\n        const menuButton = {\n            margin: 0,\n            display: 'block',\n            width: '100%',\n            textAlign: 'left',\n            padding: '5px',\n            border: '1px solid #eee',\n            background: 'none',\n            lineHeight: '20px',\n            textDecoration: 'none',\n            cursor: 'pointer',\n            '&:hover': {\n                textDecoration: 'underline'\n            }\n        }\n\n        return {\n            main: {\n                display: 'flex',\n                width: '100%',\n                height: '100%',\n                padding: '1em',\n                font: '14px \"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                lineHeight: '1.4em',\n                background: '#f5f5f5',\n                color: '#4d4d4d',\n                margin: '0 auto',\n                padding: 0,\n                '-webkit-font-smoothing': 'antialiased',\n                '-moz-osx-font-smoothing': 'grayscale',\n                fontWeight: '300'\n            },\n\n            menu: {\n\n            },\n            menuItem: {\n                marginBottom: '0.3em',\n                display: 'block'\n            },\n            menuButton,\n            menuButtonActive: {\n                ...menuButton,\n                background: '#ddd'\n            },\n\n            layout: {\n                margin: '0 0 1em 1em'\n            },\n            apps: {\n                padding: '1em',\n                margin: '0 0 1em 1em'\n            }\n        }\n    }\n\n    displayName: string\n\n    @action setPageSlug(e: Event) {\n        const slug = (e.target: any).dataset.slug || null\n        if (!slug) mem.cache(this.page = new Error(`Provide data-slug attribute for ${String(this.displayName)}.setPageSlug`))\n        this.page = this.pages.get(slug)\n    }\n\n    @mem get page() {\n        return this.pages.get(this._locationStore.location('page'))\n    }\n\n    @mem set page(page: *) {\n        this._locationStore.location('page', page.slug)\n    }\n\n    @mem name = 'John'\n}\n\nexport default function AppView(\n    {lang}: {\n        lang: string;\n    },\n    {store}: {\n        store: Store;\n    }\n) {\n    const {css, page} = store\n    return <div rdi_theme class={css.main}>\n        <ul id=\"menu\" class={css.menu}>\n            {store.pages.map(item =>\n                <li\n                    id={`item(${item.id})`}\n                    key={item.id}\n                    class={css.menuItem}\n                ><button\n                    id={`button(${item.id})`}\n                    class={page === item ? css.menuButtonActive : css.menuButton}\n                    data-slug={item.slug}\n                    onClick={store.setPageSlug}\n                >{item.id}</button></li>\n            )}\n        </ul>\n        <div id=\"apps\" class={css.apps}>\n            <div id=\"layout\" class={css.layout}>\n                <h1 id=\"title\">{page.id}</h1>\n                <page.component id={page.id} initialValue={store.name} />\n            </div>\n\n            <ItemView id=\"inital\">\n                <ItemView.Key id=\"key\">Some value:</ItemView.Key>\n                <ItemView.Value id=\"value\">\n                    <input\n                        id=\"value-input\"\n                        value={store.name}\n                        onInput={({target}: Event) => { store.name = (target: any).value }}\n                    />\n                </ItemView.Value>\n            </ItemView>\n            <div id=\"emulate-message\">\n                Type <strong id=\"code-1\">rdi_fetch_error_rate = 0</strong> in console\n                for disabling server error emulation. <strong id=\"code-2\">rdi_fetch_error_rate = 100</strong> for 100% errors.\n            </div>\n        </div>\n    </div>\n}\n","// @flow\nimport './mocks'\nimport './setup'\nimport {render} from 'preact'\nimport AppView from './AppView'\n\nconst el = document.getElementById('app')\nif (!el) throw new Error('Document has no #app container')\n\nrender(<AppView id=\"demos\" lang=\"ru\" />, el)\n"],"names":["global","self","window","undefined","delayed","mock","delay","errorRate","fakeErrorText","resp","url","params","Promise","resolve","reject","globalRate","rate","Math","floor","random","Error","response","match","matcher","slice","RegExp","apiMocker","fetchMock","mocks","storage","localStorage","forEach","data","Storage","glob","opts","TypeError","str","String","reStr","extended","globstar","inGroup","flags","c","i","len","length","prevChar","starCount","nextChar","isGlobstar","indexOf","Array","isArray","arr","Object","prototype","toString","call","pathToRegexp","parse","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","join","options","tokens","key","index","path","defaultDelimiter","delimiter","res","exec","m","escaped","offset","next","prefix","name","capture","group","modifier","asterisk","push","partial","repeat","optional","pattern","escapeGroup","escapeString","substr","encodeURIComponentPretty","encodeURI","replace","charCodeAt","toUpperCase","encodeAsterisk","matches","obj","encode","pretty","encodeURIComponent","token","value","segment","isarray","JSON","stringify","j","test","attachKeys","re","keys","sensitive","regexpToRegexp","groups","source","arrayToRegexp","parts","regexp","stringToRegexp","strict","end","route","endsWithDelimiter","_extends","assign","target","arguments","hasOwnProperty","stringMatchers","begin","targetString","urlRX","_glob","express","_express","getHeaderMatcher","expectedHeaders","HeadersConstructor","expectation","map","k","toLowerCase","headers","raw","lowerCaseHeaders","reduce","every","header","areHeadersEqual","currentHeader","expectedHeader","val","currentHeaderValue","expectedHeaderValue","normalizeRequest","Request","isPrototypeOf","method","__unnamed","matchUrl","expectedMethod","matchMethod","matchHeaders","some","warn","expectedUrl","req","times","timesLeft","reset","_typeof","Symbol","iterator","constructor","FetchMock","routes","_calls","_matchedCalls","_unmatchedCalls","_holdingPromises","bindMethods","bind","restore","addRoute","_mock","once","isSandbox","realFetch","fetch","_unMock","fallbackResponse","catch","spy","_this","resolveHoldingPromise","holdingPromise","router","then","responsePromise","mockResponse","il","compileRoute","Headers","responseConfig","fetchOpts","Response","respond","throws","body","status","__redirectUrl","parseInt","statusText","statusTextMap","sendAsJson","config","includeContentLength","has","set","stream","s","Readable","create","text","json","flush","all","calls","lastCall","matched","lastUrl","lastOptions","called","done","_this2","names","r","expectedTimes","filter","actualTimes","bool","configure","setImplementations","implementations","sandbox","instance","boundMock","proxy","apply","functionInstance","theGlobal","autocompleteMocks","rawStorage","fixture","userName","BrowserLocalStorage","_storage","_key","get","getItem","setItem","clear","removeItem","clearAll","uuid","getBody","sortByDate","el1","el2","created","Date","todoMocks","infos","defaultTodos","newTodos","sort","id","find","inf","description","todos","updates","Map","todo","ids","newTodo","concat","actionId","ATOM_STATUS_DESTROYED","ATOM_STATUS_OBSOLETE","ATOM_STATUS_CHECKING","ATOM_STATUS_PULLING","ATOM_STATUS_ACTUAL","ATOM_STATUS_DEEP_RESET","ATOM_FORCE_NONE","ATOM_FORCE_CACHE","ATOM_FORCE_ASYNC","ATOM_FORCE_RETRY","scheduleNative","requestAnimationFrame","handler","setTimeout","Defer","_queue","add","schedule","rewind","queue","defer","reap","atom","reaping","delete","slaves","destructor","Context","current","_logger","_updating","_reaping","Set","_scheduled","_owners","WeakMap","_run","sync","_start","_destroyValue","from","e","error","destroyHost","onDestruct","setLogger","logger","newValue","to","proposeToPull","_schedule","proposeToReap","unreap","updating","start","actualize","size","defaultContext","catchedId","AtomWait","message","t","new","AtomWaitInt","getId","hk","displayName","setFunctionName","fn","defineProperty","origId","throwOnAccess","valueOf","proxify","v","Proxy","handlers","arrayHandler","stack","equal","conformed","conform","objectHandler","count","dateHandler","getTime","processed","conformHandler","pop","checkSlave","slave","check","obsoleteSlave","obsolete","deleteSlave","master","dislead","actualizeMaster","proxyId","Atom","keyHash","hostAtoms","manualReset","_masters","_slaves","_retry","_handler","_hostAtoms","_keyHash","_next","_suggested","toJSON","forceCache","context","obsoleteSlaves","_push","addMaster","normalized","_conform","deepReset","refresh","nextRaw","prev","masters","_checkSlaves","getRetry","_inheritsLoose","subClass","superClass","__proto__","_assertThisInitialized","ReferenceError","ReactAtom","owner","_update","_propsChanged","_owner","forceUpdate","createActionMethod","host","methodName","actionFn","args","createDeferedAction","action","deferedAction","descr","definingProperty","enumerable","actionDefer","actionSync","createGetSetHandler","getSetHandler","createValueHandler","initializer","valueHandler","mem","proto","handlerKey","longName","configurable","memManual","getKey","memkey","rawKey","atomMap","memkeyManual","manual","cache","getRetryResult","defineProperties","stringToColor","hash","color","abs","substring","ConsoleLogger","_useColors","useColors","_filter","beginGroup","endGroup","groupEnd","debug","err","rdiInst","rdiProp","depId","rdiId","Alias","dest","Injector","aliases","sheetManager","state","props","_sheet","_resolved","_listeners","_state","parentContext","_flags","_cache","item","src","getClassName","debugName","sheet","createSheet","isDynamic","_dynamic","addRule","invoke","depName","prop","isFn","deps","_r","a","alias","rawId","newKey","invokeWithProps","propsChanged","listeners","listener","copy","argDeps","result","resolved","l","argDep","dep","createReactWrapper","BaseComponent","ErrorComponent","Reaction","rootInjector","isFullEqual","AtomizedComponent","reactContext","_lastData","injector","cns","__lom_ctx","_render","render","_injector","_reaction","shouldComponentUpdate","oldProps","componentWillUnmount","prevContext","onError","reactWrapper","WrappedComponent","createCreateElement","atomize","createElement","modifyId","lomCreateElement","attrs","el","newEl","isAtomic","pid","rdi_id","aClass","class","rdi_theme","pClass","pStyle","style","aStyle","__lom","newArgs","dn","cons","provideMap","cloneComponent","cloned","writable","subRulesId","nameId","ruleId","BAD_CLASS_SYMBOLS","KEYFRAMES","replaceProps","placeholder","replaceTo","JssSheet","jssSheet","usageCount","_lastAttached","_toDelete","css","rule","getRule","classNamePrefix","newCss","subRules","update","classes","_deleteRule","deleteRule","attach","defaultSchedule","cb","JssSheetManager","jss","_jss","createGenerateClassName","generateClassName","sheetKey","meta","_badClassSymbols","createStyleSheet","scheduled","_sync","removeStyleSheet","addDebugInfo","themeProp","className","getSheet","theme","VNode","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","p","vnode","extend","cloneElement","ASYNC_RENDER","enqueueRender","hydrating","_componentConstructor","createNode","node","cssText","old","isSvg","eventProxy","setProperty","mounts","document","dom","originalChildren","keyed","keyedLen","childrenLen","_child","vlen","_component","components","Ctor","splice","component","ref","previousProps","previousState","nextBase","skip","getNodeProps","originalComponent","createComponent","base","inner","ATTR_KEY","createReactElement","createReactDOMComponent","childNodes","nodeType","Node","ELEMENT_NODE","isText","TEXT_NODE","textContent","updateReactComponent","typeName","element","type","createReactCompositeComponent","_currentElement","setState","_instance","_renderedComponent","instanceMap","componentOrNode","newInstance","inst","nextRootKey","roots","findRoots","createDevToolsBridge","ComponentTree","parentNode","Mount","Reconciler","componentAdded","isRootComponent","_rootID","_renderNewRootComponent","_inDevTools","mountComponent","childInst","componentUpdated","prevRenderedChildren","receiveComponent","contains","unmountComponent","componentRemoved","_parentComponent","__u","parentElement","visitNonCompositeChildren","visitor","_renderedChildren","initDevTools","__REACT_DEVTOOLS_GLOBAL_HOOK__","bridge","nextAfterMount","afterMount","nextAfterUpdate","afterUpdate","nextBeforeUnmount","beforeUnmount","inject","exports","styles","extract","extracted","toCssValue","by","ignoreImportant","cssValue","_createClass","descriptor","Constructor","protoProps","staticProps","_classCallCheck","SheetsRegistry","registry","remove","attached","warning","condition","format","argIndex","console","x","_warning2","_interopRequireDefault","_warning","__esModule","SheetsManager","sheets","refs","manage","unmanage","detach","toCss","_toCssValue2","_toCssValue","indentStr","indent","selector","_options$indent","fallbacks","fallback","_prop","_value","_prop2","_value2","allowEmpty","_toCss2","_toCss","StyleRule","isProcessed","Renderer","selectorText","renderer","plugins","onChangeValue","isEmpty","isDefined","renderable","removeProperty","applyTo","link","hasChanged","setSelector","replaceRule","symbolObservablePonyfill","root","observable","module","Function","ponyfill","_symbolObservable2","_symbolObservable","cloneStyle","_isObservable2","_isObservable","typeOfStyle","newStyle","createRule","_StyleRule2","_StyleRule","_cloneStyle2","_cloneStyle","decl","declCopy","onCreateRule","linkRule","cssRule","rules","cssRules","CSS","env","escapeRegex","escape","_createRule2","_createRule","_linkRule2","_linkRule","_escape2","_escape","RuleList","_options","parent","register","unregister","process","onProcessRule","_options2","onUpdate","getUnescapedKeysMap","_SheetsRegistry2","_SheetsRegistry","_RuleList2","_RuleList","StyleSheet","deployed","linked","deploy","insertRule","addRules","added","getRules","ns","_StyleSheet2","_StyleSheet","_moduleId2","_moduleId","maxRules","ruleCounter","defaultPrefix","jssId","isBrowser","PluginsRegistry","hooks","onProcessStyle","nextStyle","onProcessSheet","processedValue","use","plugin","SimpleRule","KeyframesRule","frames","ConditionalRule","FontFaceRule","ViewportRule","_SimpleRule2","_SimpleRule","_KeyframesRule2","_KeyframesRule","_ConditionalRule2","_ConditionalRule","_FontFaceRule2","_FontFaceRule","_ViewportRule2","_ViewportRule","style$","subscribe","styleRule","_loop","nextValue","_ret","now","fnValuesNs","fnStyleNs","fnStyle","_sheets2","_sheets","memoize","getPropertyValue","CSSRuleTypes","extractKey","STYLE_RULE","KEYFRAMES_RULE","getHead","head","getElementsByTagName","isAttached","appendChild","_style","removeChild","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","nodeValue","trim","findPrevNode","nextElementSibling","comment","nextSibling","insertStyle","prevNode","insertBefore","insertionPointElement","_parentNode","getNonce","querySelector","getAttribute","DomRenderer","hasInsertedRules","_ref","media","setAttribute","nonce","_index","newCssRule","VirtualRenderer","_isInBrowser2","_isInBrowser","_PluginsRegistry2","_PluginsRegistry","_rules2","_rules","_observables2","_observables","_functions2","_functions","_createGenerateClassName2","_createGenerateClassName","_createRule3","_DomRenderer2","_DomRenderer","_VirtualRenderer2","_VirtualRenderer","defaultPlugins","instanceCounter","Jss","version","setup","virtual","ruleOptions","_len","_getDynamicStyles","_SheetsManager","_Jss2","_Jss","uppercasePattern","msPattern","hyphenateStyleName","string","camelCase","_hyphenateStyleName2","_hyphenateStyleName","convertCase","converted","hyphenatedProp","jssGlobal","propKey","prefixKey","GlobalContainerRule","GlobalPrefixedRule","separatorRegExp","addScope","scope","split","scoped","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","jssNested","parentRegExp","refRegExp","getReplaceRef","container","default","hasAnd","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","nested","getOptions","nestingLevel","replaceRef","isNested","isNestedConditional","AbstractLocationStore","toUrl","newParams","location","BrowserLocationStore","history","_ns","_location","_history","_params","URLSearchParams","search","q","origin","pushState","Location","History","TimeoutError","timeout","statusCode","timeoutPromise","promise","tm","race","safeToJson","HttpError","uid","_opts","retry","requestId","fullUrl","FetcherResponse","fetcher","_disposed","_getRetry","_fetcher","_getState","apiData","mergeOptions","request","_setData","WaitError","Fetcher","baseUrl","_baseUrl","rec","_init","init","_timeout","_collector","collector","normalizeResponse","beginFetch","endFetch","getFullUrl","bu","mask","_request","post","put","patch","FetcherResponseLom","FetcherLom","SpinnerTheme","spinner","SpinnerView","isError","spinnerError","stackId","ErrorableView","errorWasShowed","isWait","themer","createJss","jssCamel","Component","FirstCounterService","lang","CounterMessageView","FirstCounterView","_","counter","SecondCounterService","SecondCounterMessageView","SecondCounterAddButtonView","onClick","SecondCounterView","ThirdCounterAddButtonView","ThirdCounterView","CounterView","HelloContext","initialValue","HelloView","greet","HelloAsyncContext","HelloAsyncView","Todo","store","completed","title","_store","saving","removing","toggle","TODO_FILTER","TodoRepository","addTodo","adding","toggleAll","patching","clearCompleted","clearing","sum","activeTodoCount","patches","patchMap","delIds","delSet","ALL","COMPLETE","ACTIVE","TodoToAdd","todoRepository","_todoRepository","setRef","focus","onInput","onKeyDown","keyCode","TodoHeaderTheme","background","boxShadow","boxSizing","TodoHeaderView","todoToAdd","ESCAPE_KEY","ENTER_KEY","TodoItemEdit","beginEdit","todoBeingEditedId","editText","setText","setEditInputRef","submit","event","keyDown","which","TodoItemTheme","label","isCompleted","viewLabelCompleted","viewLabelRegular","editable","regular","itemBase","viewLabelBase","TodoItemView","todoItemEdit","editing","edit","destroy","TodoMainTheme","TodoMainView","filteredTodos","main","todoList","TodoFooterService","repository","links","_repository","clickLink","preventDefault","dataset","linkid","isSelected","linkSelected","linkRegular","linkBase","TodoFooterView","completedCount","todoFooterService","locationStore","footer","todoCount","filters","filterItem","TodoAppTheme","TodoAppView","todoapp","customized","DebouncedValue","clearTimeout","AutocompleteService","nameToSearch","_debounced","setValue","AutocompleteResultsView","searchResults","AutocompleteView","Store","CssChangeInputTheme","setColor","red","Number","green","blue","CssChangeInputView","wrapper","CssChangeView","KeyValueTheme","KeyView","ValueView","ItemView","Key","Value","PageMap","pages","extra","suffix","_pages","suffixPos","slug","page","slugOrId","_locationStore","setPageSlug","menuButton","fontWeight","AppView","menu","menuItem","menuButtonActive","apps","layout","getElementById"],"mappings":"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"}